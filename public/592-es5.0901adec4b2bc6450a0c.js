!function(){function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function t(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}(self.webpackChunkbdp_client=self.webpackChunkbdp_client||[]).push([[592],{75119:function(n,a,i){"use strict";i.d(a,{Y:function(){return p},s:function(){return f}});var o=i(61116),s=i(35366);function c(e,n){1&e&&s._UZ(0,"div",9)}function r(e,n){if(1&e&&(s.TgZ(0,"span",10),s._uU(1),s.qZA()),2&e){var t=s.oxw().$implicit;s.xp6(1),s.Oqu(t.description)}}function l(e,n){if(1&e&&(s.TgZ(0,"section",11),s._UZ(1,"ngx-json-viewer",12),s.qZA()),2&e){var t=s.oxw().$implicit,a=s.oxw();s.xp6(1),s.Q6J("json",t.value)("expanded",a.expanded)("depth",a.depth)("_currentDepth",a._currentDepth)}}var g=function(e){return["segment",e]},u=function(e,n){return{"segment-main":!0,expandable:e,expanded:n}};function d(e,n){if(1&e){var t=s.EpF();s.TgZ(0,"section",2),s.TgZ(1,"section",3),s.NdJ("click",function(){var e=s.CHM(t).$implicit;return s.oxw().toggle(e)}),s.YNc(2,c,1,0,"div",4),s.TgZ(3,"span",5),s._uU(4),s.qZA(),s.TgZ(5,"span",6),s._uU(6,": "),s.qZA(),s.YNc(7,r,2,1,"span",7),s.qZA(),s.YNc(8,l,2,4,"section",8),s.qZA()}if(2&e){var a=n.$implicit,i=s.oxw();s.Q6J("ngClass",s.VKq(6,g,"segment-type-"+a.type)),s.xp6(1),s.Q6J("ngClass",s.WLB(8,u,i.isExpandable(a),a.expanded)),s.xp6(1),s.Q6J("ngIf",i.isExpandable(a)),s.xp6(2),s.Oqu(a.key),s.xp6(3),s.Q6J("ngIf",!a.expanded||!i.isExpandable(a)),s.xp6(1),s.Q6J("ngIf",a.expanded&&i.isExpandable(a))}}var p=function(){var n=function(){function n(){e(this,n),this.expanded=!0,this.depth=-1,this._currentDepth=-1,this.segments=[]}return t(n,[{key:"ngOnChanges",value:function(){var e=this;this.segments=[],this.json=this.decycle(this.json),this._currentDepth++,"object"==typeof this.json?Object.keys(this.json).forEach(function(n){e.segments.push(e.parseKeyValue(n,e.json[n]))}):this.segments.push(this.parseKeyValue("(".concat(typeof this.json,")"),this.json))}},{key:"isExpandable",value:function(e){return"object"===e.type||"array"===e.type}},{key:"toggle",value:function(e){this.isExpandable(e)&&(e.expanded=!e.expanded)}},{key:"parseKeyValue",value:function(e,n){var t={key:e,value:n,type:void 0,description:""+n,expanded:this.isExpanded()};switch(typeof t.value){case"number":t.type="number";break;case"boolean":t.type="boolean";break;case"function":t.type="function";break;case"string":t.type="string",t.description='"'+t.value+'"';break;case"undefined":t.type="undefined",t.description="undefined";break;case"object":null===t.value?(t.type="null",t.description="null"):Array.isArray(t.value)?(t.type="array",t.description="Array["+t.value.length+"] "+JSON.stringify(t.value)):t.value instanceof Date?t.type="date":(t.type="object",t.description="Object "+JSON.stringify(t.value))}return t}},{key:"isExpanded",value:function(){return this.expanded&&!(this.depth>-1&&this._currentDepth>=this.depth)}},{key:"decycle",value:function(e){var n=new WeakMap;return function e(t,a){var i,o;return"object"!=typeof t||null===t||t instanceof Boolean||t instanceof Date||t instanceof Number||t instanceof RegExp||t instanceof String?t:void 0!==(i=n.get(t))?{$ref:i}:(n.set(t,a),Array.isArray(t)?(o=[],t.forEach(function(n,t){o[t]=e(n,a+"["+t+"]")})):(o={},Object.keys(t).forEach(function(n){o[n]=e(t[n],a+"["+JSON.stringify(n)+"]")})),o)}(e,"$")}}]),n}();return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngx-json-viewer"]],inputs:{expanded:"expanded",depth:"depth",_currentDepth:"_currentDepth",json:"json"},features:[s.TTD],decls:2,vars:1,consts:[[1,"ngx-json-viewer"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[3,"ngClass","click"],["class","toggler",4,"ngIf"],[1,"segment-key"],[1,"segment-separator"],["class","segment-value",4,"ngIf"],["class","children",4,"ngIf"],[1,"toggler"],[1,"segment-value"],[1,"children"],[3,"json","expanded","depth","_currentDepth"]],template:function(e,n){1&e&&(s.TgZ(0,"section",0),s.YNc(1,d,9,11,"section",1),s.qZA()),2&e&&(s.xp6(1),s.Q6J("ngForOf",n.segments))},directives:[o.sg,o.mk,o.O5,n],styles:['@charset "UTF-8";.ngx-json-viewer[_ngcontent-%COMP%]{font-family:monospace;font-size:1em;height:100%;overflow:hidden;position:relative;width:100%}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]{margin:1px 1px 1px 12px;padding:2px}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]{word-wrap:break-word}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]{color:#787878;font-size:.8em;line-height:1.2em;margin-left:-14px;margin-top:3px;position:absolute;vertical-align:middle}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]:after{content:"\u25ba";display:inline-block;transition:transform .1s ease-in}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-key[_ngcontent-%COMP%]{color:#4e187c}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-separator[_ngcontent-%COMP%]{color:#999}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-value[_ngcontent-%COMP%]{color:#000}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .children[_ngcontent-%COMP%]{margin-left:12px}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-string[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:#ff6b6b}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-number[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:#009688}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-boolean[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:#b938a4}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-date[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:#05668d}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-array[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-function[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-object[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:#999}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-null[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:#fff}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-null[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{background-color:red}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-key[_ngcontent-%COMP%]{color:#999}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{background-color:#999}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-array[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-object[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%]{white-space:nowrap}.ngx-json-viewer[_ngcontent-%COMP%]   .expanded[_ngcontent-%COMP%] > .toggler[_ngcontent-%COMP%]:after{transform:rotate(90deg)}.ngx-json-viewer[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%] > .toggler[_ngcontent-%COMP%]{cursor:pointer}']}),n}(),f=function(){var n=function n(){e(this,n)};return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[o.ez]]}),n}()},35653:function(n,a,i){"use strict";i.d(a,{O:function(){return c}});var o=i(35366),s=["preEl"],c=function(){var n=function(){function n(t){e(this,n)}return t(n,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(e){if(this.preEl&&e.text){var n=this.preEl.nativeElement;setTimeout(function(){return n.scrollTop=n.scrollHeight},1)}}}]),n}();return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq))},n.\u0275cmp=o.Xpm({type:n,selectors:[["chi-terminal"]],viewQuery:function(e,n){var t;(1&e&&o.Gf(s,7),2&e)&&(o.iGM(t=o.CRH())&&(n.preEl=t.first))},inputs:{text:"text"},features:[o.TTD],decls:3,vars:1,consts:[["preEl",""]],template:function(e,n){1&e&&(o.TgZ(0,"pre",null,0),o._uU(2),o.qZA()),2&e&&(o.xp6(2),o.Oqu(n.text))},styles:["pre[_ngcontent-%COMP%]{font-size:10px;min-width:640px;max-height:600px;font-family:Consolas,monospace;background-color:rgba(0,0,0,.7);color:#fff;padding:5px;white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word;overflow-wrap:break-word;word-break:break-all}"]}),n}()},3673:function(n,t,a){"use strict";a.d(t,{E:function(){return o}});var i=a(35366),o=function(){var n=function n(){e(this,n)};return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:[],imports:[[]]}),n}()},76261:function(n,a,i){"use strict";i.d(a,{A:function(){return _}});var o=i(35366),s=i(55055),c=i(50144),r=i(61116),l=i(22797),g=i(84369);function u(e,n){if(1&e&&(o.TgZ(0,"div",14),o._UZ(1,"i",15),o.qZA()),2&e){var t=o.oxw(2);o.xp6(1),o.Q6J("ngClass",t.checkBoxCSS())}}function d(e,n){if(1&e&&(o.TgZ(0,"span",16),o._uU(1),o.qZA()),2&e){var t=n.$implicit;o.xp6(1),o.hij(" ",t," ")}}function p(e,n){1&e&&(o.TgZ(0,"span",17),o._uU(1,"No description."),o.qZA())}function f(e,n){if(1&e&&(o.TgZ(0,"span",18),o._uU(1),o.qZA()),2&e){var t=o.oxw(2);o.xp6(1),o.Oqu(t.dataFile.desc.length>60?(null==t.dataFile.desc?null:t.dataFile.desc.slice(0,56))+" ...":t.dataFile.desc)}}function m(e,n){1&e&&(o.TgZ(0,"span",26),o._uU(1,"Read only"),o.qZA())}function h(e,n){if(1&e){var t=o.EpF();o.ynx(0),o.TgZ(1,"button",19),o.NdJ("click",function(){return o.CHM(t),o.oxw(2).gotoDataFile(!1)}),o._UZ(2,"i",20),o.qZA(),o.TgZ(3,"button",21),o.NdJ("click",function(){return o.CHM(t),o.oxw(2).gotoDataFile(!0)}),o._UZ(4,"i",22),o.qZA(),o.TgZ(5,"span",23),o._uU(6,"Status: "),o._UZ(7,"i",24),o.qZA(),o.YNc(8,m,2,0,"span",25),o.BQk()}if(2&e){var a=o.oxw(2);o.xp6(3),o.Q6J("disabled",null==a.dataFile?null:a.dataFile.readOnly),o.xp6(4),o.Q6J("ngClass",a.setStatusCSS(null==a.dataFile?null:a.dataFile.status)),o.xp6(1),o.Q6J("ngIf",null==a.dataFile?null:a.dataFile.readOnly)}}var x=function(e){return["/dataFile",e,"info"]};function v(e,n){if(1&e){var t=o.EpF();o.TgZ(0,"mat-card",1),o.NdJ("click",function(e){return o.CHM(t),o.oxw().toggleControls(e)}),o.TgZ(1,"mat-card-header"),o.YNc(2,u,2,1,"div",2),o.TgZ(3,"div",3),o._UZ(4,"i",4),o.qZA(),o.TgZ(5,"mat-card-title"),o.TgZ(6,"u",5),o._uU(7),o.qZA(),o.TgZ(8,"b",6),o._uU(9),o.qZA(),o.TgZ(10,"u",5),o._uU(11),o.qZA(),o.TgZ(12,"a",7),o._UZ(13,"span",8),o.qZA(),o.qZA(),o.qZA(),o.TgZ(14,"mat-card-content"),o.YNc(15,d,2,1,"span",9),o._UZ(16,"br"),o.YNc(17,p,2,0,"span",10),o.YNc(18,f,2,1,"span",11),o._UZ(19,"br"),o.qZA(),o.TgZ(20,"mat-card-actions"),o.YNc(21,h,9,3,"ng-container",12),o.qZA(),o.TgZ(22,"mat-card-footer"),o.TgZ(23,"small",13),o._uU(24),o.qZA(),o.qZA(),o.qZA()}if(2&e){var a=o.oxw();o.Udp("border",a.dataFile.hidden?"dashed 1px black":"solid 1px black")("cursor","checkBox"===a.role?"pointer":"default"),o.ekj("focus","checkBox && !disabled"==a.role&&a.checked)("blur",a.disabled||"checkBox"==a.role&&!a.checked)("datafile-card","checkBox"===a.role),o.xp6(2),o.Q6J("ngIf","checkBox"==a.role),o.xp6(2),o.Q6J("ngClass",a.fileTypeCSS()),o.xp6(3),o.Oqu(null==a.dataFile?null:a.dataFile.prefix),o.xp6(2),o.Oqu(null==a.dataFile?null:a.dataFile.name),o.xp6(2),o.Oqu(null==a.dataFile?null:a.dataFile.suffix),o.xp6(1),o.Q6J("routerLink",o.VKq(21,x,a.dataFile.id)),o.xp6(3),o.Q6J("ngForOf",null==a.dataFile?null:a.dataFile.tags),o.xp6(2),o.Q6J("ngIf",!a.dataFile.desc),o.xp6(1),o.Q6J("ngIf",a.dataFile.desc),o.xp6(3),o.Q6J("ngIf","checkBox"!==a.role),o.xp6(3),o.Oqu(null==a.dataFile||null==a.dataFile.createdAt?null:a.dataFile.createdAt.fromNow())}}var _=function(){var n=function(){function n(t,a){e(this,n),this.infoService=t,this.router=a,this.checked=!1,this.disabled=!1,this.onFocused=new o.vpe,this.dataFileCardState="normal",this.mode="normal",this._subs=[]}return t(n,[{key:"ngOnInit",value:function(){var e=this;this._subs.push(this.infoService.incomingMessage$.subscribe(function(n){"26"===n.code&&n.attached&&e.dataFile&&n.attached.id===e.dataFile.id&&e.makeHighlight()}))}},{key:"setStatusCSS",value:function(e){var n={"fa-circle-o-notch":!1,"fa-spin":!1,"fa-hourglass-half":!1,"fa-check":!1,"fa-times":!1,"fa-trash":!1};switch(e){case 0:n["fa-circle-o-notch"]=!0,n["fa-spin"]=!0;break;case 1:n["fa-check"]=!0;break;case 2:n["fa-hourglass-half"]=!0;break;case 3:n["fa-trash"]=!0;break;case 4:n["fa-times"]=!0}return n}},{key:"makeHighlight",value:function(){var e=this;clearTimeout(this.timer),this.dataFileCardState="highlight",setTimeout(function(){return e.dataFileCardState="normal"},800)}},{key:"toggleControls",value:function(e){if(!this.disabled)return"checkBox"===this.role?(this.checked=!this.checked,void this.onFocused.emit(this.dataFile)):void this.onFocused.emit(this.dataFile)}},{key:"fileTypeCSS",value:function(){var e={"fa-file":!1,"fa-folder":!1};if(!this.dataFile)return e;switch(this.dataFile.format){case"Folder":e["fa-folder"]=!0;break;default:e["fa-file"]=!0}return e}},{key:"gotoDataFile",value:function(e){this.dataFile&&this.router.navigate(["/dataFile",this.dataFile.id,"info"],e?{queryParams:{edit:1}}:{})}},{key:"checkBoxCSS",value:function(){var e={"fa-check-square":!1,"fa-square":!1,"text-success":!1};return this.checked?(e["fa-check-square"]=!0,e["text-success"]=!0):e["fa-square"]=!0,e}},{key:"ngOnDestroy",value:function(){this._subs.forEach(function(e){return e.unsubscribe()}),clearTimeout(this.timer)}}]),n}();return n.\u0275fac=function(e){return new(e||n)(o.Y36(s.C),o.Y36(c.F0))},n.\u0275cmp=o.Xpm({type:n,selectors:[["datafile-card"]],inputs:{dataFile:"dataFile",role:"role",checked:"checked",disabled:"disabled"},outputs:{onFocused:"onFocused"},decls:1,vars:1,consts:[["style","width: 100%; min-height: 180px;",3,"focus","blur","border","cursor","datafile-card","click",4,"ngIf"],[2,"width","100%","min-height","180px",3,"click"],["style","position:absolute; top: 2px; right:0px;",4,"ngIf"],["mat-card-avatar",""],["aria-hidden","true",1,"fa","fa-fw","fa-2x","pull-left",3,"ngClass"],[1,"text-muted",2,"white-space","pre"],[2,"word-break","break-all"],["target","_blank",1,"link","ml-3",3,"routerLink"],[1,"fas","fa-external-link-alt"],["class","badge badge-primary","style","margin: 2px;",4,"ngFor","ngForOf"],["style","font-size: 8pt;",4,"ngIf"],["style","font-size: 8pt; text-indent: 24px;line-height: 90%;",4,"ngIf"],[4,"ngIf"],[2,"float","right"],[2,"position","absolute","top","2px","right","0px"],["aria-hidden","true",1,"far","fa-2x","fa-fw",3,"ngClass"],[1,"badge","badge-primary",2,"margin","2px"],[2,"font-size","8pt"],[2,"font-size","8pt","text-indent","24px","line-height","90%"],["mat-button","",3,"click"],[1,"fas","fa-file","fa-lg"],["mat-button","",3,"disabled","click"],[1,"fas","fa-pencil-alt","fa-lg"],[1,"clearfix",2,"position","absolute","bottom","0px","right","0px","font-size","8pt"],[1,"fa","fa-fw",3,"ngClass"],["class","text-muted pull-left","style","font-size:4pt",4,"ngIf"],[1,"text-muted","pull-left",2,"font-size","4pt"]],template:function(e,n){1&e&&o.YNc(0,v,25,23,"mat-card",0),2&e&&o.Q6J("ngIf",n.dataFile)},directives:[r.O5,l.a8,l.dk,l.kc,r.mk,l.n5,c.yS,l.dn,r.sg,l.hq,l.rt,g.lW],styles:[".focus[_ngcontent-%COMP%]{box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22);transition:all .3s cubic-bezier(.25,.8,.25,1);opacity:1}.blur[_ngcontent-%COMP%]{opacity:.5}button[_ngcontent-%COMP%]{min-width:.1%}.datafile-card[_ngcontent-%COMP%]:hover{box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22);background-color:#fff3cd}"]}),n}()}}])}();