!function(){function t(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||i(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],i=!0,r=!1,c=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(o){r=!0,c=o}finally{try{i||null==s.return||s.return()}finally{if(r)throw c}}return n}(t,e)||i(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=i(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,c=function(){};return{s:c,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,o=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){o=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw a}}}}function i(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"0k1G":function(i,r,a){"use strict";a.r(r),a.d(r,"ProjectModule",function(){return Ec});var o,u,l,b,d=a("ofXK"),f=a("3Pt+"),p=a("/1cH"),h=a("bTqV"),g=a("jaxi"),m=a("Wp6s"),v=a("bSwM"),T=a("A5z7"),k=a("7EHt"),C=a("NFeN"),y=a("qFsG"),U=a("M9IT"),w=a("d3UM"),I=a("xHqg"),P=a("wZkO"),L=a("f0Cb"),j=a("MutI"),x=a("QibW"),S=a("nNey"),_=a("5+WD"),O=a("fXoL"),M=a("R0Ic"),J=["ngx-masonry",""],F=["*"],R=((b=function(){function t(e,n){c(this,t),this.platformId=e,this._element=n,this.updateLayout=!1,this.ordered=!1,this.layoutComplete=new O.o,this.removeComplete=new O.o,this.itemsLoaded=new O.o,this.pendingItems=[]}return s(t,[{key:"ngOnInit",value:function(){var t=this;Object(d.x)(this.platformId)&&void 0===o&&(o=a("hNNL")),this.options||(this.options={}),this.options.itemSelector||(this.options.itemSelector="[ngxMasonryItem], ngxMasonryItem"),this.options.transitionDuration="0s",Object(d.x)(this.platformId)&&(this.masonryInstance=new o(this._element.nativeElement,this.options),this.masonryInstance.on("layoutComplete",function(e){t.layoutComplete.emit(e)}),this.masonryInstance.on("removeComplete",function(e){t.removeComplete.emit(e)}))}},{key:"ngOnChanges",value:function(t){t.updateLayout&&(t.updateLayout.firstChange||this.layout())}},{key:"ngOnDestroy",value:function(){this.masonryInstance&&this.masonryInstance.destroy()}},{key:"layout",value:function(){var t=this;setTimeout(function(){t.masonryInstance.layout()})}},{key:"reloadItems",value:function(){var t=this;setTimeout(function(){t.masonryInstance.reloadItems()})}},{key:"addPendingItem",value:function(t){this.pendingItems.push(t)}},{key:"add",value:function(t){if(this.ordered){var i,r=n(this.pendingItems.entries());try{for(r.s();!(i=r.n()).done;){var c=e(i.value,2),a=c[0],s=c[1];if(s){if(!s.images||0!==s.images.size)return;this.pendingItems[a]=void 0,this.itemLoaded(s),a+1===this.pendingItems.length&&(this.itemsLoaded.emit(this.pendingItems.length),this.pendingItems=[])}}}catch(o){r.e(o)}finally{r.f()}}else this.itemLoaded(t)}},{key:"itemLoaded",value:function(t){t.prepend?this.masonryInstance.prepended(t.element.nativeElement):this.masonryInstance.appended(t.element.nativeElement),1===this.masonryInstance.items.length&&this.masonryInstance.layout(),t.playAnimation(!0)}},{key:"remove",value:function(t){this.masonryInstance.remove(t),this.layout()}}]),t}()).\u0275fac=function(t){return new(t||b)(O.Ob(O.D),O.Ob(O.l))},b.\u0275cmp=O.Ib({type:b,selectors:[["","ngx-masonry",""],["ngx-masonry"]],inputs:{updateLayout:"updateLayout",ordered:"ordered",options:"options"},outputs:{layoutComplete:"layoutComplete",removeComplete:"removeComplete",itemsLoaded:"itemsLoaded"},features:[O.Ab],attrs:J,ngContentSelectors:F,decls:1,vars:0,template:function(t,e){1&t&&(O.mc(),O.lc(0))},styles:["[_nghost-%COMP%] {\n\t\t\tdisplay: block;\n\t\t}"]}),b),E=((l=function(){function t(e,n,i,r){c(this,t),this.element=e,this.builder=n,this.parent=i,this.renderer=r,this.prepend=!1,this.animations={show:[Object(M.k)({opacity:0}),Object(M.e)("400ms ease-in",Object(M.k)({opacity:1}))],hide:[Object(M.k)({opacity:"*"}),Object(M.e)("400ms ease-in",Object(M.k)({opacity:0}))]}}return s(t,[{key:"ngOnInit",value:function(){void 0!==this.parent.options.animations&&(this.animations=this.parent.options.animations),this.renderer.setStyle(this.element.nativeElement,"position","fixed"),this.renderer.setStyle(this.element.nativeElement,"right","-150vw"),this.parent.addPendingItem(this)}},{key:"ngAfterViewInit",value:function(){var t=this,e=this.element.nativeElement.getElementsByTagName("img");if(0===e.length)setTimeout(function(){t.parent.add(t)});else{this.images=new Set(e);var i,r=n(e);try{var c=function(){var e=i.value;t.renderer.listen(e,"load",function(n){t.imageLoaded(e)}),t.renderer.listen(e,"error",function(n){t.imageLoaded(e)})};for(r.s();!(i=r.n()).done;)c()}catch(a){r.e(a)}finally{r.f()}}}},{key:"ngOnDestroy",value:function(){this.images&&0===this.images.size&&this.element.nativeElement.parentNode&&(this.playAnimation(!1),this.parent.remove(this.element.nativeElement))}},{key:"imageLoaded",value:function(t){this.images.delete(t),0===this.images.size&&this.parent.add(this)}},{key:"playAnimation",value:function(t){var e=t?this.animations.show:this.animations.hide;e&&this.builder.build(e).create(this.element.nativeElement).play()}}]),t}()).\u0275fac=function(t){return new(t||l)(O.Ob(O.l),O.Ob(M.b),O.Ob(Object(O.V)(function(){return R})),O.Ob(O.G))},l.\u0275dir=O.Jb({type:l,selectors:[["","ngxMasonryItem",""],["ngxMasonryItem"]],inputs:{prepend:"prepend"}}),l),N=((u=function t(){c(this,t)}).\u0275fac=function(t){return new(t||u)},u.\u0275mod=O.Mb({type:u}),u.\u0275inj=O.Lb({imports:[[]]}),u),D=a("tyNb"),B=a("0IaG"),z=a("kmnG"),q=a("FKr1");function A(t,e){if(1&t&&(O.Ub(0,"mat-option",12),O.Lc(1),O.Tb()),2&t){var n=O.gc().$implicit;O.nc("value",n),O.Cb(1),O.Mc(n)}}function V(t,e){if(1&t&&(O.Sb(0),O.Jc(1,A,2,2,"mat-option",11),O.Rb()),2&t){var n=e.$implicit,i=O.gc();O.Cb(1),O.nc("ngIf",i.packageLists[n]&&i.packageLists[n].length>0)}}function $(t,e){if(1&t&&(O.Ub(0,"mat-option",12),O.Lc(1),O.Tb()),2&t){var n=O.gc().$implicit;O.nc("value",n),O.Cb(1),O.Nc(" ",n.fullname," ")}}function W(t,e){if(1&t&&(O.Sb(0),O.Jc(1,$,2,2,"mat-option",11),O.Rb()),2&t){var n=e.$implicit,i=O.gc(2);O.Cb(1),O.nc("ngIf",n.scope.indexOf("utility")<0&&!i.existed(n))}}function G(t,e){if(1&t&&(O.Sb(0),O.Jc(1,W,2,1,"ng-container",4),O.Rb()),2&t){var n=O.gc();O.Cb(1),O.nc("ngForOf",n.packageLists[n.selectedSheetName])}}function H(t,e){1&t&&(O.Ub(0,"span",22),O.Lc(1,"Under development"),O.Tb())}function Y(t,e){1&t&&(O.Ub(0,"span",23),O.Lc(1,"Experimenting"),O.Tb())}function K(t,e){1&t&&(O.Ub(0,"span",24),O.Lc(1,"Stable"),O.Tb())}function Q(t,e){1&t&&(O.Ub(0,"span",25),O.Lc(1,"Deprecating"),O.Tb())}function X(t,e){if(1&t&&(O.Ub(0,"div",13),O.Ub(1,"div",14),O.Ub(2,"div",15),O.Ub(3,"h5"),O.Ub(4,"b"),O.Lc(5,"Name"),O.Tb(),O.Tb(),O.Lc(6),O.Ub(7,"h5"),O.Ub(8,"b"),O.Lc(9,"Version"),O.Tb(),O.Tb(),O.Lc(10),O.Ub(11,"h5"),O.Ub(12,"b"),O.Lc(13,"Desc"),O.Tb(),O.Tb(),O.Pb(14,"div",16),O.Ub(15,"h5"),O.Ub(16,"b"),O.Lc(17,"Author/Maintainer"),O.Tb(),O.Tb(),O.Lc(18),O.Ub(19,"h5"),O.Ub(20,"b"),O.Lc(21,"Contact"),O.Tb(),O.Tb(),O.Lc(22),O.Ub(23,"h5"),O.Ub(24,"b"),O.Lc(25,"Status"),O.Tb(),O.Tb(),O.Ub(26,"div",17),O.Jc(27,H,2,0,"span",18),O.Jc(28,Y,2,0,"span",19),O.Jc(29,K,2,0,"span",20),O.Jc(30,Q,2,0,"span",21),O.Tb(),O.Pb(31,"br"),O.Tb(),O.Tb(),O.Tb()),2&t){var n=O.gc();O.Cb(6),O.Nc("",n.selectedPackage.name," "),O.Cb(4),O.Nc("",n.selectedPackage.version," "),O.Cb(4),O.nc("innerHTML",n.selectedPackage.desc,O.Cc),O.Cb(4),O.Nc("",n.selectedPackage.author||"un-named"," "),O.Cb(4),O.Nc("",n.selectedPackage.email||"un-set"," "),O.Cb(4),O.nc("ngSwitch",n.selectedPackage.status),O.Cb(1),O.nc("ngSwitchCase",0),O.Cb(1),O.nc("ngSwitchCase",1),O.Cb(1),O.nc("ngSwitchCase",2),O.Cb(1),O.nc("ngSwitchCase",3)}}var Z,tt=((Z=function(){function t(e,n){c(this,t),this.dialogRef=e,this.data=n}return s(t,[{key:"ngOnInit",value:function(){this.packageSheetNames=this.data.packageSheetNames,this.packageLists=this.data.packageLists,this.selectedPackages=this.data.selectedPackages,this.packageSheetNames.length>0&&(this.selectedSheetName=this.packageSheetNames[0],this.setInitialSelectedPkg())}},{key:"selectedSheetNameChange",value:function(t){this.selectedSheetName=t,this.setInitialSelectedPkg()}},{key:"setInitialSelectedPkg",value:function(){if(Array.isArray(this.packageLists[this.selectedSheetName]))for(var t=0;t<this.packageLists[this.selectedSheetName].length;t++){var e=this.packageLists[this.selectedSheetName][t];if(e&&!this.existed(e)&&e.scope.indexOf("utility")<0){this.selectedPackage=e;break}}else this.selectedPackage=void 0}},{key:"existed",value:function(t){return t&&t.id&&this.selectedPackages.filter(function(e){return e&&e.id===t.id}).length>=1}},{key:"selectPackage",value:function(){this.dialogRef.close(this.selectedPackage)}}]),t}()).\u0275fac=function(t){return new(t||Z)(O.Ob(B.g),O.Ob(B.a))},Z.\u0275cmp=O.Ib({type:Z,selectors:[["bdp-package-selector"]],decls:15,vars:5,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[2,"width","350px"],["placeholder","Select a package list",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[2,"width","400px"],["placeholder","Select a package",3,"ngModel","ngModelChange"],[4,"ngIf"],["class","row",4,"ngIf"],["mat-raised-button","","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"click"],[3,"value",4,"ngIf"],[3,"value"],[1,"row"],[1,"col-md-12"],[2,"border","1px solid black","padding","5px"],[3,"innerHTML"],[2,"font-size","12pt",3,"ngSwitch"],["class","badge badge-danger",4,"ngSwitchCase"],["class","badge badge-warning",4,"ngSwitchCase"],["class","badge badge-success",4,"ngSwitchCase"],["class","badge badge-secondary",4,"ngSwitchCase"],[1,"badge","badge-danger"],[1,"badge","badge-warning"],[1,"badge","badge-success"],[1,"badge","badge-secondary"]],template:function(t,e){1&t&&(O.Ub(0,"h1",0),O.Lc(1,"Select a package"),O.Tb(),O.Ub(2,"div",1),O.Ub(3,"mat-form-field",2),O.Ub(4,"mat-select",3),O.cc("ngModelChange",function(t){return e.selectedSheetNameChange(t)}),O.Jc(5,V,2,1,"ng-container",4),O.Tb(),O.Tb(),O.Ub(6,"mat-form-field",5),O.Ub(7,"mat-select",6),O.cc("ngModelChange",function(t){return e.selectedPackage=t}),O.Jc(8,G,2,1,"ng-container",7),O.Tb(),O.Tb(),O.Jc(9,X,32,10,"div",8),O.Tb(),O.Ub(10,"mat-dialog-actions"),O.Ub(11,"button",9),O.Lc(12,"Close"),O.Tb(),O.Ub(13,"button",10),O.cc("click",function(){return e.selectPackage()}),O.Lc(14,"Choose"),O.Tb(),O.Tb()),2&t&&(O.Cb(4),O.nc("ngModel",e.selectedSheetName),O.Cb(1),O.nc("ngForOf",e.packageSheetNames),O.Cb(2),O.nc("ngModel",e.selectedPackage),O.Cb(1),O.nc("ngIf",e.selectedPackage),O.Cb(1),O.nc("ngIf",e.selectedPackage))},directives:[B.h,B.e,z.b,w.a,f.i,f.l,d.m,d.n,B.c,h.b,B.d,q.j,d.p,d.q],encapsulation:2}),Z),et=a("+mqT"),nt=a("c3AT"),it=a("i6c7"),rt=a("YiK1"),ct=a("flj8"),at=a("oBBY");function st(t,e){1&t&&O.Pb(0,"i",57)}function ot(t,e){1&t&&O.Pb(0,"i",58)}function ut(t,e){if(1&t&&(O.Sb(0),O.Jc(1,st,1,0,"i",55),O.Jc(2,ot,1,0,"i",56),O.Rb()),2&t){var n=O.gc(2).$implicit;O.Cb(1),O.nc("ngIf",null==n.privilege?null:n.privilege.canView),O.Cb(1),O.nc("ngIf",!(null!=n.privilege&&n.privilege.canView))}}function lt(t,e){1&t&&O.Pb(0,"i",59)}function bt(t,e){1&t&&(O.Ub(0,"span",23),O.Lc(1,"owner"),O.Tb())}function dt(t,e){1&t&&(O.Ub(0,"span",23),O.Lc(1,"manager"),O.Tb())}function ft(t,e){1&t&&(O.Ub(0,"span",23),O.Lc(1," viewer"),O.Tb())}function pt(t,e){1&t&&(O.Ub(0,"span",23),O.Lc(1," runner"),O.Tb())}function ht(t,e){if(1&t&&(O.Ub(0,"div",60),O.Jc(1,bt,2,0,"span",47),O.Jc(2,dt,2,0,"span",47),O.Jc(3,ft,2,0,"span",47),O.Jc(4,pt,2,0,"span",47),O.Tb()),2&t){var n=O.gc(2).$implicit;O.Cb(1),O.nc("ngIf",n.privilege.isOwner),O.Cb(1),O.nc("ngIf",n.privilege.isManager),O.Cb(1),O.nc("ngIf",n.privilege.isViewer),O.Cb(1),O.nc("ngIf",n.privilege.isRunner)}}function gt(t,e){1&t&&(O.Ub(0,"div",60),O.Ub(1,"span",23),O.Lc(2,"public"),O.Tb(),O.Tb())}function mt(t,e){1&t&&(O.Ub(0,"span",61),O.Lc(1,"main package"),O.Tb())}function vt(t,e){if(1&t&&(O.Ub(0,"span",62),O.Lc(1),O.Tb()),2&t){var n=e.$implicit;O.Cb(1),O.Mc(n)}}function Tt(t,e){if(1&t){var n=O.Vb();O.Ub(0,"button",63),O.cc("click",function(){O.Bc(n);var t=O.gc(2).index;return O.gc(2).movePkgUp(t)}),O.Pb(1,"i",64),O.Tb()}}function kt(t,e){if(1&t){var n=O.Vb();O.Ub(0,"button",63),O.cc("click",function(){O.Bc(n);var t=O.gc(2).index;return O.gc(2).movePkgDown(t)}),O.Pb(1,"i",65),O.Tb()}}function Ct(t,e){1&t&&(O.Ub(0,"span",23),O.Lc(1," (You)"),O.Tb())}function yt(t,e){1&t&&(O.Ub(0,"span",66),O.Lc(1,"Under development"),O.Tb())}function Ut(t,e){1&t&&(O.Ub(0,"span",67),O.Lc(1,"Experimenting"),O.Tb())}function wt(t,e){1&t&&(O.Ub(0,"span",68),O.Lc(1,"Stable"),O.Tb())}function It(t,e){1&t&&(O.Ub(0,"span",69),O.Lc(1,"Out of date"),O.Tb())}function Pt(t,e){if(1&t){var n=O.Vb();O.Ub(0,"mat-card",33),O.Ub(1,"mat-card-header"),O.Ub(2,"div",34),O.Jc(3,ut,3,2,"ng-container",35),O.Jc(4,lt,1,0,"i",36),O.Tb(),O.Ub(5,"mat-card-title"),O.Ub(6,"b"),O.Lc(7),O.Tb(),O.Tb(),O.Ub(8,"mat-card-subtitle"),O.Lc(9),O.hc(10,"htmlToPlainText"),O.Tb(),O.Jc(11,ht,5,4,"div",37),O.Jc(12,gt,3,0,"div",37),O.Tb(),O.Ub(13,"mat-card-content"),O.Jc(14,mt,2,0,"span",38),O.Jc(15,vt,2,1,"span",39),O.Tb(),O.Ub(16,"mat-card-actions"),O.Jc(17,Tt,2,0,"button",40),O.Jc(18,kt,2,0,"button",41),O.Ub(19,"button",42),O.cc("click",function(){O.Bc(n);var t=O.gc().index;return O.gc(2).removePkg(t)}),O.Pb(20,"i",43),O.Tb(),O.Tb(),O.Ub(21,"mat-card-footer",44),O.Ub(22,"div",45),O.Pb(23,"i",46),O.Ub(24,"span",23),O.Lc(25),O.Tb(),O.Jc(26,Ct,2,0,"span",47),O.Tb(),O.Tb(),O.Ub(27,"mat-card-footer",48),O.Ub(28,"div",49),O.Sb(29,50),O.Jc(30,yt,2,0,"span",51),O.Jc(31,Ut,2,0,"span",52),O.Jc(32,wt,2,0,"span",53),O.Jc(33,It,2,0,"span",54),O.Rb(),O.Tb(),O.Tb(),O.Tb()}if(2&t){var i=O.gc(),r=i.$implicit,c=i.index,a=O.gc(2);O.Cb(3),O.nc("ngIf",!r.public),O.Cb(1),O.nc("ngIf",r.public),O.Cb(3),O.Mc(r.fullname),O.Cb(2),O.Nc(" ",O.ic(10,17,r.desc)," "),O.Cb(2),O.nc("ngIf",!r.public),O.Cb(1),O.nc("ngIf",r.public),O.Cb(2),O.nc("ngIf",0===c),O.Cb(1),O.nc("ngForOf",r.scope),O.Cb(2),O.nc("ngIf",0!==c),O.Cb(1),O.nc("ngIf",c<a.projectPackages.length-1),O.Cb(7),O.Mc(r.owner?r.owner.name:"unset"),O.Cb(1),O.nc("ngIf",(null==r.owner?null:r.owner.id)===(null==a.currentUser?null:a.currentUser.id)),O.Cb(3),O.nc("ngSwitch",r.status),O.Cb(1),O.nc("ngSwitchCase",0),O.Cb(1),O.nc("ngSwitchCase",1),O.Cb(1),O.nc("ngSwitchCase",2),O.Cb(1),O.nc("ngSwitchCase",3)}}function Lt(t,e){if(1&t&&(O.Ub(0,"div",31),O.Jc(1,Pt,34,19,"mat-card",32),O.Tb()),2&t){var n=e.$implicit;O.Cb(1),O.nc("ngIf",n)}}function jt(t,e){if(1&t){var n=O.Vb();O.Ub(0,"mat-card",70),O.cc("click",function(){return O.Bc(n),O.gc(2).onClickPackageSelector()}),O.Ub(1,"mat-card-header"),O.Ub(2,"div",34),O.Pb(3,"i",71),O.Tb(),O.Ub(4,"mat-card-title"),O.Ub(5,"b"),O.Lc(6,"Click to add a package"),O.Tb(),O.Tb(),O.Tb(),O.Tb()}}function xt(t,e){1&t&&O.Pb(0,"i",74)}function St(t,e){1&t&&O.Pb(0,"i",58)}function _t(t,e){if(1&t&&(O.Sb(0),O.Jc(1,xt,1,0,"i",73),O.Jc(2,St,1,0,"i",56),O.Rb()),2&t){var n=O.gc(2).$implicit;O.Cb(1),O.nc("ngIf",null==n.privilege?null:n.privilege.canView),O.Cb(1),O.nc("ngIf",!(null!=n.privilege&&n.privilege.canView))}}function Ot(t,e){1&t&&O.Pb(0,"i",59)}function Mt(t,e){1&t&&(O.Ub(0,"span",23),O.Lc(1,"owner"),O.Tb())}function Jt(t,e){1&t&&(O.Ub(0,"span",23),O.Lc(1,"manager"),O.Tb())}function Ft(t,e){1&t&&(O.Ub(0,"span",23),O.Lc(1," viewer"),O.Tb())}function Rt(t,e){1&t&&(O.Ub(0,"span",23),O.Lc(1," runner"),O.Tb())}function Et(t,e){if(1&t&&(O.Ub(0,"div",60),O.Jc(1,Mt,2,0,"span",47),O.Jc(2,Jt,2,0,"span",47),O.Jc(3,Ft,2,0,"span",47),O.Jc(4,Rt,2,0,"span",47),O.Tb()),2&t){var n=O.gc(2).$implicit;O.Cb(1),O.nc("ngIf",n.privilege.isOwner),O.Cb(1),O.nc("ngIf",n.privilege.isManager),O.Cb(1),O.nc("ngIf",n.privilege.isViewer),O.Cb(1),O.nc("ngIf",n.privilege.isRunner)}}function Nt(t,e){1&t&&(O.Ub(0,"div",60),O.Ub(1,"span",23),O.Lc(2,"public"),O.Tb(),O.Tb())}function Dt(t,e){1&t&&(O.Ub(0,"span",23),O.Lc(1," (You)"),O.Tb())}function Bt(t,e){1&t&&(O.Ub(0,"span",66),O.Lc(1,"Under development"),O.Tb())}function zt(t,e){1&t&&(O.Ub(0,"span",67),O.Lc(1,"Experimenting"),O.Tb())}function qt(t,e){1&t&&(O.Ub(0,"span",68),O.Lc(1,"Stable"),O.Tb())}function At(t,e){1&t&&(O.Ub(0,"span",69),O.Lc(1,"Out of date"),O.Tb())}function Vt(t,e){if(1&t&&(O.Ub(0,"mat-card",33),O.Ub(1,"mat-card-header"),O.Ub(2,"div",34),O.Jc(3,_t,3,2,"ng-container",35),O.Jc(4,Ot,1,0,"i",36),O.Tb(),O.Ub(5,"mat-card-title"),O.Ub(6,"b"),O.Lc(7),O.Tb(),O.Tb(),O.Ub(8,"mat-card-subtitle"),O.Lc(9),O.hc(10,"htmlToPlainText"),O.Tb(),O.Jc(11,Et,5,4,"div",37),O.Jc(12,Nt,3,0,"div",37),O.Tb(),O.Ub(13,"mat-card-footer",44),O.Ub(14,"div",45),O.Pb(15,"i",46),O.Ub(16,"span",23),O.Lc(17),O.Tb(),O.Jc(18,Dt,2,0,"span",47),O.Tb(),O.Tb(),O.Ub(19,"mat-card-footer",48),O.Ub(20,"div",49),O.Sb(21,50),O.Jc(22,Bt,2,0,"span",51),O.Jc(23,zt,2,0,"span",52),O.Jc(24,qt,2,0,"span",53),O.Jc(25,At,2,0,"span",54),O.Rb(),O.Tb(),O.Tb(),O.Tb()),2&t){var n=O.gc().$implicit,i=O.gc(2);O.Gc("background-color","Gainsboro"),O.Cb(3),O.nc("ngIf",!n.public),O.Cb(1),O.nc("ngIf",n.public),O.Cb(3),O.Mc(n.fullname),O.Cb(2),O.Nc(" ",O.ic(10,15,n.desc)," "),O.Cb(2),O.nc("ngIf",!n.public),O.Cb(1),O.nc("ngIf",n.public),O.Cb(5),O.Mc(n.owner?n.owner.name:"unset"),O.Cb(1),O.nc("ngIf",(null==n.owner?null:n.owner.id)===(null==i.currentUser?null:i.currentUser.id)),O.Cb(3),O.nc("ngSwitch",n.status),O.Cb(1),O.nc("ngSwitchCase",0),O.Cb(1),O.nc("ngSwitchCase",1),O.Cb(1),O.nc("ngSwitchCase",2),O.Cb(1),O.nc("ngSwitchCase",3)}}function $t(t,e){if(1&t&&(O.Sb(0),O.Jc(1,Vt,26,17,"mat-card",72),O.Rb()),2&t){var n=e.$implicit;O.Cb(1),O.nc("ngIf",n)}}function Wt(t,e){if(1&t){var n=O.Vb();O.Ub(0,"div",11),O.Ub(1,"div",12),O.Ub(2,"div",13),O.Ub(3,"div",14),O.Ub(4,"h3"),O.Lc(5,"Name"),O.Tb(),O.Tb(),O.Ub(6,"div",15),O.Ub(7,"mat-form-field",16),O.Ub(8,"input",17,18),O.cc("ngModelChange",function(t){return O.Bc(n),O.gc().projectName=t}),O.Tb(),O.Ub(10,"mat-hint",19),O.Lc(11),O.Tb(),O.Tb(),O.Tb(),O.Tb(),O.Pb(12,"br"),O.Ub(13,"div",13),O.Ub(14,"div",14),O.Ub(15,"h3"),O.Lc(16,"Description"),O.Tb(),O.Tb(),O.Ub(17,"div",15),O.Ub(18,"mat-form-field",16),O.Ub(19,"textarea",20,21),O.cc("ngModelChange",function(t){return O.Bc(n),O.gc().projectDesc=t}),O.Lc(21),O.Tb(),O.Ub(22,"mat-hint",19),O.Lc(23),O.Tb(),O.Tb(),O.Tb(),O.Tb(),O.Pb(24,"br"),O.Ub(25,"div",13),O.Ub(26,"div",22),O.Ub(27,"h3"),O.Lc(28,"Packages for this project"),O.Tb(),O.Ub(29,"small",23),O.Lc(30,"The first package is the main package."),O.Tb(),O.Pb(31,"hr"),O.Ub(32,"div",24),O.cc("cdkDropListDropped",function(t){return O.Bc(n),O.gc().drop(t)}),O.Jc(33,Lt,2,1,"div",25),O.Tb(),O.Jc(34,jt,7,0,"mat-card",26),O.Tb(),O.Ub(35,"div",27),O.Ub(36,"h3"),O.Lc(37,"Utility packages"),O.Tb(),O.Ub(38,"small",23),O.Lc(39,"Utility packages were defined by the admin."),O.Tb(),O.Pb(40,"hr"),O.Jc(41,$t,2,1,"ng-container",28),O.Tb(),O.Tb(),O.Pb(42,"br"),O.Ub(43,"div",13),O.Ub(44,"div",29),O.Ub(45,"button",30),O.cc("click",function(t){return O.Bc(n),O.gc().onClickCreateProject(t)}),O.Lc(46,"Create"),O.Tb(),O.Tb(),O.Tb(),O.Tb(),O.Tb()}if(2&t){var i=O.yc(9),r=O.yc(20),c=O.gc();O.Cb(8),O.nc("ngModel",c.projectName),O.Cb(3),O.Nc("",i.value.length," / 160"),O.Cb(8),O.nc("ngModel",c.projectDesc),O.Cb(2),O.Mc(c.projectDesc),O.Cb(2),O.Nc("",r.value.length," / 1000"),O.Cb(10),O.nc("ngForOf",c.projectPackages),O.Cb(1),O.nc("ngIf",c.projectPackages.length<=10),O.Cb(7),O.nc("ngForOf",c.utilityPackages),O.Cb(4),O.nc("disabled",!c.projectName)}}var Gt,Ht=function(){return["/home"]},Yt=function(){return["/project/list"]},Kt=function(){return["/project/create"]},Qt=((Gt=function(){function t(e,n,i,r,a,s){c(this,t),this.projectService=e,this.router=n,this.dialog=i,this.taskService=r,this.systemService=a,this.accountService=s,this._subs=[]}return s(t,[{key:"ngOnInit",value:function(){var t=this;this.projectName="",this.projectDesc="",this.projectPackageID="",this.projectPackages=[],this.utilityPackages=[],this.viewControls={isSubmitting:!1},this.systemService.toggleNavbar(!0),this.systemService.toggleSidebar(!0),this.systemService.maintainRightSidebarStatus(),this.taskService.packageList$.subscribe(function(e){t.packageLists={},t.packageSheetNames=[],t.utilityPackages=[],e.forEach(function(e){var n=e.sheetName||"Internal Package List";t.packageLists[n]||(t.packageLists[n]=[]),e.privilege.canRun&&t.packageLists[n].push(e),e.scope.indexOf("utility")>=0&&t.utilityPackages.push(e)}),t.packageSheetNames=Object.keys(t.packageLists),t.packageSheetNames=Object(et.a)(t.packageSheetNames);var i,r=n(t.packageSheetNames);try{for(r.s();!(i=r.n()).done;){var c=i.value;t.packageLists[c]=Object(et.a)(t.packageLists[c],[function(t){return t.name}],["asc"])}}catch(a){r.e(a)}finally{r.f()}}),this._subs.push(this.accountService.currentUser$.subscribe(function(e){return e&&e.isLoggedIn?t.currentUser=e:""})),this.taskService.loadPackages()}},{key:"onClickPackageSelector",value:function(){var t=this;this.dialog.open(tt,{disableClose:!1,data:{packageLists:this.packageLists,packageSheetNames:this.packageSheetNames,selectedPackages:this.projectPackages}}).afterClosed().subscribe(function(e){return t.projectPackages.push(e)})}},{key:"movePkgUp",value:function(t){if(!(t<1)){var e=this.projectPackages.splice(t,1)[0];this.projectPackages.splice(t-1,0,e)}}},{key:"movePkgDown",value:function(t){if(!(t>=this.projectPackages.length-1)){var e=this.projectPackages.splice(t,1)[0];this.projectPackages.splice(t+1,0,e)}}},{key:"removePkg",value:function(t){this.projectPackages.splice(t,1)}},{key:"drop",value:function(t){Object(_.d)(this.projectPackages,t.previousIndex,t.currentIndex)}},{key:"onClickCreateProject",value:function(t){var e=this;this.viewControls.isSubmitting=!0,this._subs.push(this.projectService.createProject(this.projectName,this.projectDesc,this.projectPackages.map(function(t){return t.id})).subscribe(function(t){t.isError?e.viewControls.isSubmitting=!1:e.router.navigate(["/project",t.success.id,"info"])}))}},{key:"ngOnDestroy",value:function(){this._subs.forEach(function(t){return t.unsubscribe()})}}]),t}()).\u0275fac=function(t){return new(t||Gt)(O.Ob(nt.a),O.Ob(D.c),O.Ob(B.b),O.Ob(it.a),O.Ob(rt.a),O.Ob(ct.a))},Gt.\u0275cmp=O.Ib({type:Gt,selectors:[["project-creation"]],decls:21,vars:10,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"breadcrumb-item","active"],["target","_blank",3,"routerLink"],[1,"fas","fa-external-link-alt","ml-3"],[1,"bdp-main-container"],[1,"chi-header"],["style","font-size: 12pt;",4,"ngIf"],[3,"hidden"],[1,"fa","fa-circle-o-notch","fa-spin","fa-3x","fa-fw"],[2,"font-size","12pt"],[1,"container-fluid"],[1,"row"],[1,"col-lg-2"],[1,"col-lg-10"],[2,"width","100%"],["matInput","","maxlength","160","placeholder","Project name",3,"ngModel","ngModelChange"],["projectNameInput",""],["align","end"],["matInput","","placeholder","Say something about this project. (max length: 1000 characters)","maxlength","1000","rows","4",3,"ngModel","ngModelChange"],["projectDescInput",""],[1,"col-md-12","mb-5"],[1,"text-muted"],["cdkDropList","",3,"cdkDropListDropped"],["cdkDrag","",4,"ngFor","ngForOf"],["class","ml-1 my-2","class","link viewable","style","height: auto",3,"click",4,"ngIf"],[1,"col-md-12","mt-5"],[4,"ngFor","ngForOf"],[1,"col-md-10","col-md-offset-2"],["mat-raised-button","","color","primary",3,"disabled","click"],["cdkDrag",""],["class","ml-1 my-2","style","height: auto",4,"ngIf"],[1,"ml-1","my-2",2,"height","auto"],["mat-card-avatar",""],[4,"ngIf"],["class","fas fa-unlock fa-fw fa-2x",4,"ngIf"],["class","ml-3","style","position: absolute; top: 2px; right: 5px; font-size: 14px;",4,"ngIf"],["class","badge badge-warning m-3",4,"ngIf"],["class","m-3 badge badge-primary",4,"ngFor","ngForOf"],["mat-button","","color","primary","style","min-width: 1%;",3,"click",4,"ngIf"],["style","min-width: 1%;","mat-button","","color","primary",3,"click",4,"ngIf"],["mat-button","","color","accent",2,"min-width","1%",3,"click"],[1,"fas","fa-times","fa-fw"],[2,"text-align","left"],[1,"small","ml-3",2,"font-size","12pt","margin","5px 5px"],[1,"fas","fa-user-circle","text-muted","ml-5","mr-2"],["class","text-muted",4,"ngIf"],[2,"text-align","right"],[1,"small","text-mute",2,"font-size","14pt","margin","5px 5px"],[3,"ngSwitch"],["class","badge badge-danger",4,"ngSwitchCase"],["class","badge badge-warning",4,"ngSwitchCase"],["class","badge badge-success",4,"ngSwitchCase"],["class","badge badge-default",4,"ngSwitchCase"],["class","fas fa-cube fa-2x fa-fw",4,"ngIf"],["class","fas fa-lock fa-fw fa-2x",4,"ngIf"],[1,"fas","fa-cube","fa-2x","fa-fw"],[1,"fas","fa-lock","fa-fw","fa-2x"],[1,"fas","fa-unlock","fa-fw","fa-2x"],[1,"ml-3",2,"position","absolute","top","2px","right","5px","font-size","14px"],[1,"badge","badge-warning","m-3"],[1,"m-3","badge","badge-primary"],["mat-button","","color","primary",2,"min-width","1%",3,"click"],[1,"fas","fa-arrow-up","fa-fw"],[1,"fas","fa-arrow-down","fa-fw"],[1,"badge","badge-danger"],[1,"badge","badge-warning"],[1,"badge","badge-success"],[1,"badge","badge-default"],[1,"link","viewable",2,"height","auto",3,"click"],[1,"far","fa-plus-square","fa-fw","fa-2x"],["class","ml-1 my-2","style","height: auto",3,"background-color",4,"ngIf"],["class","fas fa-cube fa-faw fa-2x",4,"ngIf"],[1,"fas","fa-cube","fa-faw","fa-2x"]],template:function(t,e){1&t&&(O.Ub(0,"ol",0),O.Ub(1,"li",1),O.Ub(2,"a",2),O.Lc(3,"Home"),O.Tb(),O.Tb(),O.Ub(4,"li",1),O.Ub(5,"a",2),O.Lc(6,"Project List"),O.Tb(),O.Tb(),O.Ub(7,"li",3),O.Ub(8,"a",2),O.Lc(9,"Project creation"),O.Tb(),O.Ub(10,"a",4),O.Pb(11,"i",5),O.Tb(),O.Tb(),O.Tb(),O.Ub(12,"div",6),O.Ub(13,"h5",7),O.Lc(14,"Project creation"),O.Tb(),O.Pb(15,"br"),O.Pb(16,"br"),O.Jc(17,Wt,47,9,"div",8),O.Ub(18,"div",9),O.Lc(19,"Creating the project... "),O.Pb(20,"i",10),O.Tb(),O.Tb()),2&t&&(O.Cb(2),O.nc("routerLink",O.qc(6,Ht)),O.Cb(3),O.nc("routerLink",O.qc(7,Yt)),O.Cb(3),O.nc("routerLink",O.qc(8,Kt)),O.Cb(2),O.nc("routerLink",O.qc(9,Kt)),O.Cb(7),O.nc("ngIf",!e.viewControls.isSubmitting),O.Cb(1),O.nc("hidden",!e.viewControls.isSubmitting))},directives:[D.f,d.n,z.b,y.a,f.b,f.e,f.i,f.l,z.e,_.b,d.m,h.b,_.a,m.a,m.f,m.c,m.j,m.i,m.d,m.b,m.e,d.p,d.q],pipes:[at.a],styles:[".viewable[_ngcontent-%COMP%]:hover{background-color:#fff3cd;border-color:#ffeeba;box-shadow:0 10px 20px rgba(0,0,0,.19),0 6px 6px rgba(0,0,0,.23)}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.3}"]}),Gt),Xt=a("RMCY"),Zt=a("7Cdu");function te(t,e){if(1&t&&(O.Ub(0,"span"),O.Lc(1),O.Tb()),2&t){var n=O.gc(2);O.Cb(1),O.Nc(": ",n.currentProject.name,"")}}var ee=function(t){return["/project",t,"info"]};function ne(t,e){if(1&t&&(O.Ub(0,"li",1),O.Ub(1,"a",2),O.Lc(2,"Project "),O.Jc(3,te,2,1,"span",9),O.Tb(),O.Tb()),2&t){var n=O.gc();O.Cb(1),O.nc("routerLink",O.rc(2,ee,n.currentProject.id)),O.Cb(2),O.nc("ngIf",n.currentProject)}}function ie(t,e){1&t&&(O.Ub(0,"li",1),O.Lc(1,"Project"),O.Tb())}var re=function(t){return["/project",t,"fileImport"]};function ce(t,e){if(1&t&&(O.Ub(0,"li",10),O.Ub(1,"a",2),O.Lc(2,"Import Files"),O.Tb(),O.Ub(3,"a",11),O.Pb(4,"i",12),O.Tb(),O.Tb()),2&t){var n=O.gc();O.Cb(1),O.nc("routerLink",O.rc(2,re,n.currentProject.id)),O.Cb(2),O.nc("routerLink",O.rc(4,re,n.currentProject.id))}}function ae(t,e){1&t&&(O.Ub(0,"li",1),O.Lc(1,"Import Files"),O.Tb())}function se(t,e){if(1&t){var n=O.Vb();O.Ub(0,"div",13),O.Ub(1,"div",14),O.Ub(2,"div",15),O.Ub(3,"h2"),O.Lc(4,"Create DataFile records to the "),O.Ub(5,"u"),O.Lc(6),O.Tb(),O.Lc(7," Project."),O.Tb(),O.Tb(),O.Ub(8,"div",16),O.Ub(9,"h3"),O.Lc(10,"Project description:"),O.Tb(),O.Ub(11,"div",17),O.Lc(12),O.Tb(),O.Tb(),O.Tb(),O.Ub(13,"div",14),O.Ub(14,"div",15),O.Ub(15,"bdp-file-importer",18),O.cc("importTypeChanged",function(t){return O.Bc(n),O.gc().switchType(t)}),O.Tb(),O.Tb(),O.Tb(),O.Tb()}if(2&t){var i=O.gc();O.Cb(6),O.Mc(null==i.currentProject?null:i.currentProject.name),O.Cb(6),O.Mc((null==i.currentProject?null:i.currentProject.desc)||"(no description)"),O.Cb(3),O.nc("allowedFormats",i.allowedFormats)("project",i.currentProject)("sysConfig",i.sysConfig)("tasks",i.tasks)("importType",i._viewControls.importType)("currentUser",i.currentUser)}}function oe(t,e){1&t&&O.Pb(0,"i",33)}function ue(t,e){1&t&&O.Pb(0,"i",34)}var le=function(){return{importType:"folder"}};function be(t,e){if(1&t&&(O.Ub(0,"a",25),O.Pb(1,"i",35),O.Ub(2,"span",27),O.Lc(3,"Add a folder"),O.Tb(),O.Ub(4,"span",24),O.Lc(5,"\u276f"),O.Tb(),O.Tb()),2&t){var n=O.gc(2);O.Gb("active","folder"==n._viewControls.importType),O.nc("routerLink",O.rc(6,re,n.currentProject.id))("queryParams",O.qc(8,le)),O.Cb(2),O.Gb("active",n.showRightButtonContent||"folder"==n._viewControls.importType)}}var de=function(){return{importType:"google"}};function fe(t,e){if(1&t&&(O.Sb(0),O.Ub(1,"a",25),O.Pb(2,"i",36),O.Ub(3,"span",27),O.Lc(4,"Google Drive"),O.Tb(),O.Ub(5,"span",24),O.Lc(6,"\u276f"),O.Tb(),O.Tb(),O.Pb(7,"br"),O.Rb()),2&t){var n=O.gc(2);O.Cb(1),O.Gb("active","google"==n._viewControls.importType),O.nc("routerLink",O.rc(6,re,n.currentProject.id))("queryParams",O.qc(8,de)),O.Cb(2),O.Gb("active",n.showRightButtonContent||"google"==n._viewControls.importType)}}var pe=function(){return{importType:"server"}};function he(t,e){if(1&t&&(O.Ub(0,"a",25),O.Pb(1,"i",37),O.Ub(2,"span",27),O.Lc(3,"Server folder"),O.Tb(),O.Ub(4,"span",24),O.Lc(5,"\u276f"),O.Tb(),O.Tb()),2&t){var n=O.gc(2);O.Gb("active","server"==n._viewControls.importType),O.nc("routerLink",O.rc(6,re,n.currentProject.id))("queryParams",O.qc(8,pe)),O.Cb(2),O.Gb("active",n.showRightButtonContent||"server"==n._viewControls.importType)}}var ge=function(){return{importType:"local"}},me=function(t){return["/project",t,"dataFile","list"]},ve=function(t){return["/project",t,"result","list"]},Te=function(t){return["/project",t,"result","creation"]};function ke(t,e){if(1&t){var n=O.Vb();O.Ub(0,"div",19),O.Ub(1,"a",20),O.cc("click",function(){O.Bc(n);var t=O.gc();return t.showRightButtonContent=!t.showRightButtonContent}),O.Jc(2,oe,1,0,"i",21),O.Jc(3,ue,1,0,"i",22),O.Ub(4,"span",23),O.Lc(5,"MENU"),O.Tb(),O.Ub(6,"span",24),O.Lc(7,"\u276f"),O.Tb(),O.Tb(),O.Pb(8,"br"),O.Ub(9,"a",25),O.Pb(10,"i",26),O.Ub(11,"span",27),O.Lc(12,"Local files"),O.Tb(),O.Ub(13,"span",24),O.Lc(14,"\u276f"),O.Tb(),O.Tb(),O.Pb(15,"br"),O.Jc(16,be,6,9,"a",28),O.Pb(17,"br"),O.Jc(18,fe,8,9,"ng-container",9),O.Jc(19,he,6,9,"a",28),O.Pb(20,"br"),O.Ub(21,"a",29),O.Pb(22,"i",30),O.Ub(23,"span",27),O.Lc(24,"Data files"),O.Tb(),O.Ub(25,"span",24),O.Lc(26,"\u276f"),O.Tb(),O.Tb(),O.Pb(27,"br"),O.Ub(28,"a",29),O.Pb(29,"i",31),O.Ub(30,"span",27),O.Lc(31,"Results"),O.Tb(),O.Ub(32,"span",24),O.Lc(33,"\u276f"),O.Tb(),O.Tb(),O.Pb(34,"br"),O.Ub(35,"a",29),O.Pb(36,"i",32),O.Ub(37,"span",27),O.Lc(38,"Execute tasks"),O.Tb(),O.Ub(39,"span",24),O.Lc(40,"\u276f"),O.Tb(),O.Tb(),O.Pb(41,"br"),O.Tb()}if(2&t){var i=O.gc();O.nc("@rightButtonState",i.showRightButtonContent?"active":"inactive"),O.Cb(2),O.nc("ngIf",i.showRightButtonContent),O.Cb(1),O.nc("ngIf",!i.showRightButtonContent),O.Cb(1),O.Gb("active",i.showRightButtonContent),O.Cb(5),O.Gb("active",!i._viewControls.importType||"local"==i._viewControls.importType),O.nc("routerLink",O.rc(23,re,i.currentProject.id))("queryParams",O.qc(25,ge)),O.Cb(2),O.Gb("active",i.showRightButtonContent||!i._viewControls.importType||"local"==i._viewControls.importType),O.Cb(5),O.nc("ngIf",i.currentUser&&i.currentUser.auths&&i.currentUser.auths.bdp&&i.currentUser.auths.bdp>=3),O.Cb(2),O.nc("ngIf",i.sysConfig&&i.sysConfig.googlePickerAPIKey),O.Cb(1),O.nc("ngIf",i.currentUser&&i.currentUser.auths&&i.currentUser.auths.bdp&&i.currentUser.auths.bdp>=3),O.Cb(2),O.nc("routerLink",O.rc(26,me,i.currentProject.id)),O.Cb(2),O.Gb("active",i.showRightButtonContent),O.Cb(5),O.nc("routerLink",O.rc(28,ve,i.currentProject.id)),O.Cb(2),O.Gb("active",i.showRightButtonContent),O.Cb(5),O.nc("routerLink",O.rc(30,Te,i.currentProject.id)),O.Cb(2),O.Gb("active",i.showRightButtonContent)}}var Ce,ye=function(){return["/home"]},Ue=function(){return["/project/list"]},we=((Ce=function(){function e(t,n,i,r,a,s,o){c(this,e),this.router=t,this.route=n,this.projectService=i,this.taskService=r,this.userService=a,this.systemService=s,this.dialogRef=o,this._subs=[],this.preTags=[],this.filteredTags=[],this.tasks=[],this.allowedFormats=[]}return s(e,[{key:"ngOnInit",value:function(){var e=this;this.systemService.toggleNavbar(!0),this.systemService.toggleSidebar(!0),this.systemService.maintainRightSidebarStatus();var n=this.route.snapshot.params.pid;this._viewControls={isLoading:!0,importType:void 0,moveToDataFileID:"",keepFileName:!1},this.showRightButtonContent=!1,this.route.queryParamMap.subscribe(function(t){return e._viewControls.importType=t.get("importType")?t.get("importType"):"local"}),this._subs.push(this.taskService.taskList$.subscribe(function(t){return Array.isArray(t)?e.tasks=t:""})),this._subs.push(this.systemService.sysInfo$.subscribe(function(t){return e.sysConfig=t})),this._subs.push(this.projectService.currentProject$.subscribe(function(n){e.currentProject=n,e.currentProject&&!e.currentProject.privilege.canAddFile&&e.router.navigate(["/project",e.currentProject.id,"info"]),e.currentProject&&Array.isArray(e.currentProject.packages)&&(e.allowedFormats=t(new Set([].concat.apply([],e.currentProject.packages.map(function(t){return t.allowedFormats})))).map(function(t){return t.toString()}),e.taskService.loadTasks(e.currentProject.packages.map(function(t){return t.id}))),e._viewControls.isLoading=!1})),this._subs.push(this.userService.currentUser$.subscribe(function(t){return e.currentUser=t})),this.projectService.setCurrentProject(n,!0)}},{key:"openDialog",value:function(){this.dialogRef.open(Zt.a,{width:"99%",height:"95%",maxWidth:"95vw",maxHeight:"95vh",data:{allowedFormats:this.allowedFormats,project:this.currentProject,sysConfig:this.sysConfig,tasks:this.tasks,importType:this._viewControls.importType,currentUser:this.currentUser,tags:["test333","test2"]}})}},{key:"switchType",value:function(t){this.currentProject&&this.router.navigate(["/project",this.currentProject.id,"fileImport"],{queryParams:{importType:t}})}},{key:"ngOnDestroy",value:function(){this._subs.forEach(function(t){return t.unsubscribe()})}}]),e}()).\u0275fac=function(t){return new(t||Ce)(O.Ob(D.c),O.Ob(D.a),O.Ob(nt.a),O.Ob(it.a),O.Ob(ct.a),O.Ob(rt.a),O.Ob(B.b))},Ce.\u0275cmp=O.Ib({type:Ce,selectors:[["project-file-importer"]],decls:18,vars:10,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],["class","breadcrumb-item",4,"ngIf"],["class","breadcrumb-item active",4,"ngIf"],[1,"bdp-main-container","p-4"],[1,"chi-header"],["class","container-fluid",4,"ngIf"],["class","chi-right-menu",4,"ngIf"],[4,"ngIf"],[1,"breadcrumb-item","active"],["target","_blank",3,"routerLink"],[1,"fas","fa-external-link-alt","ml-3"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"col-12","mx-3"],[1,"mx-3"],[3,"allowedFormats","project","sysConfig","tasks","importType","currentUser","importTypeChanged"],[1,"chi-right-menu"],[1,"chi-rbtn",3,"click"],["class","fa fa-angle-right fa-fw",4,"ngIf"],["class","fa fa-angle-left fa-fw",4,"ngIf"],[1,"chi-rbtn-content","ml-2"],[1,"chi-rbtn-arrow"],[1,"chi-rbtn",3,"routerLink","queryParams"],[1,"far","fa-hdd","fa-fw"],[1,"chi-rbtn-content"],["class","chi-rbtn",3,"active","routerLink","queryParams",4,"ngIf"],[1,"chi-rbtn",3,"routerLink"],[1,"far","fa-file","fa-fw"],[1,"far","fa-folder-open","fa-fw"],[1,"fas","fa-play","fa-fw"],[1,"fa","fa-angle-right","fa-fw"],[1,"fa","fa-angle-left","fa-fw"],[1,"fas","fa-folder-plus","fa-fw"],[1,"fab","fa-google-drive","fa-fw"],[1,"fas","fa-server","fa-fw"]],template:function(t,e){1&t&&(O.Ub(0,"ol",0),O.Ub(1,"li",1),O.Ub(2,"a",2),O.Lc(3,"Home"),O.Tb(),O.Tb(),O.Ub(4,"li",1),O.Ub(5,"a",2),O.Lc(6,"Project List"),O.Tb(),O.Tb(),O.Jc(7,ne,4,4,"li",3),O.Jc(8,ie,2,0,"li",3),O.Jc(9,ce,5,6,"li",4),O.Jc(10,ae,2,0,"li",3),O.Tb(),O.Ub(11,"div",5),O.Ub(12,"h3",6),O.Lc(13,"Import Files"),O.Tb(),O.Pb(14,"br"),O.Pb(15,"br"),O.Jc(16,se,16,8,"div",7),O.Tb(),O.Jc(17,ke,42,32,"div",8)),2&t&&(O.Cb(2),O.nc("routerLink",O.qc(8,ye)),O.Cb(3),O.nc("routerLink",O.qc(9,Ue)),O.Cb(2),O.nc("ngIf",e.currentProject),O.Cb(1),O.nc("ngIf",!e.currentProject),O.Cb(1),O.nc("ngIf",e.currentProject),O.Cb(1),O.nc("ngIf",!e.currentProject),O.Cb(6),O.nc("ngIf",e.currentProject),O.Cb(1),O.nc("ngIf",e.currentProject))},directives:[D.f,d.n,Zt.a],styles:["fieldset[_ngcontent-%COMP%]{border:1px solid grey;padding:10px 15px}legend[_ngcontent-%COMP%]{margin-bottom:0;width:auto}.badge[_ngcontent-%COMP%]{margin:2px}"],data:{animation:[Xt.a]}}),Ce),Ie=a("wd/R"),Pe=a("EnSQ"),Le=a("0MNC"),je=a("QFvA"),xe=a("l8fv");function Se(t,e){1&t&&(O.Ub(0,"span",28),O.Lc(1,"Static value"),O.Tb())}function _e(t,e){1&t&&(O.Ub(0,"span",29),O.Lc(1,"Input value"),O.Tb())}function Oe(t,e){1&t&&(O.Ub(0,"span",30),O.Lc(1,"List"),O.Tb())}function Me(t,e){1&t&&(O.Ub(0,"span",31),O.Lc(1,"Input file"),O.Tb())}function Je(t,e){1&t&&(O.Ub(0,"span",32),O.Lc(1,"Output file"),O.Tb())}function Fe(t,e){if(1&t&&(O.Sb(0),O.Ub(1,"span"),O.Lc(2),O.Tb(),O.Rb()),2&t){var n=O.gc().$implicit;O.Cb(2),O.Mc(n.default)}}function Re(t,e){if(1&t&&(O.Sb(0),O.Ub(1,"span"),O.Lc(2),O.Tb(),O.Rb()),2&t){var n=O.gc().index,i=O.gc();O.Cb(2),O.Mc(i.selectedInputs[n])}}function Ee(t,e){if(1&t&&(O.Ub(0,"span"),O.Lc(1),O.Tb()),2&t){var n=O.gc(4).$implicit;O.Cb(1),O.Mc(n.listSplitter)}}function Ne(t,e){if(1&t&&(O.Ub(0,"span"),O.Lc(1),O.Jc(2,Ee,2,1,"span",27),O.Tb()),2&t){var n=e.$implicit,i=e.index,r=O.gc(3).index,c=O.gc();O.Cb(1),O.Nc(" ",n," "),O.Cb(1),O.nc("ngIf",i<c.selectedInputs[r].length-1)}}function De(t,e){if(1&t&&(O.Sb(0),O.Jc(1,Ne,3,2,"span",33),O.Rb()),2&t){var n=O.gc(2).index,i=O.gc();O.Cb(1),O.nc("ngForOf",i.selectedInputs[n])}}function Be(t,e){if(1&t&&(O.Sb(0),O.Ub(1,"span"),O.Lc(2),O.Tb(),O.Rb()),2&t){var n=O.gc(2).index,i=O.gc();O.Cb(2),O.Mc(i.selectedInputs[n])}}function ze(t,e){if(1&t&&(O.Sb(0),O.Jc(1,De,2,1,"ng-container",27),O.Jc(2,Be,3,1,"ng-container",27),O.Rb()),2&t){var n=O.gc().$implicit;O.Cb(1),O.nc("ngIf",n.multiple),O.Cb(1),O.nc("ngIf",!n.multiple)}}var qe=function(t){return["/dataFile",t,"info"]};function Ae(t,e){if(1&t&&(O.Sb(0),O.Ub(1,"u",34),O.Lc(2),O.Tb(),O.Ub(3,"span"),O.Lc(4),O.Tb(),O.Ub(5,"u",34),O.Lc(6),O.Tb(),O.Ub(7,"a",35),O.Pb(8,"span",36),O.Tb(),O.Rb()),2&t){var n=O.gc().$implicit,i=O.gc(3);O.Cb(2),O.Mc(i.validFiles[n.key].prefix),O.Cb(2),O.Mc(i.validFiles[n.key].name),O.Cb(2),O.Mc(i.validFiles[n.key].suffix),O.Cb(1),O.nc("routerLink",O.rc(4,qe,n.key))}}function Ve(t,e){if(1&t&&(O.Sb(0),O.Jc(1,Ae,9,6,"ng-container",27),O.Rb()),2&t){var n=e.$implicit;O.Cb(1),O.nc("ngIf",n.value)}}function $e(t,e){if(1&t&&(O.Sb(0),O.Jc(1,Ve,2,1,"ng-container",33),O.hc(2,"keyvalue"),O.Rb()),2&t){var n=O.gc().index,i=O.gc();O.Cb(1),O.nc("ngForOf",O.ic(2,1,i.selectedInputs[n]))}}function We(t,e){if(1&t&&(O.Sb(0),O.Ub(1,"u",34),O.Lc(2),O.Tb(),O.Ub(3,"span"),O.Lc(4),O.Tb(),O.Ub(5,"u",34),O.Lc(6),O.Tb(),O.Rb()),2&t){var n=O.gc().index,i=O.gc();O.Cb(2),O.Mc(i.resultInfo.prefix),O.Cb(2),O.Mc(i.resultInfo.outputs[n].name),O.Cb(2),O.Mc(i.resultInfo.suffix)}}function Ge(t,e){if(1&t&&(O.Ub(0,"tr",20),O.Ub(1,"td"),O.Lc(2),O.Tb(),O.Ub(3,"td"),O.Lc(4),O.Tb(),O.Ub(5,"td"),O.Sb(6,21),O.Jc(7,Se,2,0,"span",22),O.Jc(8,_e,2,0,"span",23),O.Jc(9,Oe,2,0,"span",24),O.Jc(10,Me,2,0,"span",25),O.Jc(11,Je,2,0,"span",26),O.Rb(),O.Tb(),O.Ub(12,"td"),O.Jc(13,Fe,3,1,"ng-container",27),O.Jc(14,Re,3,1,"ng-container",27),O.Jc(15,ze,3,2,"ng-container",27),O.Jc(16,$e,3,3,"ng-container",27),O.Jc(17,We,7,3,"ng-container",27),O.Tb(),O.Tb()),2&t){var n=e.$implicit,i=e.index,r=O.gc();O.nc("ngClass",r.getRowStyleByArgType(n.type)),O.Cb(2),O.Mc(i+1),O.Cb(2),O.Mc(n.name),O.Cb(2),O.nc("ngSwitch",n.type),O.Cb(1),O.nc("ngSwitchCase","static"),O.Cb(1),O.nc("ngSwitchCase","value"),O.Cb(1),O.nc("ngSwitchCase","list"),O.Cb(1),O.nc("ngSwitchCase","inFile"),O.Cb(1),O.nc("ngSwitchCase","outFile"),O.Cb(2),O.nc("ngIf","static"===n.type),O.Cb(1),O.nc("ngIf","value"===n.type),O.Cb(1),O.nc("ngIf","list"===n.type),O.Cb(1),O.nc("ngIf","inFile"===n.type),O.Cb(1),O.nc("ngIf","outFile"===n.type)}}var He,Ye=((He=function(){function t(){c(this,t),this.validFiles={}}return s(t,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(t){var e=this;for(var n in t)"currentTask"===n?this.currentTask=t[n].currentValue:"currentProject"===n?this.currentProject=t[n].currentValue:"resultInfo"===n?this.resultInfo=t[n].currentValue:"selectedInputs"===n?this.selectedInputs=t[n].currentValue||[]:"validInputs"===n&&(this.validInputs=t[n].currentValue||[]);for(var i=0;i<this.validInputs.length;i++)if(Array.isArray(this.validInputs[i]))for(var r=0;r<this.validInputs[i].length;r++){var c=this.validInputs[i][r];this.validFiles[c.id]=c}this.currentTask&&this.currentProject&&(this.currentPackage=this.currentProject.packages.filter(function(t){return t.id===e.currentTask.package})[0])}},{key:"getRowStyleByArgType",value:function(t){return{"table-secondary":"value"===t,"table-white":"static"===t,"table-primary":"inFile"===t,"table-info":"list"===t,"table-success":"outFile"===t,"table-danger":!1}}}]),t}()).\u0275fac=function(t){return new(t||He)},He.\u0275cmp=O.Ib({type:He,selectors:[["bdp-result-describer"]],inputs:{currentTask:"currentTask",currentProject:"currentProject",resultInfo:"resultInfo",selectedInputs:"selectedInputs",validInputs:"validInputs"},features:[O.Ab],decls:49,vars:9,consts:[[1,"container",2,"border","thin solid gray"],[1,"row","p-2"],[1,"row"],[1,"col-md-6"],[2,"width","100%"],["matInput","","placeholder","Project Name","disabled","",3,"value"],["matInput","","placeholder","Package Name","disabled","",3,"value"],["matInput","","placeholder","Task Name","disabled","",3,"value"],["matInput","","placeholder","Task Description","disabled","",3,"value"],[1,"col-md-3"],["matInput","","placeholder","Result Prefix","readonly","",3,"value"],["matInput","","placeholder","Result Name","readonly","",3,"ngModel","ngModelChange"],["matInput","","placeholder","Result Suffix","readonly","",3,"value"],[1,"col-12"],["matInput","","placeholder","Result Description","readonly","",3,"value"],[1,"col-md-12"],[1,"table","table-responsive-md","table-hover","table-bordered","table-sm"],[1,"thead-dark"],[2,"width","40px"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[3,"ngSwitch"],["class","badge badge-dark",4,"ngSwitchCase"],["class","badge badge-secondary",4,"ngSwitchCase"],["class","badge badge-info",4,"ngSwitchCase"],["class","badge badge-primary",4,"ngSwitchCase"],["class","badge badge-success",4,"ngSwitchCase"],[4,"ngIf"],[1,"badge","badge-dark"],[1,"badge","badge-secondary"],[1,"badge","badge-info"],[1,"badge","badge-primary"],[1,"badge","badge-success"],[4,"ngFor","ngForOf"],[1,"text-muted"],["target","_blank",1,"ml-3",3,"routerLink"],[1,"fas","fa-external-link-alt"]],template:function(t,e){1&t&&(O.Ub(0,"div",0),O.Ub(1,"div",1),O.Ub(2,"h2"),O.Lc(3,"Result preview"),O.Tb(),O.Tb(),O.Ub(4,"div",2),O.Ub(5,"div",3),O.Ub(6,"mat-form-field",4),O.Pb(7,"input",5),O.Tb(),O.Tb(),O.Ub(8,"div",3),O.Ub(9,"mat-form-field",4),O.Pb(10,"input",6),O.Tb(),O.Tb(),O.Tb(),O.Ub(11,"div",2),O.Ub(12,"div",3),O.Ub(13,"mat-form-field",4),O.Pb(14,"input",7),O.Tb(),O.Tb(),O.Ub(15,"div",3),O.Ub(16,"mat-form-field",4),O.Pb(17,"textarea",8),O.Tb(),O.Tb(),O.Tb(),O.Ub(18,"div",2),O.Ub(19,"div",9),O.Ub(20,"mat-form-field",4),O.Pb(21,"input",10),O.Tb(),O.Tb(),O.Ub(22,"div",3),O.Ub(23,"mat-form-field",4),O.Ub(24,"input",11),O.cc("ngModelChange",function(t){return e.resultInfo.name=t}),O.Tb(),O.Tb(),O.Tb(),O.Ub(25,"div",9),O.Ub(26,"mat-form-field",4),O.Pb(27,"input",12),O.Tb(),O.Tb(),O.Tb(),O.Ub(28,"div",2),O.Ub(29,"div",13),O.Ub(30,"mat-form-field",4),O.Pb(31,"textarea",14),O.Tb(),O.Tb(),O.Tb(),O.Ub(32,"div",2),O.Ub(33,"div",15),O.Ub(34,"b"),O.Lc(35,"Input Arguments"),O.Tb(),O.Tb(),O.Ub(36,"div",15),O.Ub(37,"table",16),O.Ub(38,"thead",17),O.Ub(39,"th",18),O.Lc(40,"#"),O.Tb(),O.Ub(41,"th"),O.Lc(42,"Name"),O.Tb(),O.Ub(43,"th"),O.Lc(44,"Type"),O.Tb(),O.Ub(45,"th"),O.Lc(46,"Selected Value"),O.Tb(),O.Tb(),O.Ub(47,"tbody"),O.Jc(48,Ge,18,14,"tr",19),O.Tb(),O.Tb(),O.Tb(),O.Tb(),O.Tb()),2&t&&(O.Cb(7),O.nc("value",e.currentProject.name),O.Cb(3),O.nc("value",null==e.currentPackage?null:e.currentPackage.name),O.Cb(4),O.nc("value",e.currentTask.name),O.Cb(3),O.nc("value",e.currentTask.desc||"(no description)"),O.Cb(4),O.nc("value",e.resultInfo.prefix||"(N/A)"),O.Cb(3),O.nc("ngModel",e.resultInfo.name),O.Cb(3),O.nc("value",e.resultInfo.suffix||"(N/A)"),O.Cb(4),O.nc("value",e.resultInfo.desc||"(no description)"),O.Cb(17),O.nc("ngForOf",e.currentTask.arguments))},directives:[z.b,y.a,f.b,f.i,f.l,d.m,d.l,d.p,d.q,d.n,D.f],pipes:[d.h],encapsulation:2}),He);function Ke(t,e){if(1&t&&(O.Ub(0,"span"),O.Lc(1),O.Tb()),2&t){var n=O.gc(2);O.Cb(1),O.Nc(": ",n.currentProject.name,"")}}var Qe=function(t){return["/project",t,"info"]};function Xe(t,e){if(1&t&&(O.Ub(0,"li",1),O.Ub(1,"a",2),O.Lc(2,"Project "),O.Jc(3,Ke,2,1,"span",17),O.Tb(),O.Tb()),2&t){var n=O.gc();O.Cb(1),O.nc("routerLink",O.rc(2,Qe,n.currentProject.id)),O.Cb(2),O.nc("ngIf",n.currentProject)}}function Ze(t,e){1&t&&(O.Ub(0,"li",1),O.Lc(1,"Project"),O.Tb())}var tn=function(t){return["/project",t,"result","creation"]};function en(t,e){if(1&t&&(O.Ub(0,"li",40),O.Ub(1,"a",2),O.Lc(2,"Execute Tasks"),O.Tb(),O.Ub(3,"a",41),O.Pb(4,"i",42),O.Tb(),O.Tb()),2&t){var n=O.gc();O.Cb(1),O.nc("routerLink",O.rc(2,tn,n.currentProject.id)),O.Cb(2),O.nc("routerLink",O.rc(4,tn,n.currentProject.id))}}function nn(t,e){1&t&&(O.Ub(0,"li",40),O.Lc(1,"Execute Tasks"),O.Tb())}function rn(t,e){if(1&t&&(O.Ub(0,"mat-icon",43),O.Lc(1,"looks_one"),O.Tb(),O.Ub(2,"div"),O.Lc(3,"Choose a task"),O.Tb()),2&t){var n=O.gc();O.Gb("text-primary",0==n.currentStep),O.Cb(2),O.Gb("text-primary",0==n.currentStep)}}function cn(t,e){if(1&t){var n=O.Vb();O.Ub(0,"div",14),O.Ub(1,"div",15),O.Ub(2,"mat-button-toggle-group",44),O.cc("ngModelChange",function(t){return O.Bc(n),O.gc().changeTaskViewFilter(t)}),O.Ub(3,"mat-button-toggle",45),O.Lc(4,"All"),O.Tb(),O.Ub(5,"mat-button-toggle",46),O.Pb(6,"i",47),O.Tb(),O.Ub(7,"mat-button-toggle",48),O.Pb(8,"i",49),O.Tb(),O.Ub(9,"mat-button-toggle",50),O.Pb(10,"i",51),O.Tb(),O.Ub(11,"mat-button-toggle",52),O.cc("click",function(){return O.Bc(n),O.gc().onTaskReloadBtnClick()}),O.Pb(12,"i",53),O.Tb(),O.Tb(),O.Tb(),O.Tb()}if(2&t){var i=O.gc();O.Cb(2),O.nc("ngModel",i.taskViewType)}}function an(t,e){if(1&t&&(O.Ub(0,"h3",59),O.Pb(1,"i",60),O.Lc(2),O.Tb()),2&t){var n=O.gc().$implicit,i=O.gc();O.Cb(2),O.Nc(" ",i.taskKey2name[n],"")}}function sn(t,e){if(1&t&&O.Pb(0,"img",74),2&t){var n=O.gc(2).$implicit;O.nc("src",n.thumbnail,O.Ec)}}function on(t,e){1&t&&O.Pb(0,"i",75)}function un(t,e){1&t&&O.Pb(0,"i",76)}function ln(t,e){1&t&&O.Pb(0,"i",77)}function bn(t,e){1&t&&O.Pb(0,"i",78)}function dn(t,e){if(1&t&&(O.Ub(0,"div",79),O.Pb(1,"img",80),O.Tb()),2&t){var n=O.gc(2).$implicit;O.Cb(1),O.nc("src",n.img,O.Ec)}}function fn(t,e){if(1&t&&O.Pb(0,"div",81),2&t){var n=O.gc(2).$implicit;O.nc("innerHTML",n.desc?n.desc:"(no description)",O.Cc)}}function pn(t,e){1&t&&(O.Ub(0,"strong"),O.Lc(1,"This task will generate the following output data."),O.Tb())}function hn(t,e){1&t&&(O.Ub(0,"strong"),O.Lc(1,"This task does NOT generate output data files."),O.Tb())}function gn(t,e){if(1&t&&(O.Ub(0,"li",86),O.Ub(1,"b"),O.Lc(2),O.Tb(),O.Lc(3),O.Tb()),2&t){var n=O.gc().$implicit;O.Cb(2),O.Mc(null==n?null:n.name),O.Cb(1),O.Nc(": ",null==n?null:n.desc," ")}}function mn(t,e){if(1&t&&O.Jc(0,gn,4,2,"li",85),2&t){var n=e.$implicit;O.nc("ngIf","outFile"==(null==n?null:n.type))}}function vn(t,e){if(1&t&&(O.Ub(0,"mat-list-item",89),O.Ub(1,"b"),O.Lc(2),O.Tb(),O.Tb()),2&t){var n=e.$implicit;O.Cb(2),O.Nc("*",n,"")}}function Tn(t,e){if(1&t&&(O.Ub(0,"mat-list",87),O.Jc(1,vn,3,1,"mat-list-item",88),O.Tb()),2&t){var n=O.gc(5);O.Cb(1),O.nc("ngForOf",n.viewControls.workflowWarnings)}}function kn(t,e){if(1&t&&(O.Ub(0,"mat-list-item",91),O.Ub(1,"b"),O.Lc(2),O.Tb(),O.Tb()),2&t){var n=e.$implicit;O.Cb(2),O.Nc("*",n,"")}}function Cn(t,e){if(1&t&&(O.Ub(0,"mat-list",87),O.Jc(1,kn,3,1,"mat-list-item",90),O.Tb()),2&t){var n=O.gc(5);O.Cb(1),O.nc("ngForOf",n.viewControls.workflowErrors)}}function yn(t,e){if(1&t&&O.Pb(0,"bdp-workflow-planner",92),2&t){var n=O.gc(5);O.nc("taskMapper",n.selectedTask.mapper)("additionalTasks",n.loadedTasks)("childTasks",n.allTasksInPkg)("taskArgs",n.selectedTask.arguments)}}function Un(t,e){if(1&t&&(O.Ub(0,"div"),O.Ub(1,"fieldset"),O.Ub(2,"legend"),O.Ub(3,"b"),O.Lc(4,"Full description"),O.Tb(),O.Tb(),O.Pb(5,"div",82),O.Pb(6,"hr"),O.Jc(7,pn,2,0,"strong",17),O.Jc(8,hn,2,0,"strong",17),O.Ub(9,"ol"),O.Jc(10,mn,1,1,"ng-template",34),O.Tb(),O.Tb(),O.Jc(11,Tn,2,1,"mat-list",83),O.Jc(12,Cn,2,1,"mat-list",83),O.Jc(13,yn,1,4,"bdp-workflow-planner",84),O.Tb()),2&t){var n=O.gc(4);O.Cb(5),O.nc("innerHTML",n.selectedTask.desc?n.selectedTask.desc:"(no description)",O.Cc),O.Cb(2),O.nc("ngIf",n.outputNumber>0),O.Cb(1),O.nc("ngIf",0===n.outputNumber),O.Cb(2),O.nc("ngForOf",null==n.selectedTask?null:n.selectedTask.arguments),O.Cb(1),O.nc("ngIf",n.viewControls.workflowWarnings.length>0),O.Cb(1),O.nc("ngIf",n.viewControls.workflowErrors.length>0),O.Cb(1),O.nc("ngIf",n.selectedTask&&"workflow"===n.selectedTask.type&&n.showWorkflow)}}function wn(t,e){if(1&t){var n=O.Vb();O.Ub(0,"button",93),O.cc("click",function(t){return O.Bc(n),O.gc(4).onTaskBlur(t)}),O.Lc(1,"Cancel"),O.Tb()}}function In(t,e){if(1&t){var n=O.Vb();O.Ub(0,"button",94),O.cc("click",function(){O.Bc(n);var t=O.gc(4);return t.showWorkflow=!t.showWorkflow,t.masonryRelayout()}),O.Pb(1,"i",95),O.Lc(2," Show workflow graph"),O.Tb()}}function Pn(t,e){if(1&t){var n=O.Vb();O.Ub(0,"button",94),O.cc("click",function(){O.Bc(n);var t=O.gc(4);return t.showWorkflow=!t.showWorkflow,t.masonryRelayout()}),O.Pb(1,"i",95),O.Lc(2," Close workflow graph"),O.Tb()}}function Ln(t,e){if(1&t){var n=O.Vb();O.Ub(0,"button",96),O.cc("click",function(){return O.Bc(n),O.gc(4).currentStep=1}),O.Lc(1,"Next"),O.Tb()}if(2&t){var i=O.gc(4);O.nc("disabled",i.viewControls.workflowErrors.length>0)}}var jn=function(t){return{"task-card":t}};function xn(t,e){if(1&t){var n=O.Vb();O.Ub(0,"div",62),O.Ub(1,"mat-card",63),O.cc("click",function(){O.Bc(n);var t=O.gc().$implicit;return O.gc(2).onSelectTask(t)}),O.Ub(2,"mat-card-header"),O.Jc(3,sn,1,1,"img",64),O.Ub(4,"mat-card-title"),O.Jc(5,on,1,0,"i",65),O.Jc(6,un,1,0,"i",66),O.Jc(7,ln,1,0,"i",67),O.Jc(8,bn,1,0,"i",68),O.Ub(9,"b"),O.Lc(10),O.Tb(),O.Tb(),O.Ub(11,"mat-card-subtitle"),O.Pb(12,"i",69),O.Lc(13),O.Tb(),O.Tb(),O.Ub(14,"mat-card-content"),O.Jc(15,dn,2,1,"div",70),O.Jc(16,fn,1,1,"div",71),O.Jc(17,Un,14,7,"div",17),O.Tb(),O.Ub(18,"mat-card-actions"),O.Jc(19,wn,2,0,"button",72),O.Jc(20,In,3,0,"button",35),O.Jc(21,Pn,3,0,"button",35),O.Jc(22,Ln,2,1,"button",73),O.Tb(),O.Tb(),O.Tb()}if(2&t){var i=O.gc().$implicit,r=O.gc(2);O.Gc("width",r.selectedTask&&r.selectedTask===i?"100%":r.masonryItemWidth),O.Cb(1),O.Eb(O.rc(20,jn,!(r.selectedTask&&r.selectedTask===i))),O.Gc("cursor",r.selectedTask?"auto":"pointer"),O.Cb(2),O.nc("ngIf",i.thumbnail),O.Cb(2),O.nc("ngIf","workflow"==i.type),O.Cb(1),O.nc("ngIf","standard"==i.type),O.Cb(1),O.nc("ngIf","child"==i.type),O.Cb(1),O.nc("ngIf","system"==i.type),O.Cb(2),O.Mc(i.name),O.Cb(3),O.Nc("",null==i||null==i.package?null:i.package.fullname," "),O.Cb(2),O.nc("ngIf",i.img),O.Cb(1),O.nc("ngIf",!r.selectedTask),O.Cb(1),O.nc("ngIf",r.selectedTask),O.Cb(2),O.nc("ngIf",r.selectedTask),O.Cb(1),O.nc("ngIf",r.selectedTask&&"workflow"===r.selectedTask.type&&!r.showWorkflow),O.Cb(1),O.nc("ngIf",r.selectedTask&&"workflow"===r.selectedTask.type&&r.showWorkflow),O.Cb(1),O.nc("ngIf",r.selectedTask)}}function Sn(t,e){if(1&t&&(O.Sb(0),O.Jc(1,xn,23,22,"div",61),O.Rb()),2&t){var n=e.$implicit,i=O.gc(2);O.Cb(1),O.nc("ngIf",n&&"child"!==n.type&&(!i.selectedTask||i.selectedTask&&i.selectedTask===n))}}function _n(t,e){1&t&&O.Pb(0,"mat-divider",97)}function On(t,e){if(1&t&&(O.Ub(0,"div",54),O.Jc(1,an,3,1,"h3",55),O.Ub(2,"ngx-masonry",56),O.Jc(3,Sn,2,1,"ng-container",57),O.Tb(),O.Jc(4,_n,1,0,"mat-divider",58),O.Tb()),2&t){var n=e.$implicit,i=O.gc();O.Cb(1),O.nc("ngIf",!i.selectedTask||i.selectedTask.package.sheetID+i.selectedTask.package.fullname===n),O.Cb(1),O.nc("options",i.masonryOptions)("ordered",!0),O.Cb(1),O.nc("ngForOf",i.taskListView[n]),O.Cb(1),O.nc("ngIf",!i.selectedTask||i.selectedTask.package.sheetID+i.selectedTask.package.fullname===n)}}function Mn(t,e){if(1&t&&(O.Ub(0,"mat-icon",43),O.Lc(1,"looks_two"),O.Tb(),O.Ub(2,"span"),O.Lc(3," Set parameters "),O.Tb()),2&t){var n=O.gc();O.Gb("text-primary",1==n.currentStep),O.Cb(2),O.Gb("text-primary",1==n.currentStep)}}function Jn(t,e){if(1&t&&(O.Ub(0,"div",14),O.Ub(1,"div",15),O.Pb(2,"br"),O.Lc(3),O.Pb(4,"br"),O.Lc(5," Task description: "),O.Pb(6,"br"),O.Pb(7,"div",82),O.Pb(8,"br"),O.Tb(),O.Tb()),2&t){var n=O.gc();O.Cb(3),O.Nc(" You are going to run the task: ",n.selectedTask.name,". "),O.Cb(4),O.nc("innerHTML",n.selectedTask.desc,O.Cc)}}function Fn(t,e){1&t&&(O.Ub(0,"div"),O.Lc(1,"Loading ..."),O.Tb())}function Rn(t,e){1&t&&(O.Ub(0,"span"),O.Lc(1,"No parameters needed."),O.Tb())}function En(t,e){1&t&&(O.Ub(0,"span"),O.Lc(1,"[Optional]"),O.Tb())}function Nn(t,e){if(1&t&&(O.Ub(0,"small"),O.Lc(1),O.Tb()),2&t){var n=O.gc(2).$implicit;O.Cb(1),O.Mc(n.desc)}}function Dn(t,e){1&t&&(O.Ub(0,"small",104),O.Lc(1,"(no description)"),O.Tb())}function Bn(t,e){if(1&t&&(O.Ub(0,"div",102),O.Ub(1,"h3"),O.Ub(2,"strong"),O.Jc(3,En,2,0,"span",17),O.Lc(4),O.Tb(),O.Lc(5,": "),O.Jc(6,Nn,2,1,"small",17),O.Jc(7,Dn,2,0,"small",103),O.Tb(),O.Tb()),2&t){var n=O.gc().$implicit;O.Cb(3),O.nc("ngIf",n.optional),O.Cb(1),O.Nc(" ",null==n?null:n.name,""),O.Cb(2),O.nc("ngIf",n.desc),O.Cb(1),O.nc("ngIf",!n.desc)}}function zn(t,e){if(1&t&&(O.Ub(0,"mat-hint",106),O.Lc(1),O.Tb()),2&t){var n=O.gc(2).index,i=O.gc(2);O.Cb(1),O.Nc("*",i.viewControls.errorInputs[n],"")}}function qn(t,e){if(1&t){var n=O.Vb();O.Ub(0,"div",102),O.Ub(1,"mat-form-field",27),O.Ub(2,"input",105),O.cc("ngModelChange",function(t){O.Bc(n);var e=O.gc().index;return O.gc(2)._selectedInputs[e]=t}),O.Tb(),O.Jc(3,zn,2,1,"mat-hint",31),O.Tb(),O.Tb()}if(2&t){var i=O.gc(),r=i.$implicit,c=i.index,a=O.gc(2);O.Cb(2),O.nc("disabled",a.paramChecked)("placeholder",r.name)("ngModel",a._selectedInputs[c]),O.Cb(1),O.nc("ngIf",a.viewControls.errorInputs[c])}}function An(t,e){1&t&&(O.Ub(0,"span"),O.Lc(1," must equal to "),O.Tb())}function Vn(t,e){if(1&t&&(O.Sb(0),O.Lc(1),O.Rb()),2&t){var n=O.gc(3).$implicit;O.Cb(1),O.Nc("[",n.tagMatchRule,"]")}}function $n(t,e){if(1&t&&(O.Sb(0),O.Jc(1,Vn,2,1,"ng-container",17),O.Ub(2,"span",110),O.Lc(3),O.Tb(),O.Rb()),2&t){var n=e.$implicit,i=e.index,r=O.gc(2).$implicit;O.Cb(1),O.nc("ngIf",i>0&&"all"!==r.tagMatchRule),O.Cb(2),O.Nc(" ",n," ")}}function Wn(t,e){if(1&t&&(O.Ub(0,"span",106),O.Lc(1),O.Tb()),2&t){var n=O.gc(2).index,i=O.gc(2);O.Cb(1),O.Nc("*",i.viewControls.errorInputs[n],"")}}function Gn(t,e){1&t&&(O.Ub(0,"h4",106),O.Lc(1,"No valid inputs. "),O.Pb(2,"br"),O.Tb())}function Hn(t,e){if(1&t){var n=O.Vb();O.Ub(0,"datafile-card",112),O.cc("onFocused",function(t){O.Bc(n);var e=O.gc(2).index,i=O.gc(2).index;return O.gc(2).onFocusedDataFile(t,i,e)}),O.Tb()}if(2&t){var i=O.gc(2).$implicit,r=O.gc(2).index,c=O.gc(2);O.nc("role","checkBox")("checked",c._selectedInputs[r][i.id])("disabled",c.paramChecked)("dataFile",i)}}function Yn(t,e){if(1&t&&(O.Sb(0),O.Jc(1,Hn,1,4,"datafile-card",111),O.Rb()),2&t){var n=O.gc().$implicit,i=O.gc(2).index,r=O.gc(2);O.Cb(1),O.nc("ngIf",!r._selectedDataFiles[i]||r._selectedInputs[i][n.id])}}function Kn(t,e){if(1&t&&(O.Sb(0),O.Jc(1,Yn,2,1,"ng-container",17),O.Rb()),2&t){var n=e.$implicit,i=O.gc(4);O.Cb(1),O.nc("ngIf",!n.hidden||i.showIntermediateFile)}}function Qn(t,e){if(1&t){var n=O.Vb();O.Ub(0,"div",102),O.Ub(1,"button",107),O.cc("click",function(){O.Bc(n);var t=O.gc().$implicit;return O.gc(2).uploadFileForArg(t)}),O.Pb(2,"i",108),O.Tb(),O.Ub(3,"span"),O.Ub(4,"b"),O.Lc(5,"*required tag(s)"),O.Tb(),O.Lc(6,": "),O.Jc(7,An,2,0,"span",17),O.Jc(8,$n,4,2,"ng-container",57),O.Tb(),O.Jc(9,Wn,2,1,"span",31),O.Tb(),O.Ub(10,"div",102),O.Jc(11,Gn,3,0,"h4",31),O.Ub(12,"div",14),O.Jc(13,Kn,2,1,"ng-container",109),O.Tb(),O.Tb()}if(2&t){var i=O.gc(),r=i.$implicit,c=i.index,a=O.gc(2);O.Cb(7),O.nc("ngIf","all"===r.tagMatchRule),O.Cb(1),O.nc("ngForOf",r.tags),O.Cb(1),O.nc("ngIf",a.viewControls.errorInputs[c]),O.Cb(2),O.nc("ngIf",a.validInputs[c]&&0==a.validInputs[c].length),O.Cb(2),O.nc("ngForOf",a.validInputs[c])("ngForTrackBy",a.trackByDataFile)}}function Xn(t,e){if(1&t&&(O.Ub(0,"mat-option",115),O.Lc(1),O.Tb()),2&t){var n=e.$implicit;O.nc("value",n),O.Cb(1),O.Mc(n)}}function Zn(t,e){if(1&t&&(O.Ub(0,"span",106),O.Lc(1),O.Tb()),2&t){var n=O.gc(3).index,i=O.gc(2);O.Cb(1),O.Nc("*",i.viewControls.errorInputs[n],"")}}function ti(t,e){if(1&t){var n=O.Vb();O.Ub(0,"div"),O.Ub(1,"div",102),O.Ub(2,"mat-form-field",27),O.Ub(3,"mat-select",113),O.cc("ngModelChange",function(t){O.Bc(n);var e=O.gc(2).index;return O.gc(2)._selectedInputs[e]=t}),O.Jc(4,Xn,2,2,"mat-option",114),O.Tb(),O.Tb(),O.Jc(5,Zn,2,1,"span",31),O.Tb(),O.Tb()}if(2&t){var i=O.gc(2),r=i.index,c=i.$implicit,a=O.gc(2);O.Cb(3),O.nc("ngModel",a._selectedInputs[r])("multiple",c.multiple)("disabled",a.paramChecked)("placeholder",c.name),O.Cb(1),O.nc("ngForOf",c.list),O.Cb(1),O.nc("ngIf",a.viewControls.errorInputs[r])}}function ei(t,e){if(1&t&&(O.Ub(0,"span",106),O.Lc(1),O.Tb()),2&t){var n=O.gc(4).index,i=O.gc(2);O.Cb(1),O.Nc("*",i.viewControls.errorInputs[n],"")}}function ni(t,e){if(1&t&&(O.Ub(0,"span",106),O.Lc(1),O.Tb()),2&t){var n=O.gc(5).index,i=O.gc(2);O.Cb(1),O.Nc("*",i.viewControls.errorInputs[n],"")}}function ii(t,e){if(1&t&&(O.Sb(0),O.Ub(1,"div",121),O.Pb(2,"input",122),O.Jc(3,ni,2,1,"span",31),O.Tb(),O.Pb(4,"div",123),O.Rb()),2&t){var n=O.gc(4).index,i=O.gc(2);O.Cb(2),O.nc("disabled",i.paramChecked)("value",i._selectedInputs[n]?(null==i._selectedInputs[n]?null:i._selectedInputs[n].length)>5?i._selectedInputs[n].slice(0,5)+"... and "+((null==i._selectedInputs[n]?null:i._selectedInputs[n].length)-5)+" items":i._selectedInputs[n]:""),O.Cb(1),O.nc("ngIf",i.viewControls.errorInputs[n]),O.Cb(1),O.nc("hidden",i._selectedInputs[n])}}function ri(t,e){if(1&t&&(O.Ub(0,"mat-option",115),O.Lc(1),O.Tb()),2&t){var n=e.$implicit;O.nc("value",n),O.Cb(1),O.Mc(n)}}function ci(t,e){if(1&t){var n=O.Vb();O.Ub(0,"mat-select",125),O.cc("ngModelChange",function(t){O.Bc(n);var e=O.gc(5).index;return O.gc(2)._selectedInputs[e]=t})("ngModelChange",function(t){O.Bc(n);var e=O.gc(5).index,i=O.gc(2);return i._selectedInputs[e]=t,i.viewControls.errorInputs[e]=void 0}),O.Jc(1,ri,2,2,"mat-option",114),O.hc(2,"slice"),O.Tb()}if(2&t){var i=O.gc(5),r=i.$implicit,c=i.index,a=O.gc(2);O.nc("multiple",r.multiple)("ngModel",a._selectedInputs[c])("disabled",a.paramChecked),O.Cb(1),O.nc("ngForOf",O.jc(2,4,a._loadedDataFile[a._valueOfListData[c]][0],1))}}function ai(t,e){if(1&t&&(O.Ub(0,"div"),O.Jc(1,ci,3,7,"mat-select",124),O.Pb(2,"br"),O.Pb(3,"br"),O.Tb()),2&t){var n=O.gc(4).index,i=O.gc(2);O.Cb(1),O.nc("ngIf",i._loadedDataFile[i._valueOfListData[n]])}}function si(t,e){if(1&t){var n=O.Vb();O.Ub(0,"div",117),O.Ub(1,"button",118),O.cc("click",function(t){O.Bc(n);var e=O.gc(3).index;return O.gc(2).onGetList(t,e)}),O.Lc(2," Loading list "),O.Pb(3,"i",119),O.Pb(4,"i",120),O.Tb(),O.Jc(5,ei,2,1,"span",31),O.Jc(6,ii,5,4,"ng-container",17),O.Jc(7,ai,4,1,"div",17),O.Tb()}if(2&t){var i=O.gc(3),r=i.index,c=i.$implicit,a=O.gc(2);O.Cb(1),O.Gb("text-muted",a.paramChecked),O.Cb(4),O.nc("ngIf",a.viewControls.errorInputs[r]),O.Cb(1),O.nc("ngIf",a._valueOfListData[r]&&(null==c?null:c.preview)),O.Cb(1),O.nc("ngIf",a._valueOfListData[r]&&!(null!=c&&c.preview))}}function oi(t,e){if(1&t&&(O.Sb(0),O.Jc(1,si,8,5,"div",116),O.Rb()),2&t){var n=O.gc(2).$implicit;O.Cb(1),O.nc("ngIf","argv"==n.dependOn.split(".")[0])}}function ui(t,e){if(1&t&&(O.Jc(0,ti,6,6,"div",17),O.Jc(1,oi,2,1,"ng-container",17)),2&t){var n=O.gc().$implicit;O.nc("ngIf",n.list.length>0),O.Cb(1),O.nc("ngIf",0==(null==n?null:n.list.length))}}function li(t,e){if(1&t&&(O.Sb(0),O.Ub(1,"div",99),O.Jc(2,Bn,8,4,"div",100),O.Jc(3,qn,4,4,"ng-template",101),O.Jc(4,Qn,14,6,"ng-template",101),O.Jc(5,ui,2,2,"ng-template",101),O.Tb(),O.Rb()),2&t){var n=e.$implicit,i=e.index,r=O.gc(2);O.Cb(1),O.Gb("hasError",r.viewControls.errorInputs[i]&&"outFile"!==(null==n?null:n.type)),O.nc("ngSwitch",null==n?null:n.type),O.Cb(1),O.nc("ngIf","outFile"!==n.type&&"static"!==n.type),O.Cb(1),O.nc("ngSwitchCase","value"),O.Cb(1),O.nc("ngSwitchCase","inFile"),O.Cb(1),O.nc("ngSwitchCase","list")}}function bi(t,e){if(1&t){var n=O.Vb();O.Ub(0,"button",94),O.cc("click",function(){return O.Bc(n),O.gc(2).checkParams()}),O.Lc(1,"Check my parameters "),O.Tb()}}function di(t,e){if(1&t){var n=O.Vb();O.Ub(0,"button",126),O.cc("click",function(){return O.Bc(n),O.gc(2).paramChecked=!1}),O.Lc(1,"Modify parameters "),O.Tb()}}function fi(t,e){if(1&t&&(O.Ub(0,"div",15),O.Pb(1,"mat-divider",98),O.Jc(2,Rn,2,0,"span",17),O.Jc(3,li,6,7,"ng-container",57),O.Pb(4,"mat-divider",98),O.Jc(5,bi,2,0,"button",35),O.Jc(6,di,2,0,"button",36),O.Tb()),2&t){var n=O.gc();O.Cb(2),O.nc("ngIf",0===(null==n.selectedTask?null:n.selectedTask.arguments.length)),O.Cb(1),O.nc("ngForOf",null==n.selectedTask?null:n.selectedTask.arguments),O.Cb(2),O.nc("ngIf",n.selectedTask&&!n.paramChecked),O.Cb(1),O.nc("ngIf",n.selectedTask&&n.paramChecked)}}function pi(t,e){if(1&t&&(O.Ub(0,"mat-icon",43),O.Lc(1,"looks_3"),O.Tb(),O.Ub(2,"span"),O.Lc(3," Result information "),O.Tb()),2&t){var n=O.gc();O.Gb("text-primary",2==n.currentStep),O.Cb(2),O.Gb("text-primary",2==n.currentStep)}}function hi(t,e){if(1&t&&(O.Ub(0,"mat-hint",106),O.Lc(1),O.Tb()),2&t){var n=O.gc();O.Cb(1),O.Mc(n.viewControls.errorName)}}function gi(t,e){if(1&t&&(O.Ub(0,"mat-hint",106),O.Lc(1),O.Tb()),2&t){var n=O.gc();O.Cb(1),O.Mc(n.viewControls.errorDesc)}}function mi(t,e){1&t&&(O.Ub(0,"div",127),O.Ub(1,"div",102),O.Ub(2,"h2"),O.Lc(3,"Setting output information"),O.Tb(),O.Tb(),O.Tb())}function vi(t,e){if(1&t&&(O.Ub(0,"span",106),O.Lc(1),O.Tb()),2&t){var n=O.gc(2).index,i=O.gc();O.Cb(1),O.Nc("*",null==i.viewControls.errorOutputs[n]?null:i.viewControls.errorOutputs[n].name,"")}}function Ti(t,e){if(1&t&&(O.Ub(0,"span",106),O.Lc(1),O.Tb()),2&t){var n=O.gc(2).index,i=O.gc();O.Cb(1),O.Nc("*",null==i.viewControls.errorOutputs[n]?null:i.viewControls.errorOutputs[n].desc,"")}}function ki(t,e){if(1&t){var n=O.Vb();O.Ub(0,"div",129),O.Ub(1,"div",102),O.Ub(2,"h3"),O.Ub(3,"b"),O.Lc(4),O.Tb(),O.Tb(),O.Ub(5,"span",104),O.Lc(6),O.Tb(),O.Pb(7,"br"),O.Tb(),O.Ub(8,"div",102),O.Ub(9,"mat-form-field",27),O.Ub(10,"input",130),O.cc("ngModelChange",function(t){O.Bc(n);var e=O.gc().index;return O.gc().resultInfo.outputs[e].name=t}),O.Tb(),O.Ub(11,"span",29),O.Lc(12),O.Tb(),O.Ub(13,"span",30),O.Lc(14),O.Tb(),O.Tb(),O.Jc(15,vi,2,1,"span",31),O.Tb(),O.Ub(16,"div",131),O.Ub(17,"mat-form-field",27),O.Ub(18,"textarea",132),O.cc("ngModelChange",function(t){O.Bc(n);var e=O.gc().index;return O.gc().resultInfo.outputs[e].desc=t}),O.Lc(19),O.Tb(),O.Tb(),O.Jc(20,Ti,2,1,"span",31),O.Pb(21,"br"),O.Tb(),O.Tb()}if(2&t){var i=O.gc(),r=i.index,c=i.$implicit,a=O.gc();O.Gb("hasError",(null==a.viewControls.errorOutputs[r]?null:a.viewControls.errorOutputs[r].name)||(null==a.viewControls.errorOutputs[r]?null:a.viewControls.errorOutputs[r].desc)),O.Cb(4),O.Mc(null==c?null:c.name),O.Cb(2),O.Nc("Output description: ",null==c?null:c.desc,""),O.Cb(4),O.nc("disabled",a.resultInfoChecked)("placeholder","The output name for"+c.name)("ngModel",a.resultInfo.outputs[r].name),O.Cb(2),O.Mc(a.resultInfo.prefix),O.Cb(2),O.Mc(a.resultInfo.suffix),O.Cb(1),O.nc("ngIf",null==a.viewControls.errorOutputs[r]?null:a.viewControls.errorOutputs[r].name),O.Cb(3),O.nc("disabled",a.resultInfoChecked)("ngModel",a.resultInfo.outputs[r].desc),O.Cb(1),O.Mc(a.resultInfo.outputs[r].desc),O.Cb(1),O.nc("ngIf",null==a.viewControls.errorOutputs[r]?null:a.viewControls.errorOutputs[r].desc)}}function Ci(t,e){if(1&t&&O.Jc(0,ki,22,14,"div",128),2&t){var n=e.$implicit;O.nc("ngIf","outFile"==(null==n?null:n.type))}}function yi(t,e){if(1&t){var n=O.Vb();O.Ub(0,"button",94),O.cc("click",function(){return O.Bc(n),O.gc().checkResultInfo()}),O.Lc(1,"Set the result information"),O.Tb()}}function Ui(t,e){if(1&t){var n=O.Vb();O.Ub(0,"button",126),O.cc("click",function(){return O.Bc(n),O.gc().resultInfoChecked=!1}),O.Lc(1,"Modify info "),O.Tb()}}function wi(t,e){if(1&t&&(O.Ub(0,"mat-icon",43),O.Lc(1,"looks_4"),O.Tb(),O.Ub(2,"span"),O.Lc(3," Confirm and submit "),O.Tb()),2&t){var n=O.gc();O.Gb("text-primary",3===n.currentStep),O.Cb(2),O.Gb("text-primary",3===n.currentStep)}}function Ii(t,e){if(1&t&&O.Pb(0,"bdp-result-describer",133),2&t){var n=O.gc();O.nc("currentTask",n.selectedTask)("currentProject",n.currentProject)("resultInfo",n.resultInfo)("selectedInputs",n._selectedInputs)("validInputs",n.validInputs)}}function Pi(t,e){1&t&&(O.Ub(0,"span"),O.Lc(1,"Save and Run"),O.Tb())}function Li(t,e){1&t&&(O.Ub(0,"span"),O.Pb(1,"i",134),O.Lc(2," Submitting ... "),O.Tb())}var ji,xi=function(){return["/home"]},Si=function(){return["/project/list"]},_i=((ji=function(){function t(e,n,i,r,a,s,o,u,l){c(this,t),this.router=e,this.route=n,this.projectService=i,this.systemService=r,this.userService=a,this.dataService=s,this.taskService=o,this.dialogRef=u,this.breakpointObserver=l,this.masonryOptions={percentPosition:!0,gutter:0,resize:!0},this._subs=[],this.currentStep=0,this.paramChecked=!1,this.resultInfoChecked=!1,this.taskViewType="all",this.showWorkflow=!1,this.showIntermediateFile=!1,this.currentPackageStore={},this.masonryItemWidth="33.3333%"}return s(t,[{key:"ngOnInit",value:function(){var t=this;this.systemService.toggleNavbar(!0),this.systemService.toggleSidebar(!0),this.systemService.maintainRightSidebarStatus(),this.projectID=this.route.snapshot.params.pid,this.taskList={},this.allTasksInPkg={},this.taskListView={},this.taskKey2name={},this.packageKeys=[],this.validInputs=[],this.inputDataPreview=[],this._selectedInputs=[],this._selectedDataFiles=[],this._valueOfListData=[],this._loadedDataFile={},this.loadedTasks={},this.selectedTask=void 0,this.resultInfo={name:"",desc:"",prefix:"",suffix:"",outputs:[]},this.viewControls={isLoadingInputs:!1,isSubmitted:!1,isSubmitting:!1,isError:!1,errorInputs:[],errorOutputs:[],errorName:!1,errorDesc:!1,workflowErrors:[],workflowWarnings:[]},this._subs.push(this.projectService.currentProject$.subscribe(function(e){if(t.currentProject=e,e){t.currentProject.privilege.canRun||t.router.navigate(["/project",t.currentProject.id,"info"]);var n=e.packages;n.forEach(function(e){t.currentPackageStore[e.id]=e}),n.length>0?t.taskService.loadTasks(n.map(function(t){return t.id}),!1,!0):t.taskService.loadTasks()}})),this._subs.push(this.systemService.sysInfo$.subscribe(function(e){return t.sysConfig=e})),this._subs.push(this.userService.currentUser$.subscribe(function(e){return t.currentUser=e})),this._subs.push(this.taskService.taskList$.subscribe(function(e){if(e&&e.length>0){t.taskList={},t.allTasksInPkg={},t.tasks=e;var i,r=n(e);try{for(r.s();!(i=r.n()).done;){var c=i.value,a=t.currentPackageStore[c.package];if(a){var s=a.sheetID+a.fullname;t.taskKey2name[s]="".concat(a.fullname," from ")+(a.sheetName||"Internal Package List"),t.taskList[s]||(t.taskList[s]=[]),t.allTasksInPkg[c.id]=c,t.taskList[s].push(c)}}}catch(o){r.e(o)}finally{r.f()}t.packageKeys=t.currentProject&&Array.isArray(t.currentProject.packages)?t.currentProject.packages.map(function(t){return t.sheetID+t.fullname}):Object.keys(t.taskKey2name),t.changeTaskViewFilter(t.taskViewType),setTimeout(function(){return t.masonryRelayout()},1e3)}})),this._subs.push(this.taskService.taskValidInputs$.subscribe(function(e){return t.onValidInputChanged(e)})),this._subs.push(this.dataService.incomingData$.subscribe(function(e){if("colnames"===e.viewType||"rownames"===e.viewType||"table"===e.viewType){var n=e.id+e.viewType+e.isPreview;t._loadedDataFile[n]||(t._loadedDataFile[n]={}),t._loadedDataFile[n]=e.data}})),this._subs.push(this.taskService.incomingTaskChange$.subscribe(function(e){var n=e.type,i=e.data,r=t.currentProject.packages.filter(function(t){return t.id===i.package})[0];if(r){var c=t.taskList[r.sheetID+r.fullname];if(Array.isArray(c)){if("update"===n||"delete"===n){t.allTasksInPkg[i.id]=i;for(var a=0;a<c.length;a++)if(i.id===c[a].id){"update"===n?c.splice(a,1,i):c.splice(a,1);break}}else"insert"===n&&c.push(i);t.changeTaskViewFilter(t.taskViewType)}}})),this.projectService.setCurrentProject(this.projectID);var e=["(max-width: 576px)","(min-width: 576px)","(min-width: 768px)","(min-width: 992px)","(min-width: 1200px)","(min-width: 1600px)"];this.breakpointObserver.observe(e).subscribe(function(n){var i=e.filter(function(t){return n.breakpoints[t]});switch(i[i.length-1]){case"(max-width: 576px)":case"(min-width: 576px)":t.masonryItemWidth="100%";break;case"(min-width: 768px)":t.masonryItemWidth="50%";break;case"(min-width: 992px)":case"(min-width: 1200px)":t.masonryItemWidth="33.3333%";break;case"(min-width: 1600px)":t.masonryItemWidth="25%"}})}},{key:"outputNumber",get:function(){return this.selectedTask?this.selectedTask.arguments.filter(function(t){return"outFile"===t.type}).length:0}},{key:"changeTaskViewFilter",value:function(t){var e=this;t=t||"all";var i,r=n(this.packageKeys);try{for(r.s();!(i=r.n()).done;){var c=i.value;this.taskListView[c]=Object(et.a)(Array.isArray(this.taskList[c])?this.taskList[c].filter(function(e){return"all"===t||e.type===t}):[],[function(t){return t.name}],["asc"])}}catch(a){r.e(a)}finally{r.f()}this.taskViewType=t,setTimeout(function(){return e.masonryRelayout()},300)}},{key:"getTaskByMap",value:function(t){var e=this,n=this.taskService.getTaskByMap(t).subscribe(function(i){n.unsubscribe(),i.isError&&e.viewControls.workflowErrors.push("This task requires the task key ".concat(t.key," of package ").concat(t.pkg,"."));var r=i.success;r.packageModel&&r.packageModel.id?(e.currentProject.packages.map(function(t){return t.id}).indexOf(r.packageModel.id)<0&&e.viewControls.workflowWarnings.push("A children task '".concat(r.name,"' belong to the package '").concat(r.packageModel.name,"'which is not selected for the current Project.")),e.loadedTasks[r.packageModel.id]||(e.loadedTasks[r.packageModel.id]={}),e.loadedTasks[r.packageModel.id][r.id]=r,t.id=r.id,t.key=r.key,t.ver=r.packageModel.version,t.pkg=r.packageModel.name,t.pkgid=r.packageModel.id):e.viewControls.workflowErrors.push("This workflow may be configured incorrectedly. The package of the task ".concat(r.name," does not exist."))})}},{key:"onSelectTask",value:function(t){var e=this;if(!this.selectedTask||this.selectedTask.id!==t.id){if(this.selectedTask=t,this._selectedInputs.length=0,this._selectedDataFiles.length=0,this.timeStamp=Ie().format("YYYYMMDD.HHmmss.SSS"),this.resultInfo.name="Result from "+t.name,this.resultInfo.desc="",this.resultInfo.outputs.length=0,this.resultInfoChecked=!1,this.paramChecked=!1,this.currentProject){if(this.viewControls.isLoadingInputs=!0,t&&"workflow"===t.type){var n=t.mapper;this.viewControls.workflowErrors=[],this.viewControls.workflowWarnings=[];for(var i=0;i<n.length;i++)for(var r=0;r<n[i].length;r++){var c=n[i][r];c.pkgid&&c.pkgid!==t.package&&this.getTaskByMap(c)}}this.taskService.getValidInputFile(t.id,this.currentProject.id);for(var a=0;a<this.selectedTask.arguments.length;a++){var s=this.selectedTask.arguments[a];"list"===s.type?this._selectedInputs[a]=s.default&&void 0!==s.default[0]?s.multiple?s.default:s.default[0]:[]:"value"===s.type?this._selectedInputs[a]=s.default&&void 0!==s.default[0]?s.default[0]:void 0:"outFile"===s.type&&(this.resultInfo.outputs[a]={name:s.name,desc:""})}}this.masonry&&(this.masonry.map(function(t){return t.layout()}),setTimeout(function(){return e.masonry.map(function(t){return t.layout()})},100))}}},{key:"masonryRelayout",value:function(){this.masonry&&(this.masonry.map(function(t){return t.reloadItems()}),this.masonry.map(function(t){return t.layout()}))}},{key:"onTaskReloadBtnClick",value:function(){this.currentProject&&this.currentProject.packages&&this.taskService.loadTasks(this.currentProject.packages.map(function(t){return t.id}),!1,!0)}},{key:"onTaskBlur",value:function(t){t.stopPropagation(),this.viewControls.workflowErrors=[],this.viewControls.workflowWarnings=[],this.selectedTask=void 0,this.paramChecked=!1,this.resultInfoChecked=!1,this.currentStep=0,this.masonry&&(this.masonry.map(function(t){return t.reloadItems()}),this.masonry.map(function(t){return t.layout()}))}},{key:"onGetList",value:function(t,e){if(!this.paramChecked){var n=this.selectedTask.arguments[e];if(this._selectedInputs[e]=void 0,this.viewControls.errorInputs=[],"list"===n.type){var i=n.dependOn.split(".");if("argv"===i[0]){var r,c=this._selectedInputs[+i[1]];for(var a in c)if(c[a]){r=a;break}if(r){var s=n.listType.split(".");"table"===s[0]&&this.dataService.getData(r,s[1],n.preview),this._valueOfListData[e]=r+s[1]+n.preview}else this.viewControls.errorInputs[+i[1]]="Please set this input first."}}}}},{key:"onListSaved",value:function(t,e){this._selectedInputs[e]=t.selectedList,this.viewControls.errorInputs=[]}},{key:"onFocusedDataFile",value:function(t,e,n){if(!this.paramChecked){for(var i in this._selectedInputs[e])this._selectedInputs[e][i]=i===t.id&&!this._selectedInputs[e][i];this._selectedDataFiles[e]=Object.values(this._selectedInputs[e]).filter(function(t){return t}).length>0,this.viewControls.errorInputs=[];for(var r=0;r<this.selectedTask.arguments.length;r++){var c=this.selectedTask.arguments[r];"list"===c.type&&c.dependOn==="argv."+e&&(this._selectedInputs[r]=void 0,this._valueOfListData[r]=void 0)}}}},{key:"loadValidSubset",value:function(t){}},{key:"trackByDataFile",value:function(t,e){return e.id}},{key:"checkParams",value:function(){var t=!1;this.viewControls.errorInputs=[];var e=[];this.paramChecked=!1;for(var n=0;n<this.selectedTask.arguments.length;n++){var i=this.selectedTask.arguments[n];if("outFile"!==i.type){if("inFile"===i.type)for(var r in this._selectedInputs[n])this._selectedInputs[n][r]&&(e[n]=r);else"value"===i.type?"number"===i.format&&isNaN(parseFloat(this._selectedInputs[n]))?this.viewControls.errorInputs[n]="Only numbers are accepted.":e[n]=this._selectedInputs[n]:"list"===i.type?this._selectedInputs[n]&&(e[n]=this._selectedInputs[n],Array.isArray(e[n])||(e[n]=[e[n]])):"static"===i.type&&(i.default[0]||(i.default[0]=" "),e[n]=i.default[0]);void 0!==this.viewControls.errorInputs[n]?t=!0:i.optional||e[n]&&0!==e[n].length||(t=!0,this.viewControls.errorInputs[n]="Please set this argument")}}t?(this.paramChecked=!1,this.currentStep=1):(this.paramChecked=!0,this.currentStep=2)}},{key:"onTimeStampChange",value:function(t){this.resultInfo.prefix=t.checked?"["+this.timeStamp+"] ":""}},{key:"checkResultInfo",value:function(){var t=!1;this.resultInfo.prefix=this.resultInfo.prefix.replace(/^\ +/,"").replace(/\ +$/," "),this.resultInfo.suffix=this.resultInfo.suffix.replace(/^\ +/," ").replace(/\ +$/,""),this.resultInfo.prefix.length>36?(this.viewControls.errorName="The length of the prefix should be less than or equal to 36 characters.",t=!0):this.resultInfo.suffix.length>36?(this.viewControls.errorName="The length of the suffix should be less than or equal to 36 characters.",t=!0):this.viewControls.errorName=!1,this.resultInfo.desc.length>500?(this.viewControls.errorDesc="The max length of the description is 500 characters.",t=!0):this.viewControls.errorDesc=!1,t||(this.resultInfoChecked=!0,this.currentStep=4)}},{key:"handleCorrectCaptcha",value:function(t){this.recaptchaResponse=t}},{key:"performTask",value:function(){var t=this,e=[],n=[],i=!1;this.viewControls.errorInputs=[],this.resultInfo.name.length>160?(this.viewControls.errorName="The length of the name should be less than or equal to 160 characters.",i=!0):this.viewControls.errorName=!1,this.resultInfo.desc.length>500?(this.viewControls.errorDesc="The max length of the description is 500 characters.",i=!0):this.viewControls.errorDesc=!1;for(var r=0;r<this.selectedTask.arguments.length;r++){var c=this.selectedTask.arguments[r];if("outFile"!==c.type){if("inFile"===c.type)for(var a in this._selectedInputs[r])this._selectedInputs[r][a]&&(e[r]=a);else"value"===c.type?"number"===c.format&&isNaN(parseFloat(this._selectedInputs[r]))?this.viewControls.errorInputs[r]="Only numbers are accepted.":e[r]=this._selectedInputs[r]:"list"===c.type?this._selectedInputs[r]&&(e[r]=this._selectedInputs[r],Array.isArray(e[r])||(e[r]=[e[r]])):"static"===c.type&&(c.default[0]||(c.default[0]=" "),e[r]=c.default[0]);void 0!==this.viewControls.errorInputs[r]?i=!0:c.optional||e[r]&&0!==e[r].length||(i=!0,this.viewControls.errorInputs[r]="Please set this input")}else{var s={name:void 0,desc:void 0};this.resultInfo.outputs[r].name.length>160&&(s.name="The name length exceeds 160 characters. Please shorten the name."),this.resultInfo.outputs[r].desc.length>500&&(s.desc="The description exceeds 500 characters. Please shorten the description."),s.name||s.desc?(this.viewControls.errorOutputs[r]=s,i=!0):n[r]={name:this.resultInfo.outputs[r].name,desc:this.resultInfo.outputs[r].desc}}}if(i)window.location.hash="settingParameters";else{var o=n.filter(function(t){return t}),u={run:!0,projectID:this.currentProject.id,inputs:e,outputs:o,name:this.resultInfo.name,desc:this.resultInfo.desc,prefix:this.resultInfo.prefix,suffix:this.resultInfo.suffix};this.viewControls.isSubmitting=!0,this.projectService.createResult(this.selectedTask.id,u).subscribe(function(e){if(!e.isError){var n=e.success;setTimeout(function(){return t.router.navigate(["/result",n.id,"info"])},100)}})}}},{key:"reset",value:function(){console.log("reset"),this.viewControls.isSubmitted=!1,this.viewControls.isSubmitting=!1,this.viewControls.isError=!1,this.selectedTask=void 0}},{key:"hasTag",value:function(t,e,n){for(var i=0,r=0;r<t.length;r++)for(var c=0;c<e.length;c++)t[r]===e[c]&&i++;var a=!1;return("any"===n&&i>0||"all"===n&&i===t.length)&&(a=!0),a}},{key:"uploadFileForArg",value:function(t){var e=this;this.dialogRef.open(Zt.a,{width:"99%",height:"95%",maxWidth:"95vw",maxHeight:"95vh",data:{title:"Importing file(s) for the argument <u>".concat(t.name,"</u> of the task <u>").concat(this.selectedTask.name,"</u>."),allowedFormats:[t.format],project:this.currentProject,sysConfig:this.sysConfig,tasks:this.tasks,importType:"Folder"===t.format?"folder":"local",currentUser:this.currentUser,tags:t.tags}}).afterClosed().subscribe(function(){e.taskService.getValidInputFile(e.selectedTask.id,e.currentProject.id)})}},{key:"ngOnDestroy",value:function(){this._subs.map(function(t){return t.unsubscribe()})}},{key:"onValidInputChanged",value:function(t){this.viewControls.isLoadingInputs=!1,this.validInputs.length=0,this.viewControls.errorInputs=[];for(var e=0;e<t.length;e++){var n=t[e];this.validInputs[n.index]=n.models,this._selectedInputs[n.index]||(this._selectedInputs[n.index]={});for(var i=Object.keys(this._selectedInputs[n.index]),r=n.models.map(function(t){return t.id}),c=0;c<i.length;c++){var a=i[c];r.indexOf(a)<0&&delete this._selectedInputs[n.index][a]}for(var s=0;s<n.models.length;s++)this._selectedInputs[n.index][n.models[s].id]=!!this._selectedInputs[n.index][n.models[s].id]}}}]),t}()).\u0275fac=function(t){return new(t||ji)(O.Ob(D.c),O.Ob(D.a),O.Ob(nt.a),O.Ob(rt.a),O.Ob(ct.a),O.Ob(Pe.a),O.Ob(it.a),O.Ob(B.b),O.Ob(Le.a))},ji.\u0275cmp=O.Ib({type:ji,selectors:[["result-create"]],viewQuery:function(t,e){var n;1&t&&O.Qc(R,1),2&t&&O.xc(n=O.dc())&&(e.masonry=n)},decls:93,vars:42,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],["class","breadcrumb-item",4,"ngIf"],["class","breadcrumb-item active",4,"ngIf"],[1,"bdp-main-container"],[1,"chi-header"],[1,"container-fluid"],["animationDuration","150ms",3,"dynamicHeight","selectedIndex","selectedIndexChange"],["mat-tab-label",""],[1,"p-1"],["class","row",4,"ngIf"],["class","row mx-2",4,"ngFor","ngForOf"],[3,"disabled"],[1,"row"],[1,"col-12"],["mat-raised-button","",3,"click"],[4,"ngIf"],["class","col-12",4,"ngIf"],[1,"ml-5"],[3,"disabled","change"],["useTimeStamp",""],[1,"ml-3"],["matInput","","placeholder","Prefix",3,"disabled","ngModel","ngModelChange"],["matInput","","placeholder","Suffix",3,"disabled","ngModel","ngModelChange"],[1,"col-md-2"],[1,"col-md-10"],[2,"width","100%"],["matInput","","type","text","maxlength","160","size","160",3,"disabled","ngModel","placeholder","ngModelChange"],["matPrefix",""],["matSuffix",""],["class","text-danger",4,"ngIf"],["matInput","","maxlength","500","rows","4","placeholder","(Optional) Give some descriptions about this result",3,"disabled","ngModel","ngModelChange"],["class","row mt-3",4,"ngIf"],["ngFor","",3,"ngForOf"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],[3,"currentTask","currentProject","resultInfo","selectedInputs","validInputs",4,"ngIf"],["resultOK",""],["mat-raised-button","","color","accent","role","button",1,"btn","btn-primary",3,"disabled","click"],[1,"breadcrumb-item","active"],["target","_blank",3,"routerLink"],[1,"fas","fa-external-link-alt","ml-3"],[1,"mr-2"],["name","fontStyle","aria-label","Font Style",3,"ngModel","ngModelChange"],["value","all"],["value","standard"],[1,"fas","fa-cog","fa-fx"],["value","workflow"],[1,"fas","fa-cogs","fa-fx"],["value","system"],[1,"fas","fa-server","fa-fx"],[3,"click"],[1,"fas","fa-sync-alt","fa-fx"],[1,"row","mx-2"],["class","col-12 text-primary","style","font-size: 36px;",4,"ngIf"],[2,"width","100%",3,"options","ordered"],[4,"ngFor","ngForOf"],["class","col-12 my-2",4,"ngIf"],[1,"col-12","text-primary",2,"font-size","36px"],[1,"fas","fa-cube","fa-fw","mr-2"],["ngxMasonryItem","","class","masonry-item",3,"width",4,"ngIf"],["ngxMasonryItem","",1,"masonry-item"],[2,"margin","5px",3,"click"],["mat-card-avatar","",3,"src",4,"ngIf"],["class","fas fa-cogs fa-lg fa-fw",4,"ngIf"],["class","fas fa-cog fa-lg fa-fw",4,"ngIf"],["class","fas fa-puzzle-piece fa-lg fa-fw",4,"ngIf"],["class","fas fa-server fa-lg fa-fw",4,"ngIf"],[1,"fas","fa-cube","mr-2"],["style","min-height: 300px; display: flex; justify-content: center; flex-direction: column; padding: 0 10px;",4,"ngIf"],["style","height: 100px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;","class","px-5",3,"innerHTML",4,"ngIf"],["mat-button","",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["mat-card-avatar","",3,"src"],[1,"fas","fa-cogs","fa-lg","fa-fw"],[1,"fas","fa-cog","fa-lg","fa-fw"],[1,"fas","fa-puzzle-piece","fa-lg","fa-fw"],[1,"fas","fa-server","fa-lg","fa-fw"],[2,"min-height","300px","display","flex","justify-content","center","flex-direction","column","padding","0 10px"],["mat-card-image","",1,"align-self-center",2,"max-height","300px","max-width","400px",3,"src"],[1,"px-5",2,"height","100px","white-space","nowrap","overflow","hidden","text-overflow","ellipsis",3,"innerHTML"],[3,"innerHTML"],["role","list",4,"ngIf"],["style","width: 100%;",3,"taskMapper","additionalTasks","childTasks","taskArgs",4,"ngIf"],["style","font-size: 14px;",4,"ngIf"],[2,"font-size","14px"],["role","list"],["role","listitem","class","text-warning",4,"ngFor","ngForOf"],["role","listitem",1,"text-warning"],["role","listitem","class","text-danger",4,"ngFor","ngForOf"],["role","listitem",1,"text-danger"],[2,"width","100%",3,"taskMapper","additionalTasks","childTasks","taskArgs"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"],[1,"fas","fa-project-diagram"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"col-12","my-2"],[1,"my-4"],[1,"row","pb-2","mb-4",3,"ngSwitch"],["class","col-md-12",4,"ngIf"],[3,"ngSwitchCase"],[1,"col-md-12"],["class","text-muted",4,"ngIf"],[1,"text-muted"],["matInput","","type","text",3,"disabled","placeholder","ngModel","ngModelChange"],[1,"text-danger"],["mat-icon-button","",3,"click"],[1,"fas","fa-upload","fa-fw","fa-lg"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"badge","badge-primary","m-1"],["class","col-xl-4 col-lg-6 my-2",3,"role","checked","disabled","dataFile","onFocused",4,"ngIf"],[1,"col-xl-4","col-lg-6","my-2",3,"role","checked","disabled","dataFile","onFocused"],[3,"ngModel","multiple","disabled","placeholder","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["class","col-12 p-2 m-2","style","padding:0px 10px;",4,"ngIf"],[1,"col-12","p-2","m-2",2,"padding","0px 10px"],["mat-button","","color","primary",1,"mb-3",2,"cursor","pointer",3,"click"],[1,"fa","fa-table"],[1,"fa","fa-caret-down","ml-2"],[1,"input-group"],["type","text","placeholder","No data selected.","readonly","",1,"form-control",3,"disabled","value"],[3,"hidden"],["style","width: 100%;","placeholder","Click to select the data","size","8",3,"multiple","ngModel","disabled","ngModelChange",4,"ngIf"],["placeholder","Click to select the data","size","8",2,"width","100%",3,"multiple","ngModel","disabled","ngModelChange"],["mat-raised-button","","color","warn",3,"click"],[1,"row","mt-3"],["class","row my-2",3,"hasError",4,"ngIf"],[1,"row","my-2"],["matInput","","type","text","maxlength","160","size","160",3,"disabled","placeholder","ngModel","ngModelChange"],[1,"col-md-12","mb-5"],["matInput","","maxlength","500","rows","4","placeholder","(Optional) Give some descriptions about this output.",3,"disabled","ngModel","ngModelChange"],[3,"currentTask","currentProject","resultInfo","selectedInputs","validInputs"],[1,"fas","fa-circle-o-notch","fa-spin","fa-lg","fa-fw","mr-3"]],template:function(t,e){if(1&t&&(O.Ub(0,"ol",0),O.Ub(1,"li",1),O.Ub(2,"a",2),O.Lc(3,"Home"),O.Tb(),O.Tb(),O.Ub(4,"li",1),O.Ub(5,"a",2),O.Lc(6,"Project List"),O.Tb(),O.Tb(),O.Jc(7,Xe,4,4,"li",3),O.Jc(8,Ze,2,0,"li",3),O.Jc(9,en,5,6,"li",4),O.Jc(10,nn,2,0,"li",4),O.Tb(),O.Ub(11,"div",5),O.Ub(12,"h4",6),O.Lc(13,"Let's perform a task"),O.Tb(),O.Pb(14,"br"),O.Pb(15,"br"),O.Ub(16,"div",7),O.Ub(17,"mat-tab-group",8),O.cc("selectedIndexChange",function(t){return e.currentStep=t}),O.Ub(18,"mat-tab"),O.Jc(19,rn,4,4,"ng-template",9),O.Ub(20,"div",10),O.Ub(21,"h2"),O.Lc(22,"Step 1. Choose a task"),O.Tb(),O.Jc(23,cn,13,1,"div",11),O.Jc(24,On,5,5,"div",12),O.Tb(),O.Tb(),O.Ub(25,"mat-tab",13),O.Jc(26,Mn,4,4,"ng-template",9),O.Ub(27,"h2"),O.Lc(28,"2. Set parameters"),O.Tb(),O.Jc(29,Jn,9,2,"div",11),O.Ub(30,"div",14),O.Ub(31,"div",15),O.Ub(32,"button",16),O.cc("click",function(){return e.showIntermediateFile=!e.showIntermediateFile}),O.Lc(33,"Toggle intermediate output files"),O.Tb(),O.Tb(),O.Tb(),O.Ub(34,"div",14),O.Jc(35,Fn,2,0,"div",17),O.Jc(36,fi,7,4,"div",18),O.Tb(),O.Tb(),O.Ub(37,"mat-tab",13),O.Jc(38,pi,4,4,"ng-template",9),O.Ub(39,"h2"),O.Lc(40,"Step 3. Set result information"),O.Tb(),O.Pb(41,"br"),O.Ub(42,"div",14),O.Ub(43,"div",15),O.Ub(44,"h3"),O.Lc(45,"Result prefix/suffix:"),O.Tb(),O.Ub(46,"div",19),O.Ub(47,"mat-checkbox",20,21),O.cc("change",function(t){return e.onTimeStampChange(t)}),O.Lc(49,"Time stamp"),O.Tb(),O.Ub(50,"mat-form-field",22),O.Ub(51,"input",23),O.cc("ngModelChange",function(t){return e.resultInfo.prefix=t}),O.Tb(),O.Tb(),O.Ub(52,"mat-form-field",22),O.Ub(53,"input",24),O.cc("ngModelChange",function(t){return e.resultInfo.suffix=t}),O.Tb(),O.Tb(),O.Tb(),O.Tb(),O.Tb(),O.Ub(54,"div",14),O.Ub(55,"div",25),O.Ub(56,"h3"),O.Lc(57,"Name"),O.Tb(),O.Tb(),O.Ub(58,"div",26),O.Ub(59,"mat-form-field",27),O.Ub(60,"input",28),O.cc("ngModelChange",function(t){return e.resultInfo.name=t}),O.Tb(),O.Ub(61,"span",29),O.Lc(62),O.Tb(),O.Ub(63,"span",30),O.Lc(64),O.Tb(),O.Jc(65,hi,2,1,"mat-hint",31),O.Tb(),O.Tb(),O.Tb(),O.Ub(66,"div",14),O.Ub(67,"div",25),O.Ub(68,"h3"),O.Lc(69,"Description"),O.Tb(),O.Tb(),O.Ub(70,"div",26),O.Ub(71,"mat-form-field",27),O.Ub(72,"textarea",32),O.cc("ngModelChange",function(t){return e.resultInfo.desc=t}),O.Lc(73),O.Tb(),O.Jc(74,gi,2,1,"mat-hint",31),O.Tb(),O.Tb(),O.Tb(),O.Jc(75,mi,4,0,"div",33),O.Jc(76,Ci,1,1,"ng-template",34),O.Jc(77,yi,2,0,"button",35),O.Jc(78,Ui,2,0,"button",36),O.Tb(),O.Ub(79,"mat-tab",13),O.Jc(80,wi,4,4,"ng-template",9),O.Ub(81,"h2"),O.Lc(82,"Step 4. Confirm and submit"),O.Tb(),O.Jc(83,Ii,1,5,"bdp-result-describer",37),O.Pb(84,"hr"),O.Pb(85,"br"),O.Ub(86,"mat-checkbox",null,38),O.Lc(88,"I have checked my result settings."),O.Tb(),O.Pb(89,"br"),O.Ub(90,"button",39),O.cc("click",function(){return e.performTask()}),O.Jc(91,Pi,2,0,"span",17),O.Jc(92,Li,3,0,"span",17),O.Tb(),O.Tb(),O.Tb(),O.Tb(),O.Tb()),2&t){var n=O.yc(48),i=O.yc(87);O.Cb(2),O.nc("routerLink",O.qc(40,xi)),O.Cb(3),O.nc("routerLink",O.qc(41,Si)),O.Cb(2),O.nc("ngIf",e.currentProject),O.Cb(1),O.nc("ngIf",!e.currentProject),O.Cb(1),O.nc("ngIf",e.currentProject),O.Cb(1),O.nc("ngIf",!e.currentProject),O.Cb(7),O.nc("dynamicHeight",!0)("selectedIndex",e.currentStep),O.Cb(6),O.nc("ngIf",!e.selectedTask),O.Cb(1),O.nc("ngForOf",e.packageKeys),O.Cb(1),O.nc("disabled",!e.selectedTask),O.Cb(4),O.nc("ngIf",e.selectedTask),O.Cb(6),O.nc("ngIf",e.viewControls.isLoadingInputs),O.Cb(1),O.nc("ngIf",!e.viewControls.isLoadingInputs),O.Cb(1),O.nc("disabled",!e.selectedTask||!e.paramChecked),O.Cb(10),O.nc("disabled",e.resultInfoChecked),O.Cb(4),O.nc("disabled",e.resultInfoChecked)("ngModel",e.resultInfo.prefix)("disabled",n.checked),O.Cb(2),O.nc("disabled",e.resultInfoChecked)("ngModel",e.resultInfo.suffix),O.Cb(7),O.pc("placeholder","Result of ",null==e.selectedTask?null:e.selectedTask.name,""),O.nc("disabled",e.resultInfoChecked)("ngModel",e.resultInfo.name),O.Cb(2),O.Mc(e.resultInfo.prefix),O.Cb(2),O.Mc(e.resultInfo.suffix),O.Cb(1),O.nc("ngIf",e.viewControls.errorName),O.Cb(7),O.nc("disabled",e.resultInfoChecked)("ngModel",e.resultInfo.desc),O.Cb(1),O.Mc(e.resultInfo.desc),O.Cb(1),O.nc("ngIf",e.viewControls.errorDesc),O.Cb(1),O.nc("ngIf",e.outputNumber>0),O.Cb(1),O.nc("ngForOf",null==e.selectedTask?null:e.selectedTask.arguments),O.Cb(1),O.nc("ngIf",e.selectedTask&&!e.resultInfoChecked),O.Cb(1),O.nc("ngIf",e.selectedTask&&e.resultInfoChecked),O.Cb(1),O.nc("disabled",!e.selectedTask||!e.paramChecked||!e.resultInfoChecked),O.Cb(4),O.nc("ngIf",e.paramChecked&&e.resultInfoChecked),O.Cb(7),O.nc("disabled",!i.checked||e.viewControls.isSubmitting),O.Cb(1),O.nc("ngIf",!e.viewControls.isSubmitting),O.Cb(1),O.nc("ngIf",e.viewControls.isSubmitting)}},directives:[D.f,d.n,P.c,P.a,P.d,d.m,h.b,v.a,z.b,y.a,f.b,f.i,f.l,f.e,z.f,z.g,C.a,g.b,g.a,R,E,m.a,m.f,m.j,m.i,m.d,m.b,m.c,m.g,j.a,j.c,je.a,L.a,d.p,d.q,z.e,xe.a,w.a,q.j,Ye],pipes:[d.v],styles:["fieldset[_ngcontent-%COMP%]{border:1px solid grey;padding:10px 15px}legend[_ngcontent-%COMP%]{margin-bottom:0;width:auto}.hasError[_ngcontent-%COMP%]{background-color:rgba(231,195,195,.3);border:1px solid red}.link[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,255,.1)}.mat-tab-label[_ngcontent-%COMP%]{opacity:1!important}.masonry-item[_ngcontent-%COMP%]{float:left;height:auto}.task-card[_ngcontent-%COMP%]:hover{background-color:#fff3cd;box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22)}"]}),ji),Oi=a("h2Ed"),Mi=a("LRne"),Ji=a("eIep");function Fi(t,e){1&t&&(O.Ub(0,"h3",12),O.Lc(1,"My projects"),O.Tb())}function Ri(t,e){1&t&&(O.Ub(0,"h3",12),O.Lc(1,"Projects that shared with me"),O.Tb())}function Ei(t,e){1&t&&(O.Ub(0,"h3",12),O.Lc(1,"Public projects"),O.Tb())}function Ni(t,e){1&t&&(O.Ub(0,"h1"),O.Lc(1,"One more step to proceed."),O.Tb())}function Di(t,e){1&t&&(O.Ub(0,"p"),O.Lc(1,"Please wait the administrator to unlock your privileges."),O.Tb())}function Bi(t,e){1&t&&(O.Ub(0,"h1"),O.Lc(1,"This account has been locked. Please inform the administrator to unlock your account."),O.Tb())}var zi=function(){return["/account/profile"]};function qi(t,e){1&t&&(O.Ub(0,"p"),O.Pb(1,"br"),O.Lc(2,"Sorry for the inconvinience, but this site aims for a private group to use. "),O.Pb(3,"br"),O.Lc(4,"Every user needs the admin's approval to use the resources. "),O.Pb(5,"br"),O.Ub(6,"b"),O.Lc(7,"You might want to "),O.Ub(8,"a",2),O.Lc(9,"specify your account name"),O.Tb(),O.Lc(10," to allow the administrator to recognize you."),O.Tb(),O.Tb()),2&t&&(O.Cb(8),O.nc("routerLink",O.qc(1,zi)))}function Ai(t,e){if(1&t&&(O.Ub(0,"div"),O.Ub(1,"div",13),O.Jc(2,Ni,2,0,"h1",9),O.Jc(3,Di,2,0,"p",9),O.Jc(4,Bi,2,0,"h1",9),O.Jc(5,qi,11,2,"p",9),O.Ub(6,"p"),O.Ub(7,"button",14),O.Lc(8,"Learn more"),O.Tb(),O.Tb(),O.Tb(),O.Tb()),2&t){var n=O.gc();O.Cb(2),O.nc("ngIf",n.currentUser&&!n.currentUser.auths.bdp),O.Cb(1),O.nc("ngIf",n.currentUser&&!n.currentUser.auths.bdp),O.Cb(1),O.nc("ngIf",n.currentUser&&1===n.currentUser.auths.bdp),O.Cb(1),O.nc("ngIf",n.currentUser&&!n.currentUser.auths.bdp)}}function Vi(t,e){if(1&t){var n=O.Vb();O.Ub(0,"div",27),O.Ub(1,"h1",28),O.Lc(2,"Welcome to the BD-Processor workbench!"),O.Tb(),O.Ub(3,"p",29),O.Lc(4,"You haven't created any project."),O.Tb(),O.Pb(5,"hr",30),O.Ub(6,"p"),O.Lc(7,"Try to create a project first."),O.Tb(),O.Ub(8,"button",31),O.cc("click",function(){return O.Bc(n),O.gc(3).onNewProject()}),O.Lc(9," Create a project "),O.Tb(),O.Tb()}}var $i=function(){return["/project/list"]},Wi=function(){return{listType:"myProjects"}},Gi=function(){return{listType:"publicProjects"}};function Hi(t,e){1&t&&(O.Ub(0,"div",27),O.Ub(1,"h1",32),O.Lc(2,"You have no shared projects."),O.Tb(),O.Ub(3,"p",29),O.Lc(4,"Other users can share their projects with you."),O.Tb(),O.Pb(5,"hr",30),O.Ub(6,"button",33),O.Lc(7," View your own projects "),O.Tb(),O.Ub(8,"button",34),O.Lc(9," View public projects "),O.Tb(),O.Tb()),2&t&&(O.Cb(6),O.nc("routerLink",O.qc(4,$i))("queryParams",O.qc(5,Wi)),O.Cb(2),O.nc("routerLink",O.qc(6,$i))("queryParams",O.qc(7,Gi)))}var Yi=function(){return{listType:"sharedProjects"}};function Ki(t,e){1&t&&(O.Ub(0,"div",27),O.Ub(1,"h1",32),O.Lc(2,"No public projects."),O.Tb(),O.Ub(3,"p",29),O.Lc(4,"Public projects can be viewed by registered users."),O.Tb(),O.Pb(5,"hr",30),O.Ub(6,"p"),O.Lc(7,"Registered users can specify their projects as public."),O.Tb(),O.Ub(8,"button",33),O.Lc(9," View your own projects "),O.Tb(),O.Ub(10,"button",34),O.Lc(11," View shared projects "),O.Tb(),O.Tb()),2&t&&(O.Cb(8),O.nc("routerLink",O.qc(4,$i))("queryParams",O.qc(5,Wi)),O.Cb(2),O.nc("routerLink",O.qc(6,$i))("queryParams",O.qc(7,Yi)))}function Qi(t,e){if(1&t){var n=O.Vb();O.Ub(0,"div",35),O.cc("click",function(){O.Bc(n);var t=e.$implicit;return O.gc(3).onProjectInfo(t)}),O.Ub(1,"span",36),O.Lc(2),O.Tb(),O.Pb(3,"br"),O.Ub(4,"h2",37),O.Lc(5),O.Tb(),O.Pb(6,"br"),O.Ub(7,"p",38),O.Lc(8),O.Tb(),O.Ub(9,"div"),O.Ub(10,"span",39),O.Lc(11),O.Tb(),O.Ub(12,"div",40),O.Ub(13,"span",41),O.Lc(14),O.Tb(),O.Pb(15,"br"),O.Ub(16,"span",41),O.Pb(17,"i",42),O.Lc(18),O.Tb(),O.Tb(),O.Tb(),O.Tb()}if(2&t){var i=e.$implicit;O.Cb(2),O.Mc(null==i?null:i.id),O.Cb(3),O.Mc(null==i?null:i.name),O.Cb(3),O.Nc(" ",null==i?null:i.desc," "),O.Cb(3),O.Nc("Updated at ",null==i||null==i.updatedAt?null:i.updatedAt.calendar(),""),O.Cb(3),O.Nc("Owner: ",(null==i||null==i.owner?null:i.owner.name)||"unknown",""),O.Cb(4),O.Mc(null==i||null==i.packages[0]?null:i.packages[0].fullname)}}var Xi=function(){return[2,5,10,30,50,100,300,500]},Zi=function(){return[10,30,50,100,300,500]};function tr(t,e){if(1&t){var n=O.Vb();O.Ub(0,"div"),O.Ub(1,"mat-paginator",22),O.cc("page",function(t){return O.Bc(n),O.gc(2).onPageChange(t)}),O.Tb(),O.Jc(2,Vi,10,0,"div",23),O.Jc(3,Hi,10,8,"div",23),O.Jc(4,Ki,12,8,"div",23),O.Ub(5,"div",24),O.cc("click",function(){return O.Bc(n),O.gc(2).onNewProject()}),O.Pb(6,"i",25),O.Lc(7,"Create a new project "),O.Tb(),O.Jc(8,Qi,19,6,"div",26),O.Ub(9,"mat-paginator",22),O.cc("page",function(t){return O.Bc(n),O.gc(2).onPageChange(t)}),O.Tb(),O.Tb()}if(2&t){var i=O.gc(2);O.Cb(1),O.nc("length",i.totalCount)("pageSize",i.pageSize)("pageIndex",i.pageIndex)("pageSizeOptions",O.qc(12,Xi)),O.Cb(1),O.nc("ngIf","myProjects"===i.listType&&i.projects&&0===i.projects.length),O.Cb(1),O.nc("ngIf","sharedProjects"===i.listType&&i.projects&&0===i.projects.length),O.Cb(1),O.nc("ngIf","publicProjects"===i.listType&&i.projects&&0===i.projects.length),O.Cb(4),O.nc("ngForOf",i.projects),O.Cb(1),O.nc("length",i.totalCount)("pageSize",i.pageSize)("pageIndex",i.pageIndex)("pageSizeOptions",O.qc(13,Zi))}}function er(t,e){if(1&t&&(O.Ub(0,"div",15),O.Ub(1,"div",16),O.Ub(2,"nav",17),O.Ub(3,"a",18),O.Pb(4,"i",19),O.Lc(5,"My Projects "),O.Tb(),O.Ub(6,"a",18),O.Pb(7,"i",20),O.Lc(8,"Shared "),O.Tb(),O.Ub(9,"a",18),O.Pb(10,"i",21),O.Lc(11,"Public "),O.Tb(),O.Tb(),O.Tb(),O.Ub(12,"div",16),O.Jc(13,tr,10,14,"div",9),O.Tb(),O.Tb()),2&t){var n=O.gc();O.Cb(3),O.Gc("background-color","myProjects"===n.listType?"#CCE5FE":"initial"),O.Gb("text-primary","myProjects"===n.listType),O.nc("routerLink",O.qc(22,$i))("queryParams",O.qc(23,Wi))("active","myProjects"===n.listType),O.Cb(3),O.Gc("background-color","sharedProjects"===n.listType?"#CCE5FE":"initial"),O.Gb("text-primary","sharedProjects"===n.listType),O.nc("routerLink",O.qc(24,$i))("queryParams",O.qc(25,Yi))("active","sharedProjects"===n.listType),O.Cb(3),O.Gc("background-color","publicProjects"===n.listType?"#CCE5FE":"initial"),O.Gb("text-primary","publicProjects"===n.listType),O.nc("routerLink",O.qc(26,$i))("queryParams",O.qc(27,Gi))("active","publicProjects"===n.listType),O.Cb(4),O.nc("ngIf",n.projects&&n.currentUser&&n.currentUser.auths.bdp>=2)}}function nr(t,e){1&t&&O.Pb(0,"i",55)}function ir(t,e){1&t&&O.Pb(0,"i",56)}function rr(t,e){if(1&t){var n=O.Vb();O.Ub(0,"div",43),O.Ub(1,"a",44),O.cc("click",function(){O.Bc(n);var t=O.gc();return t.showRightButtonContent=!t.showRightButtonContent}),O.Jc(2,nr,1,0,"i",45),O.Jc(3,ir,1,0,"i",46),O.Ub(4,"span",47),O.Lc(5,"MENU"),O.Tb(),O.Ub(6,"span",48),O.Lc(7,"\u276f"),O.Tb(),O.Tb(),O.Pb(8,"br"),O.Ub(9,"a",49),O.Pb(10,"i",50),O.Ub(11,"span",51),O.Lc(12,"My projects"),O.Tb(),O.Ub(13,"span",48),O.Lc(14,"\u276f"),O.Tb(),O.Tb(),O.Pb(15,"br"),O.Ub(16,"a",49),O.Pb(17,"i",52),O.Ub(18,"span",51),O.Lc(19,"Shared with me"),O.Tb(),O.Ub(20,"span",48),O.Lc(21,"\u276f"),O.Tb(),O.Tb(),O.Pb(22,"br"),O.Ub(23,"a",49),O.Pb(24,"i",53),O.Ub(25,"span",51),O.Lc(26,"Public projects"),O.Tb(),O.Ub(27,"span",48),O.Lc(28,"\u276f"),O.Tb(),O.Tb(),O.Pb(29,"br"),O.Ub(30,"a",44),O.cc("click",function(){return O.Bc(n),O.gc().onNewProject()}),O.Pb(31,"i",54),O.Ub(32,"span",51),O.Lc(33,"New project"),O.Tb(),O.Ub(34,"span",48),O.Lc(35,"\u276f"),O.Tb(),O.Tb(),O.Pb(36,"br"),O.Tb()}if(2&t){var i=O.gc();O.nc("@rightButtonState",i.showRightButtonContent?"active":"inactive"),O.Cb(2),O.nc("ngIf",i.showRightButtonContent),O.Cb(1),O.nc("ngIf",!i.showRightButtonContent),O.Cb(1),O.Gb("active",i.showRightButtonContent),O.Cb(5),O.Gb("active","myProjects"===i.listType),O.nc("routerLink",O.qc(25,$i))("queryParams",O.qc(26,Wi)),O.Cb(2),O.Gb("active",i.showRightButtonContent),O.Cb(5),O.Gb("active","sharedProjects"===i.listType),O.nc("routerLink",O.qc(27,$i))("queryParams",O.qc(28,Yi)),O.Cb(2),O.Gb("active",i.showRightButtonContent),O.Cb(5),O.Gb("active","publicProjects"===i.listType),O.nc("routerLink",O.qc(29,$i))("queryParams",O.qc(30,Gi)),O.Cb(2),O.Gb("active",i.showRightButtonContent),O.Cb(7),O.Gb("active",i.showRightButtonContent)}}var cr,ar=function(){return["/home"]},sr=((cr=function(){function t(e,n,i,r,a){c(this,t),this.projectService=e,this.systemService=n,this.router=i,this.route=r,this.userService=a,this._subs=[]}return s(t,[{key:"ngOnInit",value:function(){var t=this;this.systemService.toggleNavbar(!0),this.systemService.toggleSidebar(!0),this.systemService.maintainRightSidebarStatus(),this.projects=void 0,this.showRightButtonContent=!1,this.listType="myProjects",this.pageIndex=0,this.pageSize=30,this.totalCount=0,this._subs.push(this.userService.currentUser$.subscribe(function(e){return t.currentUser=e})),this.route.queryParamMap.pipe(Object(Ji.a)(function(e){return t.listType=e.get("listType")||"myProjects",t.pageSize=+e.get("pageSize")||30,t.pageIndex=+e.get("pageIndex")||0,t.currentUser&&t.currentUser.auths.bdp<=1?Object(Mi.a)(new Oi.a({errors:[],success:{records:[]}})):"sharedProjects"===t.listType?t.projectService.getSharedProjects(t.pageIndex,t.pageSize):"publicProjects"===t.listType?t.projectService.getPublicProjects(t.pageIndex,t.pageSize):t.projectService.getProjects(t.pageIndex,t.pageSize)})).subscribe(function(e){e.isError||(t.projects=e.success.records,t.totalCount=e.success.totalCount)})}},{key:"onNewProject",value:function(){this.router.navigate(["/project/create"])}},{key:"onProjectInfo",value:function(t){this.router.navigate(["/project/"+t.id+"/info"])}},{key:"onPageChange",value:function(t){this.router.navigate(["/project/list"],{queryParams:{listType:this.listType,pageSize:t.pageSize,pageIndex:t.pageIndex}})}},{key:"ngOnDestroy",value:function(){this._subs.map(function(t){return t.unsubscribe()})}}]),t}()).\u0275fac=function(t){return new(t||cr)(O.Ob(nt.a),O.Ob(rt.a),O.Ob(D.c),O.Ob(D.a),O.Ob(ct.a))},cr.\u0275cmp=O.Ib({type:cr,selectors:[["project-list"]],decls:18,vars:12,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"breadcrumb-item","active"],["target","_blank",3,"routerLink"],[1,"fas","fa-external-link-alt","ml-3"],[1,"bdp-main-container"],["class","chi-header",4,"ngIf"],[1,"container",2,"padding","10px"],[4,"ngIf"],["class","row",4,"ngIf"],["class","chi-right-menu",4,"ngIf"],[1,"chi-header"],[1,"jumbotron"],["type","button","role","button",1,"btn","btn-primary","btn-lg"],[1,"row"],[1,"col-12"],["mat-tab-nav-bar",""],["mat-tab-link","",2,"text-decoration","none",3,"routerLink","queryParams","active"],[1,"fas","fa-list","mr-3"],[1,"far","fa-handshake","fa-fw","mr-2"],[1,"fa","fa-list-alt","fa-fw","mr-2"],[2,"background-color","rgba(255,255, 255, 0.7)","border","thin solid darkgray",3,"length","pageSize","pageIndex","pageSizeOptions","page"],["class","jumbotron mb-0",4,"ngIf"],[1,"project","clearfix",2,"text-align","center","line-height","40px","min-height","40px","background-color","rgba(255, 243, 205, 0.4)",3,"click"],[1,"fas","fa-plus-square","fa-fw","mr-2"],["class","project clearfix",3,"click",4,"ngFor","ngForOf"],[1,"jumbotron","mb-0"],[1,"mat-display-2"],[1,"mat-title"],[1,"my-4"],["mat-raised-button","","color","primary",3,"click"],[1,"mat-display-1"],["mat-raised-button","","color","primary",3,"routerLink","queryParams"],["mat-raised-button","",1,"ml-3",3,"routerLink","queryParams"],[1,"project","clearfix",3,"click"],[1,"text-muted","float-right",2,"font-size","8pt"],[1,"projectTitle"],[1,"p-2","text-muted"],[1,"text-muted",2,"font-size","10pt"],[1,"clearfix","float-right","text-muted"],[1,"float-right"],[1,"fas","fa-cube","mr-2"],[1,"chi-right-menu"],[1,"chi-rbtn",3,"click"],["class","fa fa-angle-right fa-fw",4,"ngIf"],["class","fa fa-angle-left fa-fw",4,"ngIf"],[1,"chi-rbtn-content","ml-2"],[1,"chi-rbtn-arrow"],[1,"chi-rbtn",3,"routerLink","queryParams"],[1,"fas","fa-list","fa-fw"],[1,"chi-rbtn-content"],[1,"far","fa-handshake","fa-fw"],[1,"fa","fa-list-alt","fa-fw"],[1,"fas","fa-plus-square","fa-fw"],[1,"fa","fa-angle-right","fa-fw"],[1,"fa","fa-angle-left","fa-fw"]],template:function(t,e){1&t&&(O.Ub(0,"ol",0),O.Ub(1,"li",1),O.Ub(2,"a",2),O.Lc(3,"Home"),O.Tb(),O.Tb(),O.Ub(4,"li",3),O.Ub(5,"a",2),O.Lc(6," Project List"),O.Tb(),O.Ub(7,"a",4),O.Pb(8,"i",5),O.Tb(),O.Tb(),O.Tb(),O.Ub(9,"div",6),O.Jc(10,Fi,2,0,"h3",7),O.Jc(11,Ri,2,0,"h3",7),O.Jc(12,Ei,2,0,"h3",7),O.Pb(13,"br"),O.Ub(14,"div",8),O.Jc(15,Ai,9,4,"div",9),O.Jc(16,er,14,28,"div",10),O.Tb(),O.Tb(),O.Jc(17,rr,37,31,"div",11)),2&t&&(O.Cb(2),O.nc("routerLink",O.qc(9,ar)),O.Cb(3),O.nc("routerLink",O.qc(10,$i)),O.Cb(2),O.nc("routerLink",O.qc(11,$i)),O.Cb(3),O.nc("ngIf","myProjects"===e.listType),O.Cb(1),O.nc("ngIf","sharedProjects"===e.listType),O.Cb(1),O.nc("ngIf","publicProjects"===e.listType),O.Cb(3),O.nc("ngIf",e.currentUser&&e.currentUser.auths.bdp<=1),O.Cb(1),O.nc("ngIf",e.currentUser&&e.currentUser.auths.bdp>=2),O.Cb(1),O.nc("ngIf",e.projects&&e.currentUser&&e.currentUser.auths.bdp>=2))},directives:[D.f,d.n,P.f,P.e,U.a,d.m,h.b,D.d],styles:[".project[_ngcontent-%COMP%]{background-color:hsla(0,0%,100%,.5);box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);cursor:pointer;height:auto;margin:5px 0;min-height:70px;padding:5px;transition:all .3s cubic-bezier(.25,.8,.25,1)}.project[_ngcontent-%COMP%]:hover{background-color:#fff3cd;box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22)}.projectTitle[_ngcontent-%COMP%]{max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-tab-link[_ngcontent-%COMP%]{opacity:1!important}"],data:{animation:[Xt.a]}}),cr),or=a("MKys"),ur=a("xsm5"),lr=a("RMae"),br=a("jhN1"),dr=a("2uAV");function fr(t,e){if(1&t&&(O.Ub(0,"span"),O.Lc(1),O.Tb()),2&t){var n=O.gc(2);O.Cb(1),O.Nc(" ",n.currentProject.name,"")}}var pr=function(t){return["/project",t,"info"]};function hr(t,e){if(1&t&&(O.Ub(0,"li",8),O.Ub(1,"a",2),O.Lc(2,"Project"),O.Jc(3,fr,2,1,"span",5),O.Tb(),O.Ub(4,"a",9),O.Pb(5,"i",10),O.Tb(),O.Tb()),2&t){var n=O.gc();O.Cb(1),O.nc("routerLink",O.rc(3,pr,n.currentProject.id)),O.Cb(2),O.nc("ngIf",n.currentProject),O.Cb(1),O.nc("routerLink",O.rc(5,pr,n.currentProject.id))}}function gr(t,e){1&t&&(O.Ub(0,"li",8),O.Lc(1,"Project information"),O.Tb())}function mr(t,e){1&t&&(O.Ub(0,"div"),O.Lc(1,"Loading ... "),O.Pb(2,"i",11),O.Tb())}function vr(t,e){if(1&t){var n=O.Vb();O.Ub(0,"mat-form-field",31),O.Ub(1,"input",32),O.cc("ngModelChange",function(t){return O.Bc(n),O.gc(2).currentProject.name=t}),O.Tb(),O.Tb()}if(2&t){var i=O.gc(2);O.Cb(1),O.nc("ngModel",i.currentProject.name)}}function Tr(t,e){if(1&t){var n=O.Vb();O.Ub(0,"mat-form-field",31),O.Ub(1,"textarea",33),O.cc("ngModelChange",function(t){return O.Bc(n),O.gc(2).currentProject.desc=t}),O.Lc(2),O.Tb(),O.Tb()}if(2&t){var i=O.gc(2);O.Cb(1),O.nc("ngModel",i.currentProject.desc),O.Cb(1),O.Mc(i.currentProject.desc)}}function kr(t,e){1&t&&(O.Ub(0,"div",34),O.Lc(1," No package assigned. "),O.Tb())}function Cr(t,e){1&t&&O.Pb(0,"i",59)}function yr(t,e){1&t&&O.Pb(0,"i",60)}function Ur(t,e){if(1&t&&(O.Sb(0),O.Jc(1,Cr,1,0,"i",57),O.Jc(2,yr,1,0,"i",58),O.Rb()),2&t){var n=O.gc(2).$implicit;O.Cb(1),O.nc("ngIf",null==n.privilege?null:n.privilege.canView),O.Cb(1),O.nc("ngIf",!(null!=n.privilege&&n.privilege.canView))}}function wr(t,e){1&t&&O.Pb(0,"i",61)}function Ir(t,e){1&t&&(O.Ub(0,"span",48),O.Lc(1,"owner"),O.Tb())}function Pr(t,e){1&t&&(O.Ub(0,"span",48),O.Lc(1,"manager"),O.Tb())}function Lr(t,e){1&t&&(O.Ub(0,"span",48),O.Lc(1," viewer"),O.Tb())}function jr(t,e){1&t&&(O.Ub(0,"span",48),O.Lc(1," runner"),O.Tb())}function xr(t,e){if(1&t&&(O.Ub(0,"div",62),O.Jc(1,Ir,2,0,"span",49),O.Jc(2,Pr,2,0,"span",49),O.Jc(3,Lr,2,0,"span",49),O.Jc(4,jr,2,0,"span",49),O.Tb()),2&t){var n=O.gc(2).$implicit;O.Cb(1),O.nc("ngIf",n.privilege.isOwner),O.Cb(1),O.nc("ngIf",n.privilege.isManager),O.Cb(1),O.nc("ngIf",n.privilege.isViewer),O.Cb(1),O.nc("ngIf",n.privilege.isRunner)}}function Sr(t,e){1&t&&(O.Ub(0,"div",62),O.Ub(1,"span",48),O.Lc(2,"public"),O.Tb(),O.Tb())}function _r(t,e){1&t&&(O.Ub(0,"span",63),O.Lc(1,"main package"),O.Tb())}function Or(t,e){if(1&t&&(O.Ub(0,"span",64),O.Lc(1),O.Tb()),2&t){var n=e.$implicit;O.Cb(1),O.Mc(n)}}function Mr(t,e){if(1&t){var n=O.Vb();O.Ub(0,"button",69),O.cc("click",function(){O.Bc(n);var t=O.gc(3).index;return O.gc(3).movePkgUp(t)}),O.Pb(1,"i",70),O.Tb()}}function Jr(t,e){if(1&t){var n=O.Vb();O.Ub(0,"button",69),O.cc("click",function(){O.Bc(n);var t=O.gc(3).index;return O.gc(3).movePkgDown(t)}),O.Pb(1,"i",71),O.Tb()}}function Fr(t,e){if(1&t){var n=O.Vb();O.Ub(0,"mat-card-actions"),O.Jc(1,Mr,2,0,"button",65),O.Jc(2,Jr,2,0,"button",66),O.Ub(3,"button",67),O.cc("click",function(){O.Bc(n);var t=O.gc(2).index;return O.gc(3).removePkg(t)}),O.Pb(4,"i",68),O.Tb(),O.Tb()}if(2&t){var i=O.gc(2).index,r=O.gc(3);O.Cb(1),O.nc("ngIf",0!==i),O.Cb(1),O.nc("ngIf",i<r.currentProject.packages.length-1)}}function Rr(t,e){1&t&&(O.Ub(0,"span",48),O.Lc(1," (You)"),O.Tb())}function Er(t,e){1&t&&(O.Ub(0,"span",72),O.Lc(1,"Under development"),O.Tb())}function Nr(t,e){1&t&&(O.Ub(0,"span",73),O.Lc(1,"Experimenting"),O.Tb())}function Dr(t,e){1&t&&(O.Ub(0,"span",74),O.Lc(1,"Stable"),O.Tb())}function Br(t,e){1&t&&(O.Ub(0,"span",75),O.Lc(1,"Out of date"),O.Tb())}function zr(t,e){if(1&t&&(O.Ub(0,"mat-card",39),O.Ub(1,"mat-card-header"),O.Ub(2,"div",40),O.Jc(3,Ur,3,2,"ng-container",5),O.Jc(4,wr,1,0,"i",41),O.Tb(),O.Ub(5,"mat-card-title"),O.Ub(6,"b"),O.Lc(7),O.Tb(),O.Tb(),O.Ub(8,"mat-card-subtitle"),O.Lc(9),O.hc(10,"htmlToPlainText"),O.Tb(),O.Jc(11,xr,5,4,"div",42),O.Jc(12,Sr,3,0,"div",42),O.Tb(),O.Ub(13,"mat-card-content"),O.Jc(14,_r,2,0,"span",43),O.Jc(15,Or,2,1,"span",44),O.Tb(),O.Jc(16,Fr,5,2,"mat-card-actions",5),O.Ub(17,"mat-card-footer",45),O.Ub(18,"div",46),O.Pb(19,"i",47),O.Ub(20,"span",48),O.Lc(21),O.Tb(),O.Jc(22,Rr,2,0,"span",49),O.Tb(),O.Tb(),O.Ub(23,"mat-card-footer",50),O.Ub(24,"div",51),O.Sb(25,52),O.Jc(26,Er,2,0,"span",53),O.Jc(27,Nr,2,0,"span",54),O.Jc(28,Dr,2,0,"span",55),O.Jc(29,Br,2,0,"span",56),O.Rb(),O.Tb(),O.Tb(),O.Tb()),2&t){var n=O.gc(),i=n.$implicit,r=n.index,c=O.gc(3);O.Cb(3),O.nc("ngIf",!i.public),O.Cb(1),O.nc("ngIf",i.public),O.Cb(3),O.Mc(i.fullname),O.Cb(2),O.Nc(" ",O.ic(10,16,i.desc)," "),O.Cb(2),O.nc("ngIf",!i.public),O.Cb(1),O.nc("ngIf",i.public),O.Cb(2),O.nc("ngIf",0===r),O.Cb(1),O.nc("ngForOf",i.scope),O.Cb(1),O.nc("ngIf",c._viewControls.isEditing),O.Cb(5),O.Mc(i.owner?i.owner.name:"unset"),O.Cb(1),O.nc("ngIf",(null==i.owner?null:i.owner.id)===(null==c.currentUser?null:c.currentUser.id)),O.Cb(3),O.nc("ngSwitch",i.status),O.Cb(1),O.nc("ngSwitchCase",0),O.Cb(1),O.nc("ngSwitchCase",1),O.Cb(1),O.nc("ngSwitchCase",2),O.Cb(1),O.nc("ngSwitchCase",3)}}function qr(t,e){if(1&t&&(O.Ub(0,"div",37),O.Jc(1,zr,30,18,"mat-card",38),O.Tb()),2&t){var n=e.$implicit,i=O.gc(3);O.nc("cdkDragDisabled",!i._viewControls.isEditing),O.Cb(1),O.nc("ngIf",n)}}function Ar(t,e){if(1&t){var n=O.Vb();O.Ub(0,"div",24),O.Ub(1,"div",35),O.cc("cdkDropListDropped",function(t){return O.Bc(n),O.gc(2).drop(t)}),O.Jc(2,qr,2,2,"div",36),O.Tb(),O.Tb()}if(2&t){var i=O.gc(2);O.Cb(2),O.nc("ngForOf",i.currentProject.packages)}}function Vr(t,e){if(1&t){var n=O.Vb();O.Ub(0,"mat-card",76),O.cc("click",function(){return O.Bc(n),O.gc(2).onClickPackageSelector()}),O.Ub(1,"mat-card-header"),O.Ub(2,"div",40),O.Pb(3,"i",77),O.Tb(),O.Ub(4,"mat-card-title"),O.Ub(5,"b"),O.Lc(6,"Click to add a package"),O.Tb(),O.Tb(),O.Tb(),O.Tb()}}var $r=function(t){return["/project",t,"dataFile","list"]},Wr=function(t){return["/project",t,"result","list"]};function Gr(t,e){if(1&t){var n=O.Vb();O.Ub(0,"div",12),O.Ub(1,"div",13),O.Ub(2,"div",14),O.Ub(3,"div",15),O.Ub(4,"strong"),O.Lc(5,"Project name"),O.Tb(),O.Tb(),O.Ub(6,"div",16),O.Ub(7,"span",17),O.Lc(8),O.Tb(),O.Jc(9,vr,2,1,"mat-form-field",18),O.Tb(),O.Tb(),O.Pb(10,"br"),O.Ub(11,"div",14),O.Ub(12,"div",15),O.Ub(13,"strong"),O.Lc(14,"Description"),O.Tb(),O.Tb(),O.Ub(15,"div",16),O.Ub(16,"span",19),O.Lc(17),O.Tb(),O.Jc(18,Tr,3,2,"mat-form-field",18),O.Tb(),O.Tb(),O.Pb(19,"br"),O.Ub(20,"div",14),O.Ub(21,"div",15),O.Ub(22,"strong"),O.Lc(23,"Creation time"),O.Tb(),O.Tb(),O.Ub(24,"div",16),O.Lc(25),O.Tb(),O.Tb(),O.Pb(26,"br"),O.Ub(27,"div",14),O.Ub(28,"div",15),O.Ub(29,"strong"),O.Lc(30,"Last manipulation"),O.Tb(),O.Tb(),O.Ub(31,"div",16),O.Lc(32),O.Tb(),O.Tb(),O.Pb(33,"br"),O.Ub(34,"div",14),O.Ub(35,"div",15),O.Ub(36,"strong"),O.Lc(37,"Summary"),O.Tb(),O.Tb(),O.Ub(38,"div",16),O.Ub(39,"a",2),O.Lc(40),O.Tb(),O.Lc(41," and "),O.Ub(42,"a",2),O.Lc(43),O.Tb(),O.Lc(44,". "),O.Tb(),O.Tb(),O.Pb(45,"br"),O.Ub(46,"div",14),O.Ub(47,"div",15),O.Ub(48,"strong"),O.Lc(49,"Public project?"),O.Tb(),O.Tb(),O.Ub(50,"div",16),O.Ub(51,"mat-radio-group",20),O.cc("ngModelChange",function(t){return O.Bc(n),O.gc().currentProject.public=t}),O.Ub(52,"mat-radio-button",21),O.Lc(53,"Private"),O.Tb(),O.Ub(54,"mat-radio-button",22),O.Lc(55,"Public"),O.Tb(),O.Tb(),O.Tb(),O.Tb(),O.Ub(56,"div",14),O.Ub(57,"div",23),O.Ub(58,"strong"),O.Lc(59,"Privilege role settings"),O.Tb(),O.Tb(),O.Ub(60,"div",24),O.Ub(61,"table",25),O.Ub(62,"tr"),O.Ub(63,"td"),O.Lc(64,"Owner"),O.Tb(),O.Ub(65,"td"),O.Ub(66,"button",26),O.cc("click",function(){O.Bc(n);var t=O.gc();return t.openUserSelectDialog("the project owner","owner",!1,t.currentProject.owner)}),O.Lc(67),O.Tb(),O.Tb(),O.Tb(),O.Ub(68,"tr"),O.Ub(69,"td"),O.Lc(70,"Managers"),O.Tb(),O.Ub(71,"td"),O.Ub(72,"button",26),O.cc("click",function(){O.Bc(n);var t=O.gc();return t.openUserSelectDialog("the project managers","managers",!0,t.currentProject.managers)}),O.Lc(73),O.Tb(),O.Tb(),O.Tb(),O.Ub(74,"tr"),O.Ub(75,"td"),O.Lc(76,"Task runners"),O.Tb(),O.Ub(77,"td"),O.Ub(78,"button",26),O.cc("click",function(){O.Bc(n);var t=O.gc();return t.openUserSelectDialog("the task runners","runners",!0,t.currentProject.runners)}),O.Lc(79),O.Tb(),O.Tb(),O.Tb(),O.Ub(80,"tr"),O.Ub(81,"td"),O.Lc(82,"Viewers"),O.Tb(),O.Ub(83,"button",26),O.cc("click",function(){O.Bc(n);var t=O.gc();return t.openUserSelectDialog("the project viewers","viewers",!0,t.currentProject.viewers)}),O.Lc(84),O.Tb(),O.Tb(),O.Tb(),O.Tb(),O.Tb(),O.Pb(85,"br"),O.Ub(86,"div",14),O.Ub(87,"div",27),O.Ub(88,"b"),O.Lc(89,"Packages"),O.Tb(),O.Tb(),O.Jc(90,kr,2,0,"div",28),O.Jc(91,Ar,3,1,"div",29),O.Jc(92,Vr,7,0,"mat-card",30),O.Tb(),O.Pb(93,"br"),O.Tb(),O.Tb()}if(2&t){var i=O.gc();O.Cb(7),O.nc("hidden",i._viewControls.isEditing),O.Cb(1),O.Mc(null!=i.currentProject&&i.currentProject.name?null==i.currentProject?null:i.currentProject.name:"None"),O.Cb(1),O.nc("ngIf",i._viewControls.isEditing),O.Cb(7),O.nc("hidden",i._viewControls.isEditing),O.Cb(1),O.Mc(null!=i.currentProject&&i.currentProject.desc?null==i.currentProject?null:i.currentProject.desc:"None"),O.Cb(1),O.nc("ngIf",i._viewControls.isEditing),O.Cb(7),O.Nc(" ",null==i.currentProject||null==i.currentProject.createdAt?null:i.currentProject.createdAt.calendar()," "),O.Cb(7),O.Nc(" ",null==i.currentProject||null==i.currentProject.updatedAt?null:i.currentProject.updatedAt.calendar()," "),O.Cb(7),O.nc("routerLink",O.rc(23,$r,i.currentProject.id)),O.Cb(1),O.Nc("",null==i.currentProject?null:i.currentProject.dataFileNumber," data files"),O.Cb(2),O.nc("routerLink",O.rc(25,Wr,i.currentProject.id)),O.Cb(1),O.Nc("",null==i.currentProject?null:i.currentProject.resultNumber," results"),O.Cb(8),O.nc("ngModel",i.currentProject.public)("disabled",!i._viewControls.isEditing),O.Cb(1),O.nc("value",!1),O.Cb(2),O.nc("value",!0),O.Cb(13),O.Mc(i.currentProject.owner.name?i.currentProject.owner.name:"unset"),O.Cb(6),O.Mc(null==i.currentProject.managers?null:i.currentProject.managers.length),O.Cb(6),O.Mc(null==i.currentProject.runners?null:i.currentProject.runners.length),O.Cb(5),O.Mc(null==i.currentProject.viewers?null:i.currentProject.viewers.length),O.Cb(6),O.nc("ngIf",0===i.currentProject.packages.length),O.Cb(1),O.nc("ngIf",i.currentProject.packages.length>0&&i.packageSheetNames.length>0),O.Cb(1),O.nc("ngIf",i._viewControls.isEditing&&i.currentProject.packages.length<=10)}}function Hr(t,e){1&t&&O.Pb(0,"i",88)}function Yr(t,e){1&t&&O.Pb(0,"i",89)}var Kr=function(t,e){return{"fa-edit":t,"fa-save":e}};function Qr(t,e){if(1&t){var n=O.Vb();O.Sb(0),O.Ub(1,"a",79),O.cc("click",function(){return O.Bc(n),O.gc(2).onSave()}),O.Pb(2,"i",90),O.Ub(3,"span",86),O.Lc(4),O.Tb(),O.Ub(5,"span",83),O.Lc(6,"\u276f"),O.Tb(),O.Tb(),O.Pb(7,"br"),O.Rb()}if(2&t){var i=O.gc(2);O.Cb(1),O.Gb("active",i._viewControls.isEditing),O.Cb(1),O.nc("ngClass",O.sc(6,Kr,!i._viewControls.isEditing,i._viewControls.isEditing)),O.Cb(1),O.Gb("active",i._viewControls.isEditing||i.showRightButtonContent),O.Cb(1),O.Mc(i._viewControls.isEditing?"Click to save info":"Edit project info")}}var Xr=function(t){return["/project",t,"fileImport"]};function Zr(t,e){if(1&t&&(O.Sb(0),O.Ub(1,"a",84),O.Pb(2,"i",91),O.Ub(3,"span",86),O.Lc(4,"File Import"),O.Tb(),O.Ub(5,"span",83),O.Lc(6,"\u276f"),O.Tb(),O.Tb(),O.Pb(7,"br"),O.Rb()),2&t){var n=O.gc(2);O.Cb(1),O.nc("routerLink",O.rc(3,Xr,n.currentProject.id)),O.Cb(2),O.Gb("active",n.showRightButtonContent)}}var tc=function(t){return["/project",t,"result","creation"]};function ec(t,e){if(1&t&&(O.Sb(0),O.Ub(1,"a",84),O.Pb(2,"i",92),O.Ub(3,"span",86),O.Lc(4,"Execute tasks"),O.Tb(),O.Ub(5,"span",83),O.Lc(6,"\u276f"),O.Tb(),O.Tb(),O.Pb(7,"br"),O.Rb()),2&t){var n=O.gc(2);O.Cb(1),O.nc("routerLink",O.rc(3,tc,n.currentProject.id)),O.Cb(2),O.Gb("active",n.showRightButtonContent)}}function nc(t,e){if(1&t){var n=O.Vb();O.Sb(0),O.Ub(1,"a",79),O.cc("click",function(){return O.Bc(n),O.gc(2).deleteProjectDialog()}),O.Pb(2,"i",93),O.Ub(3,"span",86),O.Lc(4,"Delete"),O.Tb(),O.Ub(5,"span",83),O.Lc(6,"\u276f"),O.Tb(),O.Tb(),O.Pb(7,"br"),O.Rb()}if(2&t){var i=O.gc(2);O.Cb(3),O.Gb("active",i.showRightButtonContent)}}function ic(t,e){if(1&t){var n=O.Vb();O.Ub(0,"div",78),O.Ub(1,"a",79),O.cc("click",function(){O.Bc(n);var t=O.gc();return t.showRightButtonContent=!t.showRightButtonContent}),O.Jc(2,Hr,1,0,"i",80),O.Jc(3,Yr,1,0,"i",81),O.Ub(4,"span",82),O.Lc(5,"MENU"),O.Tb(),O.Ub(6,"span",83),O.Lc(7,"\u276f"),O.Tb(),O.Tb(),O.Pb(8,"br"),O.Jc(9,Qr,8,9,"ng-container",5),O.Ub(10,"a",84),O.Pb(11,"i",85),O.Ub(12,"span",86),O.Lc(13,"Data files"),O.Tb(),O.Ub(14,"span",83),O.Lc(15,"\u276f"),O.Tb(),O.Tb(),O.Pb(16,"br"),O.Ub(17,"a",84),O.Pb(18,"i",87),O.Ub(19,"span",86),O.Lc(20,"Results"),O.Tb(),O.Ub(21,"span",83),O.Lc(22,"\u276f"),O.Tb(),O.Tb(),O.Pb(23,"br"),O.Jc(24,Zr,8,5,"ng-container",5),O.Jc(25,ec,8,5,"ng-container",5),O.Jc(26,nc,8,2,"ng-container",5),O.Tb()}if(2&t){var i=O.gc();O.nc("@rightButtonState",i.showRightButtonContent?"active":"inactive"),O.Cb(2),O.nc("ngIf",i.showRightButtonContent),O.Cb(1),O.nc("ngIf",!i.showRightButtonContent),O.Cb(1),O.Gb("active",i.showRightButtonContent),O.Cb(5),O.nc("ngIf",i.currentProject.privilege.canEdit),O.Cb(1),O.nc("routerLink",O.rc(15,$r,i.currentProject.id)),O.Cb(2),O.Gb("active",i.showRightButtonContent),O.Cb(5),O.nc("routerLink",O.rc(17,Wr,i.currentProject.id)),O.Cb(2),O.Gb("active",i.showRightButtonContent),O.Cb(5),O.nc("ngIf",i.currentProject.privilege.canAddFile),O.Cb(1),O.nc("ngIf",i.currentProject.privilege.canRun),O.Cb(1),O.nc("ngIf",i.currentProject.privilege.canDelete)}}var rc=function(){return["/home"]},cc=function(){return["/project/list"]};function ac(t,e){1&t&&(O.Ub(0,"div",18),O.Ub(1,"div",28),O.Pb(2,"i",29),O.Lc(3,"Your account hasn't been activated as a Normal User, please contact the System Root."),O.Tb(),O.Tb())}function sc(t,e){1&t&&(O.Ub(0,"b"),O.Lc(1,"*Require "),O.Ub(2,"u"),O.Lc(3,"Normal User"),O.Tb(),O.Tb())}function oc(t,e){1&t&&(O.Ub(0,"b"),O.Lc(1,"*Require "),O.Ub(2,"u"),O.Lc(3,"Normal User"),O.Tb(),O.Tb())}function uc(t,e){1&t&&(O.Ub(0,"b"),O.Lc(1,"*Require "),O.Ub(2,"u"),O.Lc(3,"Normal User"),O.Tb(),O.Tb())}var lc=function(){return["/project/create"]},bc=function(){return["/project/list"]};function dc(t,e){1&t&&(O.Ub(0,"span",30),O.Lc(1,"If you don't know where to start, you may "),O.Ub(2,"a",2),O.Lc(3,"create a new project"),O.Tb(),O.Lc(4," or select a project from "),O.Ub(5,"a",2),O.Lc(6,"the project lists"),O.Tb(),O.Lc(7,"."),O.Tb()),2&t&&(O.Cb(2),O.nc("routerLink",O.qc(2,lc)),O.Cb(3),O.nc("routerLink",O.qc(3,bc)))}var fc,pc,hc,gc,mc,vc=function(){return["/home"]},Tc=function(){return["/project/quick-start"]},kc=function(){return["/account/profile"]},Cc=function(){return["/result/activities"]},yc=function(t){return["/project",t,"fileImport"]},Uc=function(t){return["/project",t,"result","creation"]},wc=function(t){return["/project",t,"dataFile","list"]},Ic=function(t){return["/project",t,"result","list"]},Pc=function(){return["/page"]},Lc=function(t){return{project:t}},jc=D.g.forChild([{path:"",pathMatch:"full",redirectTo:"list"},{path:"create",component:Qt,data:{path:"project/create"},canActivate:[or.a]},{path:":pid/info",component:(pc=function(){function t(e,n,i,r,a,s,o,u,l){c(this,t),this.router=e,this.route=n,this.projectService=r,this.infoService=a,this.dialog=s,this.systemService=o,this.accountService=u,this.taskService=l,this._subs=[]}return s(t,[{key:"ngOnInit",value:function(){var t=this;this.systemService.toggleNavbar(!0),this.systemService.toggleSidebar(!0),this.systemService.maintainRightSidebarStatus(),this.dataFileCardMode="card",this._viewControls={isDataFileDeleting:!1,isResultDeleting:!1,dataFileViewMode:"table",resultViewMode:"table",isEditing:!1,isLoading:!0,isProjectDeleting:!1,isHideDataFiles:!1,isHideResults:!1,confirmDelete:"",showPackageInfo:!1},this.packageSheetNames=[],this.showRightButtonContent=!1,this._subs.push(this.accountService.currentUser$.subscribe(function(e){e&&e.isLoggedIn&&(t.currentUser=e)})),this._subs.push(this.systemService.sysInfo$.subscribe(function(e){e&&(t.recaptchaKey=e.reCaptchaSiteKey)})),this._subs.push(this.projectService.currentProject$.subscribe(function(e){e&&(t.currentProject=e,e.packages&&(t.currentPackages=e.packages),t._viewControls.isLoading=!1)})),this.taskService.packageList$.subscribe(function(e){t.packageLists={},t.packageSheetNames=[],e.forEach(function(e){var n=e.sheetName||"Internal Package List";t.packageLists[n]||(t.packageLists[n]=[]),t.packageLists[n].push(e)}),t.packageSheetNames=Object.keys(t.packageLists),t.packageSheetNames=Object(et.a)(t.packageSheetNames);var i,r=n(t.packageSheetNames);try{for(r.s();!(i=r.n()).done;){var c=i.value;t.packageLists[c]=Object(et.a)(t.packageLists[c],[function(t){return t.name}],["asc"])}}catch(a){r.e(a)}finally{r.f()}}),this.route.queryParamMap.subscribe(function(e){t._viewControls.isEditing="1"===e.get("edit")}),this.route.paramMap.subscribe(function(e){var n=e.get("pid");t.projectService.setCurrentProject(n)}),this.taskService.loadPackages()}},{key:"onProjectChange",value:function(t){this.currentProject=t}},{key:"setStatusCSS",value:function(t){var e={"fa-circle-o-notch":!1,"fa-spin":!1,"fa-hourglass-half":!1,"fa-check":!1,"fa-times":!1};switch(t){case 0:e["fa-hourglass-half"]=!0;break;case 1:e["fa-circle-o-notch"]=!0,e["fa-spin"]=!0;break;case 2:e["fa-check"]=!0;break;case 3:e["fa-times"]=!0}return e}},{key:"refresh",value:function(){return this.currentProject?this.projectService.setCurrentProject(this.currentProject.id,!0):""}},{key:"goToFileUploadPage",value:function(){this.router.navigate(["/project",this.currentProject.id,"fileImport"])}},{key:"trackByDataFile",value:function(t,e){return e.id}},{key:"goToNewResultPage",value:function(){this.router.navigate(["/project",this.currentProject.id,"result","creation"])}},{key:"onFocusedDataFile",value:function(t){this.focusedDataFile=t}},{key:"onFocusedResult",value:function(t){this.focusedResult=t}},{key:"gotoDataFile",value:function(t,e){return this.router.navigate(["/dataFile",t.id,"info"],e?{queryParams:{edit:1}}:{})}},{key:"gotoResult",value:function(t,e){return this.router.navigate(["/result",t.id,"info"],e?{queryParams:{edit:1}}:{})}},{key:"deleteProject",value:function(t){var e=this;this._subs.push(this.projectService.removeProject(this.currentProject).subscribe(function(t){return t.isError?"":e.router.navigate(["/project/list"])}))}},{key:"deleteProjectDialog",value:function(){var t=this,e=this.dialog.open(ur.a,{disableClose:!1});e.componentInstance.setOptions({title:'<h4 class="modal-title text-danger" id="myModalLabel"> Are you sure you want to delete the project\n        <strong>'.concat(this.currentProject.name,"</strong>?</h4>"),desc:'<span class="text-danger">This will delete the project, name: <b>'.concat(this.currentProject.name,"</b>,\n         and all the associated results and data files.<br>This cannot be undone.\n         Make sure this is something you really want to do!</span><br>"),confirmWord:"Delete"}),e.afterClosed().subscribe(function(e){return e?t.deleteProject(e):""})}},{key:"onSave",value:function(){var t=this;if(this._viewControls.isEditing){this._viewControls.isEditing=!1;var e=this.projectService.updateProjectInfo(this.currentProject,this.currentProject.packages.map(function(t){return t.id})).subscribe(function(n){n.isError||t.projectService.setCurrentProject(n.success.id),e.unsubscribe()})}else this._viewControls.isEditing=!0}},{key:"openUserSelectDialog",value:function(t,e,n,i){var r=this,c=this.dialog.open(lr.a,{disableClose:!1,width:"95%",height:"95%"});n||(i=i&&i.id?[i]:[]);var a=this.currentProject.privilege,s=a.canSetMember&&!(("owner"===e||"managers"===e)&&a.isManager);c.componentInstance.setOptions({scope:t,isMultiple:n,canEdit:s,userList:i,authField:"bdp",currentUser:this.currentUser}),c.afterClosed().subscribe(function(t){if(s&&t&&t.length>0)var n=r.projectService.setProjectMembers(r.currentProject.id,e,t).subscribe(function(){return n.unsubscribe()})})}},{key:"drop",value:function(t){Object(_.d)(this.currentProject.packages,t.previousIndex,t.currentIndex)}},{key:"movePkgUp",value:function(t){if(!(t<1)){var e=this.currentProject.packages.splice(t,1)[0];console.log(e),this.currentProject.packages.splice(t-1,0,e)}}},{key:"movePkgDown",value:function(t){if(!(t>=this.currentProject.packages.length-1)){var e=this.currentProject.packages.splice(t,1)[0];this.currentProject.packages.splice(t+1,0,e)}}},{key:"removePkg",value:function(t){this.currentProject.packages.splice(t,1)}},{key:"onClickPackageSelector",value:function(){var t=this;this.dialog.open(tt,{disableClose:!1,data:{packageLists:this.packageLists,packageSheetNames:this.packageSheetNames,selectedPackages:this.currentProject.packages}}).afterClosed().subscribe(function(e){t.currentProject.packages.push(e)})}},{key:"ngOnDestroy",value:function(){this._subs.map(function(t){return t.unsubscribe?t.unsubscribe():""})}}]),t}(),pc.\u0275fac=function(t){return new(t||pc)(O.Ob(D.c),O.Ob(D.a),O.Ob(br.b),O.Ob(nt.a),O.Ob(dr.a),O.Ob(B.b),O.Ob(rt.a),O.Ob(ct.a),O.Ob(it.a))},pc.\u0275cmp=O.Ib({type:pc,selectors:[["project-info"]],decls:17,vars:9,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],["class","breadcrumb-item active",4,"ngIf"],[1,"bdp-main-container"],[4,"ngIf"],["class","container-fluid",4,"ngIf"],["class","chi-right-menu",4,"ngIf"],[1,"breadcrumb-item","active"],["target","_blank",3,"routerLink"],[1,"fas","fa-external-link-alt","ml-3"],[1,"fas","fa-circle-notch","fa-fw","fa-spin","fa-lg"],[1,"container-fluid"],[2,"font-size","14px"],[1,"row"],[1,"col-md-2"],[1,"col-md-9"],[2,"text-indent","36px","width","100%",3,"hidden"],["style","width: 100%;",4,"ngIf"],[2,"text-indent","36px","width","100%","word-break","break-all",3,"hidden"],[3,"ngModel","disabled","ngModelChange"],[1,"ml-2",3,"value"],[1,"ml-5",3,"value"],[1,"col-12","my-3"],[1,"col-12"],[1,"ml-5"],["mat-button","",3,"click"],[1,"col-lg-3"],["class","col-lg-9",4,"ngIf"],["class","col-12",4,"ngIf"],["class","col-12","class","link viewable","style","height: auto; width: 100%;",3,"click",4,"ngIf"],[2,"width","100%"],["matInput","","type","text","maxlength","160","placeholder","The project name (length must be smaller or equal than 160 characters)",3,"ngModel","ngModelChange"],["matInput","","placeholder","Say something about this project. (max length: 1000 characters)","maxlength","1000","rows","3",3,"ngModel","ngModelChange"],[1,"col-lg-9"],["cdkDropList","",3,"cdkDropListDropped"],["cdkDrag","",3,"cdkDragDisabled",4,"ngFor","ngForOf"],["cdkDrag","",3,"cdkDragDisabled"],["class","ml-1 my-2","style","height: auto",4,"ngIf"],[1,"ml-1","my-2",2,"height","auto"],["mat-card-avatar",""],["class","fas fa-unlock fa-fw fa-2x",4,"ngIf"],["class","ml-3","style","position: absolute; top: 2px; right: 5px; font-size: 14px;",4,"ngIf"],["class","badge badge-warning m-3",4,"ngIf"],["class","m-3 badge badge-primary",4,"ngFor","ngForOf"],[2,"text-align","left"],[1,"small","ml-3",2,"font-size","12pt","margin","5px 5px"],[1,"fas","fa-user-circle","text-muted","ml-5","mr-2"],[1,"text-muted"],["class","text-muted",4,"ngIf"],[2,"text-align","right"],[1,"small","text-mute",2,"font-size","14pt","margin","5px 5px"],[3,"ngSwitch"],["class","badge badge-danger",4,"ngSwitchCase"],["class","badge badge-warning",4,"ngSwitchCase"],["class","badge badge-success",4,"ngSwitchCase"],["class","badge badge-default",4,"ngSwitchCase"],["class","fas fa-cube fa-fw fa-2x",4,"ngIf"],["class","fas fa-lock fa-fw fa-2x",4,"ngIf"],[1,"fas","fa-cube","fa-fw","fa-2x"],[1,"fas","fa-lock","fa-fw","fa-2x"],[1,"fas","fa-unlock","fa-fw","fa-2x"],[1,"ml-3",2,"position","absolute","top","2px","right","5px","font-size","14px"],[1,"badge","badge-warning","m-3"],[1,"m-3","badge","badge-primary"],["mat-button","","color","primary","style","min-width: 1%;",3,"click",4,"ngIf"],["style","min-width: 1%;","mat-button","","color","primary",3,"click",4,"ngIf"],["mat-button","","color","accent",2,"min-width","1%",3,"click"],[1,"fas","fa-times","fa-fw"],["mat-button","","color","primary",2,"min-width","1%",3,"click"],[1,"fas","fa-arrow-up","fa-fw"],[1,"fas","fa-arrow-down","fa-fw"],[1,"badge","badge-danger"],[1,"badge","badge-warning"],[1,"badge","badge-success"],[1,"badge","badge-default"],[1,"link","viewable",2,"height","auto","width","100%",3,"click"],[1,"far","fa-plus-square","fa-fw","fa-2x"],[1,"chi-right-menu"],[1,"chi-rbtn",3,"click"],["class","fa fa-angle-right fa-fw",4,"ngIf"],["class","fa fa-angle-left fa-fw",4,"ngIf"],[1,"chi-rbtn-content","ml-2"],[1,"chi-rbtn-arrow"],[1,"chi-rbtn",3,"routerLink"],[1,"far","fa-file","fa-fw"],[1,"chi-rbtn-content"],[1,"far","fa-folder-open","fa-fw"],[1,"fa","fa-angle-right","fa-fw"],[1,"fa","fa-angle-left","fa-fw"],[1,"far","fa-fw",3,"ngClass"],[1,"fa","fa-upload","fa-fw"],[1,"fa","fa-play","fa-fw"],[1,"far","fa-trash-alt","fa-fw"]],template:function(t,e){1&t&&(O.Ub(0,"ol",0),O.Ub(1,"li",1),O.Ub(2,"a",2),O.Lc(3,"Home"),O.Tb(),O.Tb(),O.Ub(4,"li",1),O.Ub(5,"a",2),O.Lc(6,"Project List"),O.Tb(),O.Tb(),O.Jc(7,hr,6,7,"li",3),O.Jc(8,gr,2,0,"li",3),O.Tb(),O.Ub(9,"div",4),O.Ub(10,"h3"),O.Lc(11,"Project information"),O.Tb(),O.Pb(12,"br"),O.Pb(13,"br"),O.Jc(14,mr,3,0,"div",5),O.Jc(15,Gr,94,27,"div",6),O.Tb(),O.Jc(16,ic,27,19,"div",7)),2&t&&(O.Cb(2),O.nc("routerLink",O.qc(7,rc)),O.Cb(3),O.nc("routerLink",O.qc(8,cc)),O.Cb(2),O.nc("ngIf",e.currentProject),O.Cb(1),O.nc("ngIf",!e.currentProject),O.Cb(6),O.nc("ngIf",e._viewControls.isLoading),O.Cb(1),O.nc("ngIf",!e._viewControls.isLoading&&void 0!==e.currentProject),O.Cb(1),O.nc("ngIf",e.currentProject))},directives:[D.f,d.n,x.b,f.i,f.l,x.a,h.b,z.b,y.a,f.b,f.e,_.b,d.m,_.a,m.a,m.f,m.c,m.j,m.i,m.d,m.e,d.p,d.q,m.b,d.l],pipes:[at.a],styles:["h3[_ngcontent-%COMP%]{border-bottom:1px solid #b4b4b4;display:inline-block;font-size:27px;font-style:italic;margin:0;padding-bottom:0}.projectTitle[_ngcontent-%COMP%]{font-size:18px;max-width:100%;overflow:hidden;padding-right:150px;text-overflow:ellipsis;white-space:nowrap}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding:1px}.subsetCard[_ngcontent-%COMP%]{background-color:hsla(0,0%,100%,.5);box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);height:150px;margin:10px 0;min-height:80px;overflow:hidden;padding:10px;text-overflow:ellipsis}.viewable[_ngcontent-%COMP%]:hover{background-color:#fff3cd;border-color:#ffeeba;box-shadow:0 10px 20px rgba(0,0,0,.19),0 6px 6px rgba(0,0,0,.23)}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.3}"],data:{animation:[Xt.a]}}),pc),data:{path:"project/info"},canActivate:[or.a]},{path:":pid/fileImport",component:we,data:{path:"project/import"},canActivate:[or.a]},{path:"list",component:sr,data:{path:"project/list"},canActivate:[or.a]},{path:":pid/result/creation",component:_i,data:{path:"project/resultcreate"},canActivate:[or.a]},{path:"quick-start",component:(fc=function(){function t(e,n,i){c(this,t),this.systemService=e,this.projectService=n,this.accountService=i,this._subs=[]}return s(t,[{key:"ngOnInit",value:function(){var t=this;this.systemService.toggleNavbar(!0),this.systemService.toggleSidebar(!0),this.systemService.maintainRightSidebarStatus(),this._subs.push(this.projectService.currentProject$.subscribe(function(e){return t.currentProject=e})),this._subs.push(this.accountService.currentUser$.subscribe(function(e){return t.currentUser=e}))}},{key:"ngOnDestroy",value:function(){this._subs.map(function(t){return t.unsubscribe()})}}]),t}(),fc.\u0275fac=function(t){return new(t||fc)(O.Ob(rt.a),O.Ob(nt.a),O.Ob(ct.a))},fc.\u0275cmp=O.Ib({type:fc,selectors:[["quick-start"]],decls:89,vars:84,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"breadcrumb-item","active"],["target","_blank",3,"routerLink"],[1,"fas","fa-external-link-alt","ml-3"],[1,"bdp-main-container"],[1,"chi-header"],[1,"row"],["class","col-12",4,"ngIf"],[1,"col-md-6","col-lg-4","col-xl-3","my-3"],[1,"quick-card","link","p-4",3,"routerLink"],[1,"far","fa-address-card","fa-3x"],[1,"text-muted","text-justify","px-3","desc"],[1,"far","fa-plus-square","fa-3x"],[4,"ngIf"],[1,"fas","fa-th-list","fa-3x"],[1,"fas","fa-history","fa-3x"],[1,"col-12"],[1,"px-3","py-2"],["class","px-5",4,"ngIf"],[1,"quick-card","p-4",3,"routerLink"],[1,"fas","fa-upload","fa-3x"],[1,"fas","fa-play","fa-3x"],[1,"fas","fa-file","fa-3x"],[1,"fas","fa-folder-open","fa-3x"],[1,"quick-card","link","p-4",3,"routerLink","queryParams"],[1,"fas","fa-scroll","fa-3x"],[1,"alert","alert-danger","m-3"],[1,"fas","fa-exclamation-triangle","fa-fw","mr-2"],[1,"px-5"]],template:function(t,e){1&t&&(O.Ub(0,"ol",0),O.Ub(1,"li",1),O.Ub(2,"a",2),O.Lc(3,"Home"),O.Tb(),O.Tb(),O.Ub(4,"li",3),O.Ub(5,"a",2),O.Lc(6," Quick Start"),O.Tb(),O.Ub(7,"a",4),O.Pb(8,"i",5),O.Tb(),O.Tb(),O.Tb(),O.Ub(9,"div",6),O.Ub(10,"h3",7),O.Lc(11,"Quick Start"),O.Tb(),O.Ub(12,"div",8),O.Jc(13,ac,4,0,"div",9),O.Ub(14,"div",10),O.Ub(15,"div",11),O.Pb(16,"i",12),O.Ub(17,"h2"),O.Lc(18,"User profile"),O.Tb(),O.Ub(19,"span",13),O.Lc(20," You can change your display name here, so that the other users or System Root can recognize you. "),O.Tb(),O.Tb(),O.Tb(),O.Ub(21,"div",10),O.Ub(22,"div",11),O.Pb(23,"i",14),O.Ub(24,"h2"),O.Lc(25,"Create a Project"),O.Tb(),O.Jc(26,sc,4,0,"b",15),O.Ub(27,"span",13),O.Lc(28," To create a project, You need to specify data processing or analysis packages for that project. Then, all defined tasks/workflows of those packages can be used in the project. The project can be modified after project creation. "),O.Tb(),O.Tb(),O.Tb(),O.Ub(29,"div",10),O.Ub(30,"div",11),O.Pb(31,"i",16),O.Ub(32,"h2"),O.Lc(33,"View Projects"),O.Tb(),O.Jc(34,oc,4,0,"b",15),O.Ub(35,"span",13),O.Lc(36," View your own projects, other project that someone shared with you and public projects. "),O.Tb(),O.Tb(),O.Tb(),O.Ub(37,"div",10),O.Ub(38,"div",11),O.Pb(39,"i",17),O.Ub(40,"h2"),O.Lc(41,"Recent Activities"),O.Tb(),O.Jc(42,uc,4,0,"b",15),O.Ub(43,"span",13),O.Lc(44," All-related results of all projects are sorted by time and displayed here. The related results may be from your or shared projects. "),O.Tb(),O.Tb(),O.Tb(),O.Tb(),O.Pb(45,"mat-divider"),O.Ub(46,"div",8),O.Ub(47,"div",18),O.Ub(48,"h2",19),O.Lc(49,"The following actions require you to select a project first."),O.Tb(),O.Jc(50,dc,8,4,"span",20),O.Tb(),O.Ub(51,"div",10),O.Ub(52,"div",21),O.Pb(53,"i",22),O.Ub(54,"h2"),O.Lc(55,"Import Files"),O.Tb(),O.Ub(56,"span",13),O.Lc(57," Once you have selected a project and you do have privileges to import files to that project. This will be DISABLED if you haven't selected a project or you have NO privileges. "),O.Tb(),O.Tb(),O.Tb(),O.Ub(58,"div",10),O.Ub(59,"div",11),O.Pb(60,"i",23),O.Ub(61,"h2"),O.Lc(62,"Execute Tasks"),O.Tb(),O.Ub(63,"span",13),O.Lc(64," To perform defined tasks or workflows of packages in the selected project. The packages need to be chosen for the project. You need to select a project first to execute tasks. "),O.Tb(),O.Tb(),O.Tb(),O.Ub(65,"div",10),O.Ub(66,"div",11),O.Pb(67,"i",24),O.Ub(68,"h2"),O.Lc(69,"View DataFiles"),O.Tb(),O.Ub(70,"span",13),O.Lc(71," All imported files and result outputs in this project can be found here. "),O.Tb(),O.Tb(),O.Tb(),O.Ub(72,"div",10),O.Ub(73,"div",11),O.Pb(74,"i",25),O.Ub(75,"h2"),O.Lc(76,"View Results"),O.Tb(),O.Ub(77,"span",13),O.Lc(78," All results of executed tasks in this project can be found here. This platform records all provenence of every task run: the input arguments, execution time and the output files. "),O.Tb(),O.Tb(),O.Tb(),O.Ub(79,"div",10),O.Ub(80,"div",26),O.Pb(81,"i",27),O.Ub(82,"h2"),O.Lc(83,"Project Pages"),O.Tb(),O.Ub(84,"span",13),O.Ub(85,"p"),O.Ub(86,"b"),O.Lc(87,"Page"),O.Tb(),O.Lc(88," is the customized web interface whic is developed by package builder. The Project Page may provide documentations as well as guide users to upload files and execute tasks. You can change the packages of this project to view the corresponding Page. If the developers of the packages did not provide the customized Pages, you may see the warning of page not found."),O.Tb(),O.Tb(),O.Tb(),O.Tb(),O.Tb(),O.Tb()),2&t&&(O.Cb(2),O.nc("routerLink",O.qc(66,vc)),O.Cb(3),O.nc("routerLink",O.qc(67,Tc)),O.Cb(2),O.nc("routerLink",O.qc(68,Tc)),O.Cb(6),O.nc("ngIf",!e.currentUser||!e.currentUser.auths||e.currentUser.auths.bdp<2),O.Cb(2),O.nc("routerLink",O.qc(69,kc)),O.Cb(7),O.Gb("link",e.currentUser&&e.currentUser.auths&&e.currentUser.auths.bdp>=2)("inactive",!e.currentUser||!e.currentUser.auths||e.currentUser.auths.bdp<2)("text-muted",!e.currentUser||!e.currentUser.auths||e.currentUser.auths.bdp<2),O.nc("routerLink",e.currentUser&&e.currentUser.auths&&e.currentUser.auths.bdp>=2?O.qc(70,lc):null),O.Cb(4),O.nc("ngIf",!e.currentUser||!e.currentUser.auths||e.currentUser.auths.bdp<2),O.Cb(4),O.Gb("link",e.currentUser&&e.currentUser.auths&&e.currentUser.auths.bdp>=2)("inactive",!e.currentUser||!e.currentUser.auths||e.currentUser.auths.bdp<2)("text-muted",!e.currentUser||!e.currentUser.auths||e.currentUser.auths.bdp<2),O.nc("routerLink",e.currentUser&&e.currentUser.auths&&e.currentUser.auths.bdp>=2?O.qc(71,bc):null),O.Cb(4),O.nc("ngIf",!e.currentUser||!e.currentUser.auths||e.currentUser.auths.bdp<2),O.Cb(4),O.Gb("link",e.currentUser&&e.currentUser.auths&&e.currentUser.auths.bdp>=2)("inactive",!e.currentUser||!e.currentUser.auths||e.currentUser.auths.bdp<2)("text-muted",!e.currentUser||!e.currentUser.auths||e.currentUser.auths.bdp<2),O.nc("routerLink",e.currentUser&&e.currentUser.auths&&e.currentUser.auths.bdp>=2?O.qc(72,Cc):null),O.Cb(4),O.nc("ngIf",!e.currentUser||!e.currentUser.auths||e.currentUser.auths.bdp<2),O.Cb(8),O.nc("ngIf",e.currentUser&&e.currentUser.auths&&e.currentUser.auths.bdp>=2),O.Cb(2),O.Gb("link",e.currentProject&&e.currentProject.privilege.canAddFile)("inactive",!e.currentProject||!e.currentProject.privilege.canAddFile)("text-muted",!e.currentProject||!e.currentProject.privilege.canAddFile),O.nc("routerLink",e.currentProject&&e.currentProject.privilege.canAddFile?O.rc(73,yc,e.currentProject.id):null),O.Cb(7),O.Gb("link",e.currentProject&&e.currentProject.privilege.canRun)("inactive",!e.currentProject||!e.currentProject.privilege.canRun)("text-muted",!e.currentProject||!e.currentProject.privilege.canRun),O.nc("routerLink",e.currentProject&&e.currentProject.privilege.canRun?O.rc(75,Uc,e.currentProject.id):null),O.Cb(7),O.Gb("link",e.currentProject&&e.currentProject.privilege.canRun)("inactive",!e.currentProject||!e.currentProject.privilege.canRun)("text-muted",!e.currentProject||!e.currentProject.privilege.canRun),O.nc("routerLink",e.currentProject&&e.currentProject.privilege.canRun?O.rc(77,wc,e.currentProject.id):null),O.Cb(7),O.Gb("link",e.currentProject&&e.currentProject.privilege.canRun)("inactive",!e.currentProject||!e.currentProject.privilege.canRun)("text-muted",!e.currentProject||!e.currentProject.privilege.canRun),O.nc("routerLink",e.currentProject&&e.currentProject.privilege.canRun?O.rc(79,Ic,e.currentProject.id):null),O.Cb(7),O.Gb("link",e.currentProject&&e.currentProject.privilege.canRun)("inactive",!e.currentProject||!e.currentProject.privilege.canRun)("text-muted",!e.currentProject||!e.currentProject.privilege.canRun),O.nc("routerLink",e.currentProject&&e.currentProject.privilege.canRun?O.qc(81,Pc):null)("queryParams",O.rc(82,Lc,e.currentProject?e.currentProject.id:null)))},directives:[D.f,d.n,D.d,L.a],styles:[".quick-card[_ngcontent-%COMP%]{align-content:flex-start;align-items:center;display:flex;flex-direction:column;height:100%;justify-content:center}.quick-card[_ngcontent-%COMP%]:hover{background-color:rgba(204,229,254,.8)}.inactive.quick-card[_ngcontent-%COMP%]:hover{background-color:hsla(0,0%,91.4%,.8)}.quick-card.inactive[_ngcontent-%COMP%]{opacity:.8}.desc[_ngcontent-%COMP%]{min-height:180px}"]}),fc),data:{path:"quickstart"},canActivate:[or.a]}]),xc=[],Sc=a("BBfw"),_c=a("Bchi"),Oc=a("LzwD"),Mc=((gc=function t(){c(this,t)}).\u0275fac=function(t){return new(t||gc)},gc.\u0275mod=O.Mb({type:gc}),gc.\u0275inj=O.Lb({providers:[],imports:[[d.c,f.d,D.g,z.d,y.b]]}),gc),Jc=((hc=function t(){c(this,t)}).\u0275fac=function(t){return new(t||hc)},hc.\u0275mod=O.Mb({type:hc}),hc.\u0275inj=O.Lb({providers:[],imports:[[d.c,f.d,B.f,y.b,h.c,w.b]]}),hc),Fc=a("GQzp"),Rc=a("pkYj"),Ec=((mc=function t(){c(this,t)}).\u0275fac=function(t){return new(t||mc)},mc.\u0275mod=O.Mb({type:mc}),mc.\u0275inj=O.Lb({providers:[xc],imports:[[d.c,f.d,h.c,P.g,C.b,m.h,y.b,w.b,v.b,T.e,j.d,x.c,_c.a,S.a,I.a,U.b,Oc.a,g.c,p.b,k.b,L.b,Sc.a,Mc,Jc,_.c,Fc.a,Rc.a,N,jc]]}),mc)},CUlp:function(t,e,n){var i,r;"undefined"!=typeof window&&window,void 0===(r="function"==typeof(i=function(){"use strict";function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var n=this._events=this._events||{},i=n[t]=n[t]||[];return-1==i.indexOf(e)&&i.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var n=this._onceEvents=this._onceEvents||{};return(n[t]=n[t]||{})[e]=!0,this}},e.off=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var i=n.indexOf(e);return-1!=i&&n.splice(i,1),this}},e.emitEvent=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){n=n.slice(0),e=e||[];for(var i=this._onceEvents&&this._onceEvents[t],r=0;r<n.length;r++){var c=n[r];i&&i[c]&&(this.off(t,c),delete i[c]),c.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t})?i.call(e,n,e,t):i)||(t.exports=r)},Hy43:function(t,e,n){var i,r;!function(c,a){"use strict";i=[n("CUlp"),n("QK1G"),n("YVj6"),n("KK1e")],void 0===(r=(function(t,e,n,i){return function(t,e,n,i,r){var c=t.console,a=t.jQuery,s=function(){},o=0,u={};function l(t,e){var n=i.getQueryElement(t);if(n){this.element=n,a&&(this.$element=a(this.element)),this.options=i.extend({},this.constructor.defaults),this.option(e);var r=++o;this.element.outlayerGUID=r,u[r]=this,this._create(),this._getOption("initLayout")&&this.layout()}else c&&c.error("Bad element for "+this.constructor.namespace+": "+(n||t))}l.namespace="outlayer",l.Item=r,l.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var b=l.prototype;function d(t){function e(){t.apply(this,arguments)}return(e.prototype=Object.create(t.prototype)).constructor=e,e}i.extend(b,e.prototype),b.option=function(t){i.extend(this.options,t)},b._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},l.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},b._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),i.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},b.reloadItems=function(){this.items=this._itemize(this.element.children)},b._itemize=function(t){for(var e=this._filterFindItemElements(t),n=this.constructor.Item,i=[],r=0;r<e.length;r++){var c=new n(e[r],this);i.push(c)}return i},b._filterFindItemElements=function(t){return i.filterFindElements(t,this.options.itemSelector)},b.getItemElements=function(){return this.items.map(function(t){return t.element})},b.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant");this.layoutItems(this.items,void 0!==t?t:!this._isLayoutInited),this._isLayoutInited=!0},b._init=b.layout,b._resetLayout=function(){this.getSize()},b.getSize=function(){this.size=n(this.element)},b._getMeasurement=function(t,e){var i,r=this.options[t];r?("string"==typeof r?i=this.element.querySelector(r):r instanceof HTMLElement&&(i=r),this[t]=i?n(i)[e]:r):this[t]=0},b.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},b._getItemsForLayout=function(t){return t.filter(function(t){return!t.isIgnored})},b._layoutItems=function(t,e){if(this._emitCompleteOnItems("layout",t),t&&t.length){var n=[];t.forEach(function(t){var i=this._getItemLayoutPosition(t);i.item=t,i.isInstant=e||t.isLayoutInstant,n.push(i)},this),this._processLayoutQueue(n)}},b._getItemLayoutPosition=function(){return{x:0,y:0}},b._processLayoutQueue=function(t){this.updateStagger(),t.forEach(function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)},this)},b.updateStagger=function(){var t=this.options.stagger;if(null!=t)return this.stagger=function(t){if("number"==typeof t)return t;var e=t.match(/(^\d*\.?\d*)(\w*)/),n=e&&e[1],i=e&&e[2];return n.length?(n=parseFloat(n))*(f[i]||1):0}(t),this.stagger;this.stagger=0},b._positionItem=function(t,e,n,i,r){i?t.goTo(e,n):(t.stagger(r*this.stagger),t.moveTo(e,n))},b._postLayout=function(){this.resizeContainer()},b.resizeContainer=function(){if(this._getOption("resizeContainer")){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},b._getContainerSize=s,b._setContainerMeasure=function(t,e){if(void 0!==t){var n=this.size;n.isBorderBox&&(t+=e?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},b._emitCompleteOnItems=function(t,e){var n=this;function i(){n.dispatchEvent(t+"Complete",null,[e])}var r=e.length;if(e&&r){var c=0;e.forEach(function(e){e.once(t,a)})}else i();function a(){++c==r&&i()}},b.dispatchEvent=function(t,e,n){var i=e?[e].concat(n):n;if(this.emitEvent(t,i),a)if(this.$element=this.$element||a(this.element),e){var r=a.Event(e);r.type=t,this.$element.trigger(r,n)}else this.$element.trigger(t,n)},b.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},b.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},b.stamp=function(t){(t=this._find(t))&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},b.unstamp=function(t){(t=this._find(t))&&t.forEach(function(t){i.removeFrom(this.stamps,t),this.unignore(t)},this)},b._find=function(t){if(t)return"string"==typeof t&&(t=this.element.querySelectorAll(t)),i.makeArray(t)},b._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},b._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},b._manageStamp=s,b._getElementOffset=function(t){var e=t.getBoundingClientRect(),i=this._boundingRect,r=n(t);return{left:e.left-i.left-r.marginLeft,top:e.top-i.top-r.marginTop,right:i.right-e.right-r.marginRight,bottom:i.bottom-e.bottom-r.marginBottom}},b.handleEvent=i.handleEvent,b.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},b.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},b.onresize=function(){this.resize()},i.debounceMethod(l,"onresize",100),b.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},b.needsResizeLayout=function(){var t=n(this.element);return this.size&&t&&t.innerWidth!==this.size.innerWidth},b.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},b.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},b.prepended=function(t){var e=this._itemize(t);if(e.length){var n=this.items.slice(0);this.items=e.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(n)}},b.reveal=function(t){if(this._emitCompleteOnItems("reveal",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,n){t.stagger(n*e),t.reveal()})}},b.hide=function(t){if(this._emitCompleteOnItems("hide",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,n){t.stagger(n*e),t.hide()})}},b.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},b.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},b.getItem=function(t){for(var e=0;e<this.items.length;e++){var n=this.items[e];if(n.element==t)return n}},b.getItems=function(t){t=i.makeArray(t);var e=[];return t.forEach(function(t){var n=this.getItem(t);n&&e.push(n)},this),e},b.remove=function(t){var e=this.getItems(t);this._emitCompleteOnItems("remove",e),e&&e.length&&e.forEach(function(t){t.remove(),i.removeFrom(this.items,t)},this)},b.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="",this.items.forEach(function(t){t.destroy()}),this.unbindResize(),delete u[this.element.outlayerGUID],delete this.element.outlayerGUID,a&&a.removeData(this.element,this.constructor.namespace)},l.data=function(t){var e=(t=i.getQueryElement(t))&&t.outlayerGUID;return e&&u[e]},l.create=function(t,e){var n=d(l);return n.defaults=i.extend({},l.defaults),i.extend(n.defaults,e),n.compatOptions=i.extend({},l.compatOptions),n.namespace=t,n.data=l.data,n.Item=d(r),i.htmlInit(n,t),a&&a.bridget&&a.bridget(t,n),n};var f={ms:1,s:1e3};return l.Item=r,l}(c,t,e,n,i)}).apply(e,i))||(t.exports=r)}(window)},KK1e:function(t,e,n){var i,r,c;window,r=[n("CUlp"),n("QK1G")],void 0===(c="function"==typeof(i=function(t,e){"use strict";var n=document.documentElement.style,i="string"==typeof n.transition?"transition":"WebkitTransition",r="string"==typeof n.transform?"transform":"WebkitTransform",c={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[i],a={transform:r,transition:i,transitionDuration:i+"Duration",transitionProperty:i+"Property",transitionDelay:i+"Delay"};function s(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var o=s.prototype=Object.create(t.prototype);o.constructor=s,o._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},o.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},o.getSize=function(){this.size=e(this.element)},o.css=function(t){var e=this.element.style;for(var n in t)e[a[n]||n]=t[n]},o.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),i=t[e?"left":"right"],r=t[n?"top":"bottom"],c=parseFloat(i),a=parseFloat(r),s=this.layout.size;-1!=i.indexOf("%")&&(c=c/100*s.width),-1!=r.indexOf("%")&&(a=a/100*s.height),c=isNaN(c)?0:c,a=isNaN(a)?0:a,a-=n?s.paddingTop:s.paddingBottom,this.position.x=c-=e?s.paddingLeft:s.paddingRight,this.position.y=a},o.layoutPosition=function(){var t=this.layout.size,e={},n=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),r=n?"right":"left";e[n?"left":"right"]=this.getXValue(this.position.x+t[n?"paddingLeft":"paddingRight"]),e[r]="";var c=i?"bottom":"top";e[i?"top":"bottom"]=this.getYValue(this.position.y+t[i?"paddingTop":"paddingBottom"]),e[c]="",this.css(e),this.emitEvent("layout",[this])},o.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px"},o.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px"},o._transitionTo=function(t,e){this.getPosition();var n=this.position.x,i=this.position.y,r=t==this.position.x&&e==this.position.y;if(this.setPosition(t,e),!r||this.isTransitioning){var c={};c.transform=this.getTranslate(t-n,e-i),this.transition({to:c,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},o.getTranslate=function(t,e){return"translate3d("+(t=this.layout._getOption("originLeft")?t:-t)+"px, "+(e=this.layout._getOption("originTop")?e:-e)+"px, 0)"},o.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},o.moveTo=o._transitionTo,o.setPosition=function(t,e){this.position.x=parseFloat(t),this.position.y=parseFloat(e)},o._nonTransition=function(t){for(var e in this.css(t.to),t.isCleaning&&this._removeStyles(t.to),t.onTransitionEnd)t.onTransitionEnd[e].call(this)},o.transition=function(t){if(parseFloat(this.layout.options.transitionDuration)){var e=this._transn;for(var n in t.onTransitionEnd)e.onEnd[n]=t.onTransitionEnd[n];for(n in t.to)e.ingProperties[n]=!0,t.isCleaning&&(e.clean[n]=!0);t.from&&this.css(t.from),this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0}else this._nonTransition(t)};var u="opacity,"+r.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()});o.enableTransition=function(){if(!this.isTransitioning){var t=this.layout.options.transitionDuration;this.css({transitionProperty:u,transitionDuration:t="number"==typeof t?t+"ms":t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(c,this,!1)}},o.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},o.onotransitionend=function(t){this.ontransitionend(t)};var l={"-webkit-transform":"transform"};o.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,n=l[t.propertyName]||t.propertyName;delete e.ingProperties[n],function(t){for(var e in t)return!1;return!0}(e.ingProperties)&&this.disableTransition(),n in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[n]),n in e.onEnd&&(e.onEnd[n].call(this),delete e.onEnd[n]),this.emitEvent("transitionEnd",[this])}},o.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(c,this,!1),this.isTransitioning=!1},o._removeStyles=function(t){var e={};for(var n in t)e[n]="";this.css(e)};var b={transitionProperty:"",transitionDuration:"",transitionDelay:""};return o.removeTransitionStyles=function(){this.css(b)},o.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+"ms"},o.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},o.remove=function(){i&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),this.hide()):this.removeElem()},o.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},o.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},o.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var n in e)return n},o.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},o.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},o.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},s})?i.apply(e,r):i)||(t.exports=c)},QK1G:function(t,e,n){var i,r;window,void 0===(r="function"==typeof(i=function(){"use strict";function t(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}var e="undefined"==typeof console?function(){}:function(t){console.error(t)},n=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],i=n.length;function r(t){var n=getComputedStyle(t);return n||e("Style returned "+n+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),n}var c,a=!1;return function e(s){if(function(){if(!a){a=!0;var n=document.createElement("div");n.style.width="200px",n.style.padding="1px 2px 3px 4px",n.style.borderStyle="solid",n.style.borderWidth="1px 2px 3px 4px",n.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(n);var s=r(n);c=200==Math.round(t(s.width)),e.isBoxSizeOuter=c,i.removeChild(n)}}(),"string"==typeof s&&(s=document.querySelector(s)),s&&"object"==typeof s&&s.nodeType){var o=r(s);if("none"==o.display)return function(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<i;e++)t[n[e]]=0;return t}();var u={};u.width=s.offsetWidth,u.height=s.offsetHeight;for(var l=u.isBorderBox="border-box"==o.boxSizing,b=0;b<i;b++){var d=n[b],f=parseFloat(o[d]);u[d]=isNaN(f)?0:f}var p=u.paddingLeft+u.paddingRight,h=u.paddingTop+u.paddingBottom,g=u.marginLeft+u.marginRight,m=u.marginTop+u.marginBottom,v=u.borderLeftWidth+u.borderRightWidth,T=u.borderTopWidth+u.borderBottomWidth,k=l&&c,C=t(o.width);!1!==C&&(u.width=C+(k?0:p+v));var y=t(o.height);return!1!==y&&(u.height=y+(k?0:h+T)),u.innerWidth=u.width-(p+v),u.innerHeight=u.height-(h+T),u.outerWidth=u.width+g,u.outerHeight=u.height+m,u}}})?i.call(e,n,e,t):i)||(t.exports=r)},YVj6:function(t,e,n){var i,r;!function(c,a){i=[n("x0Ue")],void 0===(r=(function(t){return function(t,e){"use strict";var n={extend:function(t,e){for(var n in e)t[n]=e[n];return t},modulo:function(t,e){return(t%e+e)%e}},i=Array.prototype.slice;n.makeArray=function(t){return Array.isArray(t)?t:null==t?[]:"object"==typeof t&&"number"==typeof t.length?i.call(t):[t]},n.removeFrom=function(t,e){var n=t.indexOf(e);-1!=n&&t.splice(n,1)},n.getParent=function(t,n){for(;t.parentNode&&t!=document.body;)if(e(t=t.parentNode,n))return t},n.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},n.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},n.filterFindElements=function(t,i){t=n.makeArray(t);var r=[];return t.forEach(function(t){if(t instanceof HTMLElement)if(i){e(t,i)&&r.push(t);for(var n=t.querySelectorAll(i),c=0;c<n.length;c++)r.push(n[c])}else r.push(t)}),r},n.debounceMethod=function(t,e,n){n=n||100;var i=t.prototype[e],r=e+"Timeout";t.prototype[e]=function(){clearTimeout(this[r]);var t=arguments,e=this;this[r]=setTimeout(function(){i.apply(e,t),delete e[r]},n)}},n.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},n.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,n){return e+"-"+n}).toLowerCase()};var r=t.console;return n.htmlInit=function(e,i){n.docReady(function(){var c=n.toDashed(i),a="data-"+c,s=document.querySelectorAll("["+a+"]"),o=document.querySelectorAll(".js-"+c),u=n.makeArray(s).concat(n.makeArray(o)),l=a+"-options",b=t.jQuery;u.forEach(function(t){var n,c=t.getAttribute(a)||t.getAttribute(l);try{n=c&&JSON.parse(c)}catch(o){return void(r&&r.error("Error parsing "+a+" on "+t.className+": "+o))}var s=new e(t,n);b&&b.data(t,i,s)})})},n}(c,t)}).apply(e,i))||(t.exports=r)}(window)},hNNL:function(t,e,n){var i,r,c;window,r=[n("Hy43"),n("QK1G")],void 0===(c="function"==typeof(i=function(t,e){"use strict";var n=t.create("masonry");n.compatOptions.fitWidth="isFitWidth";var i=n.prototype;return i._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},i.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],n=t&&t.element;this.columnWidth=n&&e(n).outerWidth||this.containerWidth}var i=this.columnWidth+=this.gutter,r=this.containerWidth+this.gutter,c=r/i,a=i-r%i;c=Math[a&&a<1?"round":"floor"](c),this.cols=Math.max(c,1)},i.getContainerWidth=function(){var t=this._getOption("fitWidth"),n=e(t?this.element.parentNode:this.element);this.containerWidth=n&&n.innerWidth},i._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,n=Math[e&&e<1?"round":"ceil"](t.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var i=this[this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition"](n,t),r={x:this.columnWidth*i.col,y:i.y},c=i.y+t.size.outerHeight,a=n+i.col,s=i.col;s<a;s++)this.colYs[s]=c;return r},i._getTopColPosition=function(t){var e=this._getTopColGroup(t),n=Math.min.apply(Math,e);return{col:e.indexOf(n),y:n}},i._getTopColGroup=function(t){if(t<2)return this.colYs;for(var e=[],n=this.cols+1-t,i=0;i<n;i++)e[i]=this._getColGroupY(i,t);return e},i._getColGroupY=function(t,e){if(e<2)return this.colYs[t];var n=this.colYs.slice(t,t+e);return Math.max.apply(Math,n)},i._getHorizontalColPosition=function(t,e){var n=this.horizontalColIndex%this.cols;return n=t>1&&n+t>this.cols?0:n,this.horizontalColIndex=e.size.outerWidth&&e.size.outerHeight?n+t:this.horizontalColIndex,{col:n,y:this._getColGroupY(n,t)}},i._manageStamp=function(t){var n=e(t),i=this._getElementOffset(t),r=this._getOption("originLeft")?i.left:i.right,c=r+n.outerWidth,a=Math.floor(r/this.columnWidth);a=Math.max(0,a);var s=Math.floor(c/this.columnWidth);s-=c%this.columnWidth?0:1,s=Math.min(this.cols-1,s);for(var o=(this._getOption("originTop")?i.top:i.bottom)+n.outerHeight,u=a;u<=s;u++)this.colYs[u]=Math.max(o,this.colYs[u])},i._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},i._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},i.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},n})?i.apply(e,r):i)||(t.exports=c)},x0Ue:function(t,e,n){var i,r;!function(c,a){"use strict";void 0===(r="function"==typeof(i=a)?i.call(e,n,e,t):i)||(t.exports=r)}(window,function(){"use strict";var t=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],n=0;n<e.length;n++){var i=e[n]+"MatchesSelector";if(t[i])return i}}();return function(e,n){return e[t](n)}})}}])}();