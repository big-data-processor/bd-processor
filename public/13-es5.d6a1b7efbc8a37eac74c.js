!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,i){if(!e)return;if("string"==typeof e)return t(e,i);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return t(e,i)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,a=new Array(t);i<t;i++)a[i]=e[i];return a}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function n(e,t,i){return t&&a(e.prototype,t),i&&a(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{GfiD:function(t,a,c){"use strict";c.r(a),c.d(a,"DataFileModule",function(){return ki});var r=c("3Pt+"),o=c("ofXK"),l=c("/1cH"),s=c("A5z7"),b=c("qFsG"),d=c("d3UM"),u=c("bTqV"),f=c("NFeN"),g=c("8yBR"),h=c("+0xr"),v=c("Qu3c"),p=c("M9IT"),m=c("bSwM"),C=c("f0Cb"),T=c("Dh3D"),F=c("nNey"),k=c("wkOn"),U=c("pkYj"),w=c("tyNb"),y=c("RMCY"),P=c("FvrZ"),x=c("+mqT"),L=c("7Cdu"),I=c("xsm5"),D=c("FtGj"),j=c("eIep"),S=c("2Vo4"),M=c("LRne"),_=c("fXoL"),J=c("flj8"),E=c("c3AT"),B=c("EnSQ"),O=c("0IaG"),R=c("YiK1"),N=c("i6c7"),V=c("kmnG"),$=c("I7HA"),A=c("FKr1"),G=["tagInput"];function z(e,t){if(1&e){var i=_.Vb();_.Ub(0,"a",12),_.cc("click",function(e){return _.Bc(i),_.gc().gotoProject(e)}),_.Lc(1,"Project"),_.Tb()}}function q(e,t){if(1&e&&(_.Ub(0,"span"),_.Lc(1),_.Tb()),2&e){var i=_.gc(2);_.Cb(1),_.Nc(": ",i.currentProject.name,"")}}var H=function(e){return["/project",e,"info"]};function Y(e,t){if(1&e&&(_.Ub(0,"a",2),_.Lc(1,"Project "),_.Jc(2,q,2,1,"span",9),_.Tb()),2&e){var i=_.gc();_.nc("routerLink",_.rc(2,H,i.dataFile.project)),_.Cb(2),_.nc("ngIf",i.currentProject)}}var K=function(e){return["/project",e,"dataFile","list"]};function Q(e,t){if(1&e&&(_.Ub(0,"li",1),_.Ub(1,"a",2),_.Lc(2,"DataFile List "),_.Tb(),_.Tb()),2&e){var i=_.gc();_.Cb(1),_.nc("routerLink",_.rc(1,K,i.dataFile.project))}}var W=function(e){return["/dataFile",e,"info"]};function X(e,t){if(1&e&&(_.Ub(0,"li",13),_.Ub(1,"a",2),_.Lc(2,"File"),_.Tb(),_.Ub(3,"a",14),_.Pb(4,"i",15),_.Tb(),_.Tb()),2&e){var i=_.gc();_.Cb(1),_.nc("routerLink",_.rc(2,W,i.dataFile.id)),_.Cb(2),_.nc("routerLink",_.rc(4,W,i.dataFile.id))}}function Z(e,t){1&e&&(_.Ub(0,"li",13),_.Lc(1,"File"),_.Tb())}function ee(e,t){1&e&&(_.Ub(0,"div"),_.Lc(1," Loading... "),_.Tb())}function te(e,t){if(1&e){var i=_.Vb();_.Ub(0,"p"),_.Ub(1,"u",36),_.Lc(2),_.Tb(),_.Lc(3),_.Ub(4,"u",36),_.Lc(5),_.Tb(),_.Ub(6,"span",24),_.cc("click",function(){return _.Bc(i),_.gc(3).isEditing=!0}),_.Tb(),_.Tb()}if(2&e){var a=_.gc(3);_.Cb(2),_.Mc(null==a.dataFile?null:a.dataFile.prefix),_.Cb(1),_.Nc(" ",null==a.dataFile?null:a.dataFile.name," "),_.Cb(2),_.Mc(null==a.dataFile?null:a.dataFile.suffix)}}function ie(e,t){if(1&e){var i=_.Vb();_.Sb(0),_.Ub(1,"mat-form-field",37),_.Ub(2,"input",38),_.cc("ngModelChange",function(e){return _.Bc(i),_.gc(3).dataFile.prefix=e}),_.Tb(),_.Tb(),_.Ub(3,"mat-form-field",37),_.Ub(4,"input",39),_.cc("ngModelChange",function(e){return _.Bc(i),_.gc(3).dataFile.suffix=e}),_.Tb(),_.Tb(),_.Ub(5,"mat-form-field",40),_.Ub(6,"i",41),_.cc("click",function(){return _.Bc(i),_.gc(3).onSave()}),_.Tb(),_.Ub(7,"input",42),_.cc("ngModelChange",function(e){return _.Bc(i),_.gc(3).dataFile.name=e}),_.Tb(),_.Ub(8,"span",43),_.Pb(9,"u",44),_.Tb(),_.Ub(10,"span",45),_.Pb(11,"u",44),_.Tb(),_.Tb(),_.Rb()}if(2&e){var a=_.gc(3);_.Cb(2),_.nc("ngModel",a.dataFile.prefix),_.Cb(2),_.nc("ngModel",a.dataFile.suffix),_.Cb(3),_.nc("ngModel",a.dataFile.name),_.Cb(2),_.nc("innerHTML",null==a.dataFile?null:a.dataFile.prefix,_.Cc),_.Cb(2),_.nc("innerHTML",null==a.dataFile?null:a.dataFile.suffix,_.Cc)}}function ae(e,t){if(1&e){var i=_.Vb();_.Ub(0,"mat-form-field",40),_.Ub(1,"i",41),_.cc("click",function(){return _.Bc(i),_.gc(3).onSave()}),_.Tb(),_.Ub(2,"textarea",46),_.cc("ngModelChange",function(e){return _.Bc(i),_.gc(3).dataFile.desc=e}),_.Lc(3),_.Tb(),_.Tb()}if(2&e){var a=_.gc(3);_.Cb(2),_.nc("ngModel",a.dataFile.desc),_.Cb(1),_.Mc(a.dataFile.desc)}}function ne(e,t){if(1&e&&(_.Ub(0,"span",47),_.Lc(1),_.Tb()),2&e){var i=_.gc(3);_.Gb("badge-secondary","Folder"!==(null==i.dataFile?null:i.dataFile.format))("badge-success","Folder"===(null==i.dataFile?null:i.dataFile.format)),_.Cb(1),_.Nc("",null==i.dataFile?null:i.dataFile.format," ")}}function ce(e,t){if(1&e){var i=_.Vb();_.Ub(0,"i",24),_.cc("click",function(){return _.Bc(i),_.gc(3).isEditing=!0}),_.Tb()}}function re(e,t){if(1&e){var i=_.Vb();_.Ub(0,"i",41),_.cc("click",function(){return _.Bc(i),_.gc(4).onSave()}),_.Tb()}}function oe(e,t){if(1&e){var i=_.Vb();_.Ub(0,"mat-form-field"),_.Jc(1,re,1,0,"i",48),_.Ub(2,"input",49),_.cc("ngModelChange",function(e){return _.Bc(i),_.gc(3).dataFile.format=e}),_.Tb(),_.Tb()}if(2&e){var a=_.gc(3);_.Cb(1),_.nc("ngIf",a.isEditing),_.Cb(1),_.nc("ngModel",a.dataFile.format)}}function le(e,t){if(1&e){var i=_.Vb();_.Ub(0,"bdp-tag-input",50),_.cc("tagChange",function(e){return _.Bc(i),_.gc(3).onTagChanged(e)}),_.Tb()}if(2&e){var a=_.gc(3);_.nc("packages",a.currentProject.packages)("tasks",a.tasks)("tags",a.dataFile.tags)("disabled",!a.isEditing)}}function se(e,t){if(1&e){var i=_.Vb();_.Ub(0,"div",29),_.Ub(1,"div",19),_.Ub(2,"b"),_.Lc(3,"Folder"),_.Tb(),_.Tb(),_.Ub(4,"div",21),_.Ub(5,"a",2),_.Lc(6),_.Tb(),_.Ub(7,"span",51),_.cc("click",function(){_.Bc(i);var e=_.gc(3);return e._viewControls.moveToDataFileID="",e.moveDataFileToFolder()}),_.Lc(8,"(X)"),_.Tb(),_.Tb(),_.Tb()}if(2&e){var a=_.gc(3);_.Cb(5),_.nc("routerLink",_.rc(2,W,a.currentFolder.id)),_.Cb(1),_.Mc(a.currentFolder.name)}}function be(e,t){if(1&e&&(_.Ub(0,"mat-option",56),_.Lc(1),_.Tb()),2&e){var i=_.gc(4);_.nc("value",""),_.Cb(1),_.Nc(" Move out of the folder, ",i.currentFolder.name," ")}}function de(e,t){if(1&e&&(_.Ub(0,"mat-option",56),_.Lc(1),_.Tb()),2&e){var i=_.gc().$implicit;_.nc("value",i.id),_.Cb(1),_.Mc(i.name)}}function ue(e,t){if(1&e&&_.Jc(0,de,2,2,"mat-option",53),2&e){var i=t.$implicit,a=_.gc(4);_.nc("ngIf",a.dataFile.parent!==i.id)}}function fe(e,t){if(1&e){var i=_.Vb();_.Ub(0,"div",29),_.Pb(1,"br"),_.Ub(2,"div",19),_.Ub(3,"b"),_.Lc(4,"Folder"),_.Tb(),_.Tb(),_.Ub(5,"div",21),_.Lc(6," Move to folder: "),_.Ub(7,"mat-form-field"),_.Ub(8,"mat-select",52),_.cc("ngModelChange",function(e){return _.Bc(i),_.gc(3)._viewControls.moveToDataFileID=e}),_.Jc(9,be,2,2,"mat-option",53),_.Jc(10,ue,1,1,"ng-template",54),_.Tb(),_.Ub(11,"button",55),_.cc("click",function(){return _.Bc(i),_.gc(3).moveDataFileToFolder()}),_.Lc(12,"Confirm"),_.Tb(),_.Tb(),_.Tb(),_.Tb()}if(2&e){var a=_.gc(3);_.Cb(8),_.nc("ngModel",a._viewControls.moveToDataFileID),_.Cb(1),_.nc("ngIf",a.dataFile.parent),_.Cb(1),_.nc("ngForOf",a.folders)}}function ge(e,t){if(1&e){var i=_.Vb();_.Ub(0,"div"),_.Ub(1,"div",57),_.Ub(2,"b"),_.Lc(3,"Export"),_.Tb(),_.Tb(),_.Ub(4,"div",21),_.Ub(5,"mat-form-field",58),_.Pb(6,"input",59,60),_.Ub(8,"mat-hint"),_.Lc(9,"(if you would also like to share this file to someone)"),_.Tb(),_.Tb(),_.Pb(10,"br"),_.Pb(11,"br"),_.Ub(12,"button",61),_.cc("click",function(){_.Bc(i);var e=_.yc(7),t=_.gc(4);return t.dataExport(t.dataFile,"gdrive",e.value)}),_.Pb(13,"i",62),_.Lc(14,"Google Drive "),_.Tb(),_.Tb(),_.Tb()}}function he(e,t){1&e&&(_.Ub(0,"span"),_.Lc(1,"Loading the data ... "),_.Pb(2,"i",63),_.Tb())}function ve(e,t){if(1&e&&(_.Ub(0,"div"),_.Pb(1,"img",64),_.Tb()),2&e){var i=_.gc(4);_.Cb(1),_.nc("src","./data/api/dataFile/"+i.dataFile.id+"/view",_.Ec)}}function pe(e,t){if(1&e&&(_.Ub(0,"div",18),_.Pb(1,"br"),_.Jc(2,ge,15,0,"div",9),_.Pb(3,"br"),_.Jc(4,he,3,0,"span",9),_.Pb(5,"hr"),_.Jc(6,ve,2,1,"div",9),_.Tb()),2&e){var i=_.gc(3);_.Cb(2),_.nc("ngIf","csv"==i.dataFile.format&&i._viewControls.showExportAndShare),_.Cb(2),_.nc("ngIf",i._viewControls.isDataLoading),_.Cb(2),_.nc("ngIf",i.isImage)}}function me(e,t){if(1&e&&(_.Ub(0,"span",84),_.Lc(1),_.Tb()),2&e){var i=t.$implicit;_.Cb(1),_.Mc(i)}}function Ce(e,t){if(1&e){var i=_.Vb();_.Ub(0,"tr"),_.Ub(1,"td"),_.Ub(2,"a",2),_.Lc(3),_.Tb(),_.Tb(),_.Ub(4,"td"),_.Ub(5,"span",78),_.Lc(6),_.Tb(),_.Tb(),_.Ub(7,"td"),_.Jc(8,me,2,1,"span",79),_.Tb(),_.Ub(9,"td"),_.Ub(10,"button",80),_.cc("click",function(){_.Bc(i);var e=t.$implicit;return _.gc(5).onUnTrackFile(e)}),_.Ub(11,"span",81),_.Pb(12,"i",82),_.Pb(13,"i",83),_.Tb(),_.Tb(),_.Tb(),_.Tb()}if(2&e){var a=t.$implicit;_.Cb(2),_.nc("routerLink",_.rc(4,W,a.id)),_.Cb(1),_.Mc(a.name),_.Cb(3),_.Mc(a.format),_.Cb(2),_.nc("ngForOf",a.tags)}}function Te(e,t){if(1&e&&(_.Ub(0,"span"),_.Ub(1,"div",75),_.Ub(2,"table",76),_.Ub(3,"thead"),_.Ub(4,"tr"),_.Ub(5,"th"),_.Lc(6,"Name"),_.Tb(),_.Ub(7,"th"),_.Lc(8,"Format"),_.Tb(),_.Ub(9,"th"),_.Lc(10,"Tags"),_.Tb(),_.Pb(11,"th"),_.Tb(),_.Tb(),_.Ub(12,"tbody"),_.Jc(13,Ce,14,6,"ng-template",77),_.Tb(),_.Tb(),_.Tb(),_.Tb()),2&e){var i=_.gc(4);_.Cb(13),_.nc("ngForOf",i.trackingFiles)("ngForTrackBy",i.trackByDataFile)}}function Fe(e,t){1&e&&(_.Ub(0,"span"),_.Lc(1,"Load folder content"),_.Tb())}function ke(e,t){1&e&&(_.Ub(0,"span"),_.Lc(1,"Loading folder content"),_.Tb())}function Ue(e,t){if(1&e){var i=_.Vb();_.Ub(0,"button",85),_.cc("click",function(){return _.Bc(i),_.gc(4).listFiles()}),_.Jc(1,Fe,2,0,"span",9),_.Jc(2,ke,2,0,"span",9),_.Tb()}if(2&e){var a=_.gc(4);_.nc("disabled",a.isLoadingFolderContent),_.Cb(1),_.nc("ngIf",!a.isLoadingFolderContent),_.Cb(1),_.nc("ngIf",a.isLoadingFolderContent)}}function we(e,t){1&e&&(_.Ub(0,"span"),_.Lc(1,"The folder is empty"),_.Tb())}function ye(e,t){if(1&e){var i=_.Vb();_.Ub(0,"mat-tree-node",86),_.Ub(1,"li",87),_.Pb(2,"button",88),_.Ub(3,"mat-checkbox",89),_.cc("change",function(){_.Bc(i);var e=t.$implicit;return _.gc(4).onTrackFileChange(e)}),_.Pb(4,"i",90),_.Ub(5,"span",91),_.Lc(6),_.Tb(),_.Tb(),_.Tb(),_.Tb()}if(2&e){var a=t.$implicit;_.Cb(3),_.nc("checked",a.state.selected),_.Cb(2),_.Gc("font-weight",a.state.highlighted?800:400),_.Cb(1),_.Mc(a.text)}}function Pe(e,t){if(1&e){var i=_.Vb();_.Ub(0,"mat-nested-tree-node"),_.Ub(1,"li"),_.Ub(2,"div",87),_.Ub(3,"button",92),_.cc("click",function(){_.Bc(i);var e=t.$implicit;return _.gc(4).toggleFiles(e)}),_.Ub(4,"mat-icon",93),_.Lc(5),_.Tb(),_.Tb(),_.Ub(6,"mat-checkbox",94),_.cc("change",function(){_.Bc(i);var e=t.$implicit;return _.gc(4).onTrackFileChange(e)}),_.Pb(7,"i",95),_.Ub(8,"span",96),_.Lc(9),_.Tb(),_.Tb(),_.Tb(),_.Ub(10,"ul"),_.Qb(11,97),_.Tb(),_.Tb(),_.Tb()}if(2&e){var a=t.$implicit,n=_.gc(4);_.Cb(3),_.Db("aria-label","toggle "+a.text),_.Cb(2),_.Nc(" ",n.nestedTreeControl.isExpanded(a)?"expand_more":"chevron_right"," "),_.Cb(1),_.nc("checked",a.state.selected)("indeterminate",!a.state.selected&&a.state.highlighted),_.Cb(2),_.Gc("font-weight",a.state.highlighted?800:400),_.Cb(1),_.Mc(a.text),_.Cb(1),_.Gb("example-tree-invisible",!n.nestedTreeControl.isExpanded(a))}}var xe=function(){return["/page"]},Le=function(e){return{datafile:e,static:"true"}},Ie=function(e){return["/data","api","dataFile",e,"static"]};function De(e,t){if(1&e&&(_.Ub(0,"div",18),_.Ub(1,"div",65),_.Ub(2,"h4"),_.Lc(3,"Tracked file(s)"),_.Tb(),_.Jc(4,Te,14,2,"span",9),_.Tb(),_.Ub(5,"div",66),_.Ub(6,"h4"),_.Ub(7,"a",67),_.Pb(8,"i",68),_.Lc(9," Contained files "),_.Tb(),_.Ub(10,"a",69),_.Pb(11,"i",70),_.Tb(),_.Tb(),_.Jc(12,Ue,3,3,"button",71),_.Jc(13,we,2,0,"span",9),_.Ub(14,"mat-tree",72),_.Jc(15,ye,7,4,"mat-tree-node",73),_.Jc(16,Pe,12,9,"mat-nested-tree-node",74),_.Tb(),_.Tb(),_.Tb()),2&e){var i=_.gc(3);_.Cb(4),_.nc("ngIf",i.currentProject&&i.dataFile),_.Cb(3),_.nc("routerLink",_.qc(9,xe))("queryParams",_.rc(10,Le,i.dataFile.id)),_.Cb(3),_.nc("routerLink",_.rc(12,Ie,i.dataFile.id)),_.Cb(2),_.nc("ngIf",!i.folderContentInitialized),_.Cb(1),_.nc("ngIf",i.folderContentInitialized&&i.childrenNodes.getValue()&&0===i.childrenNodes.getValue().length),_.Cb(1),_.nc("dataSource",i.nestedDataSource)("treeControl",i.nestedTreeControl),_.Cb(2),_.nc("matTreeNodeDefWhen",i.hasChildrenNodes)}}function je(e,t){if(1&e){var i=_.Vb();_.Ub(0,"div"),_.Ub(1,"div",18),_.Ub(2,"div",19),_.Ub(3,"strong"),_.Lc(4,"Name"),_.Tb(),_.Tb(),_.Ub(5,"div",20),_.cc("dblclick",function(){return _.Bc(i),_.gc(2).isEditing=!0}),_.Jc(6,te,7,3,"p",9),_.Jc(7,ie,12,5,"ng-container",9),_.Tb(),_.Tb(),_.Ub(8,"div",18),_.Ub(9,"div",19),_.Ub(10,"strong"),_.Lc(11,"Description"),_.Tb(),_.Tb(),_.Ub(12,"div",21),_.Ub(13,"div",22),_.Ub(14,"p",23),_.Lc(15),_.Ub(16,"i",24),_.cc("click",function(){return _.Bc(i),_.gc(2).isEditing=!0}),_.Tb(),_.Tb(),_.Tb(),_.Jc(17,ae,4,2,"mat-form-field",25),_.Tb(),_.Tb(),_.Ub(18,"div",26),_.Ub(19,"div",19),_.Ub(20,"strong"),_.Lc(21,"Owner"),_.Tb(),_.Tb(),_.Ub(22,"div",21),_.Ub(23,"span"),_.Lc(24),_.Tb(),_.Tb(),_.Tb(),_.Ub(25,"div",18),_.Ub(26,"div",19),_.Ub(27,"strong"),_.Lc(28,"Creation"),_.Tb(),_.Tb(),_.Ub(29,"div",21),_.Ub(30,"p"),_.Lc(31),_.Tb(),_.Tb(),_.Tb(),_.Ub(32,"div",18),_.Ub(33,"div",19),_.Ub(34,"strong"),_.Lc(35,"Format"),_.Tb(),_.Tb(),_.Ub(36,"div",21),_.Jc(37,ne,2,5,"span",27),_.Jc(38,ce,1,0,"i",28),_.Jc(39,oe,3,2,"mat-form-field",9),_.Tb(),_.Tb(),_.Ub(40,"div",29),_.Ub(41,"div",19),_.Ub(42,"strong"),_.Lc(43,"Tags"),_.Tb(),_.Tb(),_.Ub(44,"div",21),_.Jc(45,le,1,4,"bdp-tag-input",30),_.Tb(),_.Tb(),_.Ub(46,"div",29),_.Ub(47,"div",19),_.Ub(48,"strong"),_.Lc(49,"Server path"),_.Tb(),_.Tb(),_.Ub(50,"div",21),_.Ub(51,"button",31),_.cc("click",function(){return _.Bc(i),_.gc(2).copyFilePath()}),_.Pb(52,"i",32),_.Tb(),_.Ub(53,"small",33),_.Lc(54),_.Tb(),_.Tb(),_.Tb(),_.Jc(55,se,9,4,"div",34),_.Jc(56,fe,13,3,"div",34),_.Jc(57,pe,7,3,"div",35),_.Pb(58,"br"),_.Pb(59,"hr"),_.Jc(60,De,17,14,"div",35),_.Tb()}if(2&e){var a=_.gc(2);_.Cb(6),_.nc("ngIf",!a.isEditing),_.Cb(1),_.nc("ngIf",a.isEditing),_.Cb(6),_.nc("hidden",a.isEditing),_.Cb(2),_.Nc("",(null==a.dataFile?null:a.dataFile.desc)||"None."," "),_.Cb(2),_.nc("ngIf",a.isEditing),_.Cb(7),_.Mc(a.dataFile.owner?a.dataFile.owner.name:"Unknown"),_.Cb(7),_.Mc(null==a.dataFile||null==a.dataFile.createdAt?null:a.dataFile.createdAt.calendar()),_.Cb(6),_.nc("ngIf",!a.isEditing||a.currentUser.auths.bdp<2||"Folder"===a.dataFile.format),_.Cb(1),_.nc("ngIf",!a.isEditing&&a.currentUser.auths.bdp>=2&&"Folder"!==a.dataFile.format),_.Cb(1),_.nc("ngIf",a.isEditing&&a.currentUser.auths.bdp>=2&&"Folder"!==a.dataFile.format),_.Cb(6),_.nc("ngIf",a.dataFile&&a.currentProject),_.Cb(9),_.Mc(a.dataFile.realPath||a.dataFile.path),_.Cb(1),_.nc("ngIf",a.dataFile.parent&&a.currentFolder),_.Cb(1),_.nc("ngIf",!a.dataFile.parent&&"Folder"!==a.dataFile.format&&a._viewControls.showMoveToFolder),_.Cb(1),_.nc("ngIf","Folder"!==a.dataFile.format),_.Cb(3),_.nc("ngIf","Folder"==a.dataFile.format)}}function Se(e,t){1&e&&_.Pb(0,"div",98)}function Me(e,t){if(1&e&&(_.Ub(0,"div",16),_.Jc(1,je,61,16,"div",9),_.Jc(2,Se,1,0,"div",17),_.Tb()),2&e){var i=_.gc();_.Cb(1),_.nc("ngIf",!i.isLoading),_.Cb(1),_.nc("ngIf",i.isDeleting)}}function _e(e,t){1&e&&_.Pb(0,"i",110)}function Je(e,t){1&e&&_.Pb(0,"i",111)}var Ee=function(e,t){return{"fa-edit":e,"fa-save":t}};function Be(e,t){if(1&e){var i=_.Vb();_.Ub(0,"a",100),_.cc("click",function(){return _.Bc(i),_.gc(2).onSave()}),_.Pb(1,"i",112),_.Ub(2,"span",107),_.Lc(3),_.Tb(),_.Ub(4,"span",104),_.Lc(5,"\u276f"),_.Tb(),_.Tb()}if(2&e){var a=_.gc(2);_.Gb("active",a.isEditing),_.Cb(1),_.nc("ngClass",_.sc(6,Ee,!a.isEditing,a.isEditing)),_.Cb(1),_.Gb("active",a.showRightButtonContent||a.isEditing),_.Cb(1),_.Mc(a.isEditing?"Save":"Edit")}}function Oe(e,t){if(1&e){var i=_.Vb();_.Sb(0),_.Ub(1,"a",100),_.cc("click",function(){return _.Bc(i),_.gc(2).importFileDialog()}),_.Pb(2,"i",113),_.Ub(3,"span",107),_.Lc(4,"Import files"),_.Tb(),_.Ub(5,"span",104),_.Lc(6,"\u276f"),_.Tb(),_.Tb(),_.Pb(7,"br"),_.Rb()}if(2&e){var a=_.gc(2);_.Cb(1),_.Gb("active",!!a._viewControls.showCreateFolder),_.Cb(2),_.Gb("active",a.showRightButtonContent||a._viewControls.showCreateFolder)}}function Re(e,t){if(1&e){var i=_.Vb();_.Ub(0,"a",100),_.cc("click",function(){_.Bc(i);var e=_.gc(2);return e.deleteDataFileDialog(e.dataFile)}),_.Pb(1,"i",114),_.Ub(2,"span",107),_.Lc(3,"Delete"),_.Tb(),_.Ub(4,"span",104),_.Lc(5,"\u276f"),_.Tb(),_.Tb()}if(2&e){var a=_.gc(2);_.Cb(2),_.Gb("active",a.showRightButtonContent)}}var Ne=function(e){return{datafile:e}};function Ve(e,t){if(1&e&&(_.Ub(0,"a",115),_.Pb(1,"i",116),_.Ub(2,"span",107),_.Lc(3,"File Page"),_.Tb(),_.Ub(4,"span",104),_.Lc(5,"\u276f"),_.Tb(),_.Tb()),2&e){var i=_.gc(2);_.nc("routerLink",_.qc(4,xe))("queryParams",_.rc(5,Ne,i.dataFile.id)),_.Cb(2),_.Gb("active",i.showRightButtonContent)}}function $e(e,t){if(1&e){var i=_.Vb();_.Ub(0,"a",100),_.cc("click",function(){_.Bc(i);var e=_.gc(2);return e._viewControls.showMoveToFolder=!e._viewControls.showMoveToFolder}),_.Ub(1,"span",117),_.Pb(2,"i",118),_.Pb(3,"i",119),_.Tb(),_.Ub(4,"span",107),_.Lc(5,"Move to Folder"),_.Tb(),_.Ub(6,"span",104),_.Lc(7,"\u276f"),_.Tb(),_.Tb()}if(2&e){var a=_.gc(2);_.Gb("active",a._viewControls.showMoveToFolder),_.Cb(4),_.Gb("active",a.showRightButtonContent||a._viewControls.showMoveToFolder)}}function Ae(e,t){if(1&e){var i=_.Vb();_.Ub(0,"a",100),_.cc("click",function(){_.Bc(i);var e=_.gc(2);return e._viewControls.showExportAndShare=!e._viewControls.showExportAndShare}),_.Pb(1,"i",120),_.Ub(2,"span",107),_.Lc(3,"Export"),_.Tb(),_.Ub(4,"span",104),_.Lc(5,"\u276f"),_.Tb(),_.Tb()}if(2&e){var a=_.gc(2);_.Gb("active",a._viewControls.showExportAndShare),_.Cb(2),_.Gb("active",a.showRightButtonContent||a._viewControls.showExportAndShare)}}function Ge(e,t){if(1&e){var i=_.Vb();_.Ub(0,"div",99),_.Ub(1,"a",100),_.cc("click",function(){_.Bc(i);var e=_.gc();return e.showRightButtonContent=!e.showRightButtonContent}),_.Jc(2,_e,1,0,"i",101),_.Jc(3,Je,1,0,"i",102),_.Ub(4,"span",103),_.Lc(5,"MENU"),_.Tb(),_.Ub(6,"span",104),_.Lc(7,"\u276f"),_.Tb(),_.Tb(),_.Pb(8,"br"),_.Jc(9,Be,6,9,"a",105),_.Pb(10,"br"),_.Jc(11,Oe,8,4,"ng-container",9),_.Ub(12,"a",100),_.cc("click",function(){return _.Bc(i),_.gc().onDownloadBtn()}),_.Pb(13,"i",106),_.Ub(14,"span",107),_.Lc(15,"Download"),_.Tb(),_.Ub(16,"span",104),_.Lc(17,"\u276f"),_.Tb(),_.Tb(),_.Pb(18,"br"),_.Jc(19,Re,6,2,"a",108),_.Pb(20,"br"),_.Jc(21,Ve,6,7,"a",109),_.Pb(22,"br"),_.Jc(23,$e,8,4,"a",105),_.Pb(24,"br"),_.Jc(25,Ae,6,4,"a",105),_.Pb(26,"br"),_.Tb()}if(2&e){var a=_.gc();_.nc("@rightButtonState",a.showRightButtonContent?"active":"inactive"),_.Cb(2),_.nc("ngIf",a.showRightButtonContent),_.Cb(1),_.nc("ngIf",!a.showRightButtonContent),_.Cb(1),_.Gb("active",a.showRightButtonContent),_.Cb(5),_.nc("ngIf",!a.dataFile.readOnly),_.Cb(2),_.nc("ngIf",(null==a.currentProject?null:a.currentProject.privilege.canAddFile)&&"Folder"===a.dataFile.format),_.Cb(3),_.Gb("active",a.showRightButtonContent),_.Cb(5),_.nc("ngIf",!a.dataFile.readOnly),_.Cb(2),_.nc("ngIf",a.currentProject&&a.currentProject.getValidFilePageKeys(a.dataFile.tags,a.dataFile.format).length>0),_.Cb(2),_.nc("ngIf","Folder"!==a.dataFile.format&&!a.dataFile.parent),_.Cb(2),_.nc("ngIf","csv"==a.dataFile.format)}}var ze,qe=function(){return["/home"]},He=function(){return["/project/list"]},Ye=((ze=function(){function t(e,a,n,c,r,o,l,s){i(this,t),this.router=e,this.route=a,this.accountService=n,this.projectService=c,this.dataService=r,this.dialogRef=o,this.systemService=l,this.taskService=s,this.folderContentInitialized=!1,this.isLoadingFolderContent=!1,this.separatorKeysCodes=[D.g,D.c],this._subs=[]}return n(t,[{key:"ngOnInit",value:function(){var t=this;this.systemService.toggleNavbar(!0),this.systemService.toggleSidebar(!0),this.systemService.maintainRightSidebarStatus(),this.textToBeTag="",this.validTags=[],this.tagInputValue="",this.filteredTags=[],this.pathToName={},this.childrenNodes=new S.a([]),this.isLoading=!0,this.isEditing=!1,this.isDeleting=!1,this.showRightButtonContent=!1,this.features=[],this.tasks=[],this.hintTags=[],this.currentProject=void 0,this._viewControls={isDataLoading:!1,viewMode:"",showMoveToFolder:!1,showExportAndShare:!1,moveToDataFileID:"",fileTreeOption:{},confirmDelete:""},this._subs.push(this.taskService.taskList$.subscribe(function(e){e&&(t.tasks=Object(x.a)(e,[function(e){return e.name}],["asc"]),t.validTags=t.getValidTags(e))})),this._subs.push(this.accountService.currentUser$.subscribe(function(e){return t.currentUser=e})),this._subs.push(this.dataService.incomingData$.subscribe(function(e){return t.resultData=e.data})),this._subs.push(this.projectService.currentProject$.subscribe(function(i){var a;i&&i.id!==(null===(a=t.currentProject)||void 0===a?void 0:a.id)&&(t.currentProject=i,t.allowedFormats=e(new Set([].concat.apply([],t.currentProject.packages.map(function(e){return e.allowedFormats})))).map(function(e){return e.toString()}),t.updateChildrenNodes(),i.packages&&t.taskService.loadTasks(i.packages.map(function(e){return e.id})))})),this.route.queryParamMap.subscribe(function(e){return t.isEditing="1"===e.get("edit")}),this.route.paramMap.pipe(Object(j.a)(function(e){var i=e.get("dataId");return t.isLoading=!0,t.resultData=void 0,t.dataFile=void 0,t._viewControls.viewMode="",i?t.projectService.loadDataFileInfo(i):Object(M.a)({errors:[],success:null})})).subscribe(function(e){t.dataFile=e.success,t._viewControls.showMoveToFolder=!1,t.isLoading=!1,t.resultData=void 0,t.systemService.toggleNavbar(!0),t.systemService.maintainRightSidebarStatus()}),this._subs.push(this.systemService.sysInfo$.subscribe(function(e){t.sysConfig=e,e&&(t.recaptchaKey=e.reCaptchaSiteKey)})),this.nestedTreeControl=new P.k(function(e){return e.children}),this.nestedDataSource=new g.d,this.childrenNodes.subscribe(function(e){return t.nestedDataSource.data=e})}},{key:"getValidTags",value:function(e){var t={};return e.forEach(function(e){var i=e.arguments.filter(function(e){return"inFile"===e.type||"outFile"===e.type}).map(function(e){return e.tags});[].concat.apply([],i).forEach(function(e){return t[e]=1})}),Object.keys(t)}},{key:"loadData",value:function(){var e;"csv"===this.dataFile.format?e="table":"json"===this.dataFile.format&&(e="json"),this.dataService.getData(this.dataFile.id,e,!1)}},{key:"isImage",get:function(){return!!this.dataFile&&!!this.dataFile.format.toLowerCase().match(/jpg|jpeg|gif|png/)}},{key:"folders",get:function(){return this.currentProject&&this.currentProject.dataFiles?this.currentProject.dataFiles.filter(function(e){return"Folder"===e.format&&!e.hidden}):[]}},{key:"trackingFiles",get:function(){var e=[];if(this.currentProject&&this.dataFile)for(var t=this.currentProject.dataFiles,i=0;i<t.length;i++)t[i].id!==this.dataFile.id&&(this.dataFile.id===t[i].parent||this.dataFile.parent&&this.dataFile.parent===t[i].parent)&&(e.push(t[i]),this.pathToName[t[i].path]=t[i].name);return e}},{key:"currentFolder",get:function(){var e=this;return this.currentProject&&this.currentProject.dataFiles?this.currentProject.dataFiles.filter(function(t){return"Folder"===t.format&&e.dataFile.parent===t.id})[0]:null}},{key:"getNameByPath",value:function(e){var t="";if(this.currentProject&&this.dataFile)if(this.dataFile.path===e)t="".concat(this.dataFile.name,".").concat(this.dataFile.format);else for(var i=this.trackingFiles,a=0;a<i.length;a++)i[a].path!==e&&i[a].realPath!==e||(t="".concat(i[a].name,".").concat(i[a].format));return t}},{key:"isTracked",value:function(e){var t=0;if(this.currentProject&&this.dataFile)if(this.dataFile.path===e)t=1;else for(var i=this.trackingFiles,a=0;a<i.length;a++)i[a].path===e||i[a].realPath===e?t=1:0===i[a].path.indexOf(e)&&(t=2);return t}},{key:"setViewMode",value:function(e){this._viewControls.viewMode=e}},{key:"trackByDataFile",value:function(e,t){return t.id}},{key:"onSave",value:function(){var e=this;if(this.isEditing){this.isEditing=!1;var t=this.projectService.updateDataFileInfo(this.dataFile).subscribe(function(i){return t.unsubscribe(),!i.isError&&(e.dataFile=i.success)})}else this.isEditing=!0}},{key:"onDownloadBtn",value:function(){this.dataService.downloadData(this.dataFile.id)}},{key:"gotoProject",value:function(e){var t=this.dataFile.project;t&&this.router.navigate(["/project",t,"/info"])}},{key:"gotoResult",value:function(){var e=this.dataFile.result;e&&this.router.navigate(["/result/",e,"/info"])}},{key:"deleteDataFileDialog",value:function(e){var t=this,i=this.dialogRef.open(I.a,{disableClose:!1});i.componentInstance.setOptions({title:'<h4 class="modal-title text-danger">You are going to delete the data file:\'<strong>'+e.name+"</strong>'?</h4>",desc:'<span class="text-danger">This will delete the data file, name: <b>'+e.name+"</b><br>This cannot be undone. Make sure this is something you really want to do!</span><br>"});var a=i.afterClosed().subscribe(function(i){return a.unsubscribe(),i&&t.deleteDataFile(e,i)})}},{key:"dataExport",value:function(e,t,i){this.projectService.exportDataFile(e,t,i),this._viewControls.showExportAndShare=!1}},{key:"moveDataFileToFolder",value:function(){var e=this;if((this.dataFile.parent||""!==this._viewControls.moveToDataFileID)&&this.dataFile.parent!==this._viewControls.moveToDataFileID)var t=this.projectService.moveDataFileToFolder(this.dataFile,this._viewControls.moveToDataFileID).subscribe(function(i){t.unsubscribe(),e._viewControls.showMoveToFolder=!1,e._viewControls.moveToDataFileID="",i.isError||(e.dataFile=i.success)})}},{key:"onTrackFileChange",value:function(e){var t=this;if("Folder"===this.dataFile.format){var i=e.value.path;if(e.state.selected){e.state.selected=!1;var a=this.trackingFiles.filter(function(e){return e.path===i||e.realPath===i})[0];if(a&&(a.parent===this.dataFile.id||this.dataFile.parent==this.dataFile.parent))var n=this.projectService.untrackDataFile(a).subscribe(function(i){if(n.unsubscribe(),i.isError)e.state.selected=!0;else{var a=t.isTracked(e.value.path);e.state.highlighted=a>0}})}else{e.state.highlighted=!0;var c=this.projectService.trackDataFile(i,this.dataFile).subscribe(function(t){c.unsubscribe(),t.isError||(e.state.highlighted=!0,e.state.selected=!0)})}}}},{key:"toggleFiles",value:function(e){var t=this;if(console.log(e.children),e.state.opened||"directory"!==e.value.type)e.state.opened=!e.state.opened,e.state.opened?this.nestedTreeControl.expand(e):this.nestedTreeControl.collapse(e);else{e.state.loading=!0;var i=this.projectService.listFilesInDataFolder(this.dataFile,e.value.path).subscribe(function(a){i.unsubscribe();var n=a.success.map(function(e){return t._convertTreeData(e)});e.children.next(n),e.state.loading=!1,e.state.opened=!e.state.opened,t.nestedTreeControl.expand(e)})}}},{key:"hasChildrenNodes",value:function(e,t){return"directory"===t.value.type}},{key:"listFiles",value:function(){var e=this;this.isLoadingFolderContent=!0;var t=this.projectService.listFilesInDataFolder(this.dataFile).subscribe(function(i){return t.unsubscribe(),e.isLoadingFolderContent=!1,e.folderContentInitialized=!0,!i.isError&&e.childrenNodes.next(i.success.map(function(t){return e._convertTreeData(t)}))})}},{key:"updateChildrenNodes",value:function(){var e=this;this.childrenNodes&&this.childrenNodes.next(this.childrenNodes.value.map(function(t){return e._convertTreeData(t)}))}},{key:"onTrackFile",value:function(e,t){var i=this;if(e.preventDefault(),e.stopPropagation(),"Folder"===this.dataFile.format)var a=this.projectService.trackDataFile(t.data.path,this.dataFile).subscribe(function(e){return a.unsubscribe(),!e.isError&&i.listFiles()})}},{key:"onUnTrackFile",value:function(e){var t=this;if(e.parent===this.dataFile.id)var i=this.projectService.untrackDataFile(e).subscribe(function(e){return i.unsubscribe(),!e.isError&&t.updateChildrenNodes()})}},{key:"onTagChanged",value:function(e){this.dataFile&&(this.dataFile.tags=e)}},{key:"importFileDialog",value:function(){var e=this;this.dataFile&&"Folder"===this.dataFile.format&&(this._viewControls.showCreateFolder=!0,this.dialogRef.open(L.a,{width:"99%",height:"95%",maxWidth:"95vw",maxHeight:"95vh",data:{allowedFormats:this.allowedFormats,project:this.currentProject,sysConfig:this.sysConfig,parentDataFileID:this.dataFile.id,tasks:this.tasks,importType:"local",currentUser:this.currentUser,tags:[]}}).afterClosed().subscribe(function(){e._viewControls.showCreateFolder=!1}))}},{key:"copyFilePath",value:function(){if(this.dataFile){var e=document.createElement("textarea");e.style.position="fixed",e.style.left="0",e.style.top="0",e.style.opacity="0",e.value=this.dataFile.path||this.dataFile.realPath,document.body.appendChild(e),e.focus(),e.select(),document.execCommand("copy"),document.body.removeChild(e)}}},{key:"ngOnDestroy",value:function(){this._subs.forEach(function(e){return e.unsubscribe()})}},{key:"_convertTreeData",value:function(e){var t=this,i=this.isTracked(e.path);if(e.state){var a=this.getNameByPath(e.value.path);return e.state.selected=!!a,e.state.highlighted=!!a,e.text=a||e.text,e.children&&e.children.length>0&&(e.children=new S.a(e.children.map(function(e){return t._convertTreeData(e)}))),e}return{text:e.name,value:e,children:new S.a("directory"===e.type?e.children.map(function(e){return t._convertTreeData(e)}):[]),icon:e.children?void 0:"tree-file",state:{opened:!1,selected:1===i,disabled:!1,loading:!1,highlighted:i>0,openable:"directory"===e.type,dropAllowed:!1}}}},{key:"deleteDataFile",value:function(e,t){var i=this;this.isDeleting=!0,e.status=3;var a=this.projectService.deleteDataFile(e).subscribe(function(e){a.unsubscribe(),i.router.navigate(["/project",i.dataFile.project,"dataFile","list"])})}}]),t}()).\u0275fac=function(e){return new(e||ze)(_.Ob(w.c),_.Ob(w.a),_.Ob(J.a),_.Ob(E.a),_.Ob(B.a),_.Ob(O.b),_.Ob(R.a),_.Ob(N.a))},ze.\u0275cmp=_.Ib({type:ze,selectors:[["datafile-info"]],viewQuery:function(e,t){var i;1&e&&_.Qc(G,1),2&e&&_.xc(i=_.dc())&&(t.tagInput=i.first)},decls:21,vars:12,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],["class","link",3,"click",4,"ngIf"],[3,"routerLink",4,"ngIf"],["class","breadcrumb-item",4,"ngIf"],["class","breadcrumb-item active",4,"ngIf"],[1,"bdp-main-container"],[1,"chi-header"],[4,"ngIf"],["class","container-fluid","style","height: 100%",4,"ngIf"],["class","chi-right-menu",4,"ngIf"],[1,"link",3,"click"],[1,"breadcrumb-item","active"],["target","_blank",3,"routerLink"],[1,"fas","fa-external-link-alt","ml-3"],[1,"container-fluid",2,"height","100%"],["class","overlay",4,"ngIf"],[1,"row"],[1,"col-md-2"],[1,"col-md-10",3,"dblclick"],[1,"col-md-10"],[3,"hidden"],[2,"word-break","break-all"],[1,"ml-1","link","fa","fa-edit","fa-lg",3,"click"],["style","width: 100%;",4,"ngIf"],[1,"row","mb-3"],["class","badge m-1",3,"badge-secondary","badge-success",4,"ngIf"],["class","ml-1 link fa fa-edit fa-lg",3,"click",4,"ngIf"],[1,"row",2,"margin-top","10px"],[3,"packages","tasks","tags","disabled","tagChange",4,"ngIf"],["mat-icon-button","",3,"click"],[1,"fas","fa-link","fa-fw","fa-lg","mr-2"],[1,"text-muted"],["class","row","style","margin-top: 10px;",4,"ngIf"],["class","row",4,"ngIf"],[1,"text-muted",2,"white-space","pre"],[2,"width","50%"],["matInput","","type","text","maxlength","36","size","36","placeholder","The prefix for the data file(s)",3,"ngModel","ngModelChange"],["matInput","","type","text","maxlength","36","size","36","placeholder","The suffix for the data file(s)",3,"ngModel","ngModelChange"],[2,"width","100%"],["matPrefix","",1,"link","fa","fa-save","fa-lg","mr-1",3,"click"],["matInput","","type","text","maxlength","80","size","80","placeholder","The DataFile name (length must be smaller or equal than 80 characters)",3,"ngModel","ngModelChange"],["matPrefix",""],[1,"text-muted",2,"white-space","pre",3,"innerHTML"],["matSuffix",""],["matInput","","placeholder","Say something about this DataFile. (max length: 300 characters)","maxlength","300","rows","4",3,"ngModel","ngModelChange"],[1,"badge","m-1"],["matPrefix","","class","link fa fa-save fa-lg mr-1",3,"click",4,"ngIf"],["matInput","","type","text","maxlength","16","size","16","placeholder","The data file format",3,"ngModel","ngModelChange"],[3,"packages","tasks","tags","disabled","tagChange"],[1,"link",2,"text-decoration","underline",3,"click"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngIf"],["ngFor","",3,"ngForOf"],["mat-raised-button","","type","button","color","primary",3,"click"],[3,"value"],[1,"col-md-2",2,"line-height","1.42857143"],[2,"width","350px"],["matInput","","type","text","placeholder","[Optional] Put the email to share"],["shareEmail",""],["mat-raised-button","","type","button",1,"btn","btn-danger","btn-xs",3,"click"],[1,"fab","fa-google-drive","mr-2"],[1,"fas","fa-circle-o-notch","fa-spin","fa-fw"],[1,"img-responsive",3,"src"],[1,"col-md-6",2,"border-right","1px solid black","min-height","350px"],[1,"col-md-6"],[3,"routerLink","queryParams"],[1,"fas","fa-folder","mr-2","fa-fw"],["target","_blank",1,"ml-3",3,"routerLink"],[1,"link","fas","fa-external-link-alt","fa-fx"],["mat-button","",3,"disabled","click",4,"ngIf"],[1,"example-tree",3,"dataSource","treeControl"],["matTreeNodeToggle","",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],[1,"container-fluid",2,"overflow","auto"],[1,"table","table-condensed"],["ngFor","",3,"ngForOf","ngForTrackBy"],[1,"badge","badge-secondary"],["class","badge badge-primary",4,"ngFor","ngForOf"],["mat-icon-button","","color","accent",3,"click"],[1,"fa-stack"],[1,"fas","fa-thumbtack","fa-stack-1x"],[1,"fas","fa-slash","fa-stack-1x","text-danger"],[1,"badge","badge-primary"],["mat-button","",3,"disabled","click"],["matTreeNodeToggle",""],[1,"mat-tree-node"],["mat-icon-button","","disabled",""],[3,"checked","change"],[1,"far","fa-file-alt","fa-lg","fa-fw","mr-2"],[2,"font-size","1rem"],["mat-icon-button","","matTreeNodeToggle","",3,"click"],[1,"mat-icon-rtl-mirror"],[3,"checked","indeterminate","change"],[1,"fas","fa-folder-open","fa-lg","fa-fw","mr-2"],[2,"font-size","1.2rem"],["matTreeNodeOutlet",""],[1,"overlay"],[1,"chi-right-menu"],[1,"chi-rbtn",3,"click"],["class","fa fa-angle-right fa-fw",4,"ngIf"],["class","fa fa-angle-left fa-fw",4,"ngIf"],[1,"chi-rbtn-content","ml-2"],[1,"chi-rbtn-arrow"],["class","chi-rbtn",3,"active","click",4,"ngIf"],[1,"fas","fa-file-download","fa-fw"],[1,"chi-rbtn-content"],["class","chi-rbtn",3,"click",4,"ngIf"],["class","chi-rbtn",3,"routerLink","queryParams",4,"ngIf"],[1,"fa","fa-angle-right","fa-fw"],[1,"fa","fa-angle-left","fa-fw"],["aria-hidden","true",1,"fas","fa-fw",3,"ngClass"],[1,"fa","fa-upload","fa-fw"],["aria-hidden","true",1,"fas","fa-trash","fa-fw"],[1,"chi-rbtn",3,"routerLink","queryParams"],["aria-hidden","true",1,"fas","fa-scroll","fa-fw"],[1,"fa-stack","fa-2x","fa-fw",2,"font-size","9px"],[1,"far","fa-folder","fa-stack-2x","fa-fw"],[1,"fas","fa-arrow-right","fa-stack-1x","fa-fw"],[1,"fas","fa-cloud-upload-alt"]],template:function(e,t){1&e&&(_.Ub(0,"ol",0),_.Ub(1,"li",1),_.Ub(2,"a",2),_.Lc(3,"Home"),_.Tb(),_.Tb(),_.Ub(4,"li",1),_.Ub(5,"a",2),_.Lc(6,"Project List"),_.Tb(),_.Tb(),_.Ub(7,"li",1),_.Jc(8,z,2,0,"a",3),_.Jc(9,Y,3,4,"a",4),_.Tb(),_.Jc(10,Q,3,3,"li",5),_.Jc(11,X,5,6,"li",6),_.Jc(12,Z,2,0,"li",6),_.Tb(),_.Ub(13,"div",7),_.Ub(14,"h4",8),_.Lc(15,"Data information"),_.Tb(),_.Jc(16,ee,2,0,"div",9),_.Pb(17,"br"),_.Pb(18,"br"),_.Jc(19,Me,3,2,"div",10),_.Tb(),_.Jc(20,Ge,27,13,"div",11)),2&e&&(_.Cb(2),_.nc("routerLink",_.qc(10,qe)),_.Cb(3),_.nc("routerLink",_.qc(11,He)),_.Cb(3),_.nc("ngIf",!t.dataFile),_.Cb(1),_.nc("ngIf",null==t.dataFile?null:t.dataFile.project),_.Cb(1),_.nc("ngIf",t.dataFile),_.Cb(1),_.nc("ngIf",t.dataFile),_.Cb(1),_.nc("ngIf",!t.dataFile),_.Cb(4),_.nc("ngIf",t.isLoading),_.Cb(3),_.nc("ngIf",t.dataFile),_.Cb(1),_.nc("ngIf",t.dataFile))},directives:[w.f,o.n,u.b,V.b,b.a,r.b,r.e,r.i,r.l,V.f,V.g,$.a,d.a,o.m,A.j,V.e,g.b,g.f,g.e,g.i,m.a,g.a,f.a,g.g,o.l],styles:[".mat-option.mat-active[_ngcontent-%COMP%]{background:rgba(0,123,255,.4)}.mat-option[_ngcontent-%COMP%]:hover{background:rgba(0,123,255,.2)}.example-tree[_ngcontent-%COMP%]{background-color:transparent;transform-origin:0 0}.example-tree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .example-tree[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;margin-bottom:0;margin-top:0}.mat-tree-node[_ngcontent-%COMP%]{min-height:unset}.example-tree-invisible[_ngcontent-%COMP%]{display:none}"],data:{animation:[y.a]}}),ze),Ke=c("MKys"),Qe=c("R0Ic"),We=c("wd/R");function Xe(e,t){if(1&e&&(_.Ub(0,"span"),_.Lc(1),_.Tb()),2&e){var i=_.gc(2);_.Cb(1),_.Nc(": ",i.currentProject.name,"")}}var Ze=function(e){return["/project",e,"info"]};function et(e,t){if(1&e&&(_.Ub(0,"a",2),_.Lc(1,"Project "),_.Jc(2,Xe,2,1,"span",14),_.Tb()),2&e){var i=_.gc();_.nc("routerLink",_.rc(2,Ze,i.currentProject.id)),_.Cb(2),_.nc("ngIf",i.currentProject)}}var tt=function(e){return["/project",e,"dataFile","list"]};function it(e,t){if(1&e&&(_.Ub(0,"li",15),_.Ub(1,"a",2),_.Lc(2,"DataFile List"),_.Tb(),_.Ub(3,"a",16),_.Pb(4,"i",17),_.Tb(),_.Tb()),2&e){var i=_.gc();_.Cb(1),_.nc("routerLink",_.rc(2,tt,i.currentProject.id)),_.Cb(2),_.nc("routerLink",_.rc(4,tt,i.currentProject.id))}}function at(e,t){1&e&&(_.Ub(0,"li",15),_.Lc(1,"DataFile List"),_.Tb())}function nt(e,t){if(1&e){var i=_.Vb();_.Ub(0,"span",51),_.cc("click",function(){_.Bc(i);var e=t.$implicit;return _.gc(2).toggleTag(e)}),_.Lc(1),_.Tb()}if(2&e){var a=t.$implicit,n=_.gc(2);_.Gb("badge-primary",n._viewControls.filteredTags.indexOf(a)>=0)("badge-secondary",-1===n._viewControls.filteredTags.indexOf(a)),_.Cb(1),_.Mc(a)}}function ct(e,t){1&e&&(_.Sb(0),_.Lc(1,"s"),_.Rb())}function rt(e,t){if(1&e){var i=_.Vb();_.Ub(0,"button",53),_.cc("click",function(){return _.Bc(i),_.gc(3).onDownloadSelected()}),_.Pb(1,"i",57),_.Tb()}}function ot(e,t){if(1&e){var i=_.Vb();_.Ub(0,"button",58),_.cc("click",function(){return _.Bc(i),_.gc(3).deleteDataFileDialog()}),_.Ub(1,"mat-icon"),_.Lc(2,"delete"),_.Tb(),_.Tb()}}function lt(e,t){if(1&e&&(_.Ub(0,"mat-option",67),_.Lc(1),_.Tb()),2&e){var i=_.gc().$implicit;_.nc("value",i),_.Cb(1),_.Nc(" ",i.name+" (owner: "+i.owner+")"," ")}}function st(e,t){if(1&e&&(_.Sb(0),_.Jc(1,lt,2,2,"mat-option",66),_.Rb()),2&e){var i=t.$implicit,a=_.gc(4);_.Cb(1),_.nc("ngIf",i.id!==a.currentProject.id&&i.privilege.canAddFile)}}function bt(e,t){if(1&e){var i=_.Vb();_.Ub(0,"div",19),_.Ub(1,"mat-form-field",59),_.Ub(2,"mat-select",60,61),_.Jc(4,st,2,1,"ng-container",62),_.Tb(),_.Tb(),_.Ub(5,"mat-checkbox",null,63),_.Lc(7,"Make a full copy"),_.Tb(),_.Ub(8,"small",64),_.Lc(9,"*If checked, the file/folder content will be copied."),_.Tb(),_.Pb(10,"br"),_.Ub(11,"button",65),_.cc("click",function(){_.Bc(i);var e=_.yc(3),t=_.yc(6);return _.gc(3).importToProject(e.value,t.checked),e.value=void 0}),_.Lc(12,"Export files to selected project"),_.Tb(),_.Tb()}if(2&e){var a=_.yc(3),n=_.gc(3);_.Cb(4),_.nc("ngForOf",n.projectList),_.Cb(7),_.nc("disabled",!a.value)}}function dt(e,t){if(1&e){var i=_.Vb();_.Ub(0,"div",7),_.Ub(1,"div",19),_.Ub(2,"span"),_.Lc(3),_.Jc(4,ct,2,0,"ng-container",14),_.Tb(),_.Pb(5,"i",52),_.Ub(6,"button",53),_.cc("click",function(){return _.Bc(i),_.gc(2).onToggleFileImport()}),_.Ub(7,"mat-icon"),_.Lc(8,"move_to_inbox"),_.Tb(),_.Tb(),_.Jc(9,rt,2,0,"button",54),_.Jc(10,ot,3,0,"button",55),_.Tb(),_.Jc(11,bt,13,2,"div",56),_.Tb()}if(2&e){var a=_.gc(2);_.Cb(3),_.Nc("Selected ",a.selectedList.length," data file"),_.Cb(1),_.nc("ngIf",a.selectedList.length>1),_.Cb(5),_.nc("ngIf",a.currentProject.privilege.canView),_.Cb(1),_.nc("ngIf",a.currentProject.privilege.canDeleteFile),_.Cb(1),_.nc("ngIf",a.toggleFileImport)}}function ut(e,t){if(1&e){var i=_.Vb();_.Ub(0,"th",68),_.Ub(1,"mat-checkbox",69,70),_.cc("change",function(e){return _.Bc(i),_.gc(2).onAllCheckBoxChange(e)}),_.Tb(),_.Tb()}if(2&e){var a=_.gc(2);_.Cb(1),_.nc("checked",a.selectedList.length===a.pageSize||a.selectedList.length===a.dataFiles.length)("indeterminate",a.selectedList.length>0&&a.selectedList.length<a.pageSize&&a.selectedList.length<a.dataFiles.length)}}function ft(e,t){if(1&e){var i=_.Vb();_.Ub(0,"td",71),_.Ub(1,"mat-checkbox",72),_.cc("change",function(e){_.Bc(i);var a=t.$implicit;return _.gc(2).onFileCheckBoxChange(e,a.id)})("click",function(e){return e.stopPropagation()}),_.Tb(),_.Tb()}if(2&e){var a=t.$implicit,n=_.gc(2);_.Db("rowspan",n.expandedDataFiles.has(a.id)||n.isEditing?2:1),_.Cb(1),_.nc("checked",n.selectedList.indexOf(a.id)>=0)}}function gt(e,t){1&e&&(_.Ub(0,"th",73),_.Lc(1,"Prefix"),_.Tb())}function ht(e,t){if(1&e&&(_.Ub(0,"u",77),_.Lc(1),_.Tb()),2&e){var i=_.gc().$implicit;_.Cb(1),_.Mc(i.prefix)}}function vt(e,t){if(1&e){var i=_.Vb();_.Ub(0,"mat-form-field",59),_.Ub(1,"input",78),_.cc("ngModelChange",function(e){return _.Bc(i),_.gc().$implicit.prefix=e}),_.Tb(),_.Tb()}if(2&e){var a=_.gc().$implicit;_.Cb(1),_.nc("ngModel",a.prefix)}}function pt(e,t){if(1&e&&(_.Ub(0,"td",74),_.Jc(1,ht,2,1,"u",75),_.Jc(2,vt,2,1,"mat-form-field",76),_.Tb()),2&e){var i=_.gc(2);_.Cb(1),_.nc("ngIf",!i.isEditing),_.Cb(1),_.nc("ngIf",i.isEditing)}}function mt(e,t){1&e&&(_.Ub(0,"th",73),_.Ub(1,"span",79),_.Lc(2,"DataFile Name"),_.Tb(),_.Tb())}var Ct=function(){return["/page"]},Tt=function(e){return{datafile:e}};function Ft(e,t){if(1&e&&(_.Ub(0,"a",86),_.Pb(1,"i",87),_.Tb()),2&e){var i=_.gc(2).$implicit;_.nc("routerLink",_.qc(2,Ct))("queryParams",_.rc(3,Tt,i.id))}}var kt=function(e){return{datafile:e,static:"true"}};function Ut(e,t){if(1&e&&(_.Ub(0,"a",88),_.Pb(1,"i",89),_.Tb()),2&e){var i=_.gc(2).$implicit;_.nc("routerLink",_.qc(2,Ct))("queryParams",_.rc(3,kt,i.id))}}var wt=function(e){return["/dataFile",e,"info"]};function yt(e,t){if(1&e&&(_.Sb(0),_.Jc(1,Ft,2,5,"a",81),_.Jc(2,Ut,2,5,"a",82),_.Ub(3,"a",83),_.Lc(4),_.Tb(),_.Ub(5,"a",84),_.Pb(6,"span",85),_.Tb(),_.Rb()),2&e){var i=_.gc().$implicit,a=_.gc(2);_.Cb(1),_.nc("ngIf",a.currentProject.getValidFilePageKeys(i.tags,i.format).length>0),_.Cb(1),_.nc("ngIf","Folder"===i.format),_.Cb(1),_.nc("routerLink",_.rc(5,wt,i.id)),_.Cb(1),_.Nc(" ",(null==i?null:i.name)||"(no-name)"," "),_.Cb(1),_.nc("routerLink",_.rc(7,wt,i.id))}}function Pt(e,t){if(1&e){var i=_.Vb();_.Ub(0,"mat-form-field",59),_.Ub(1,"input",90),_.cc("ngModelChange",function(e){return _.Bc(i),_.gc().$implicit.name=e}),_.Tb(),_.Tb()}if(2&e){var a=_.gc().$implicit;_.Cb(1),_.nc("ngModel",a.name)}}function xt(e,t){if(1&e&&(_.Ub(0,"td",80),_.Jc(1,yt,7,9,"ng-container",14),_.Jc(2,Pt,2,1,"mat-form-field",76),_.Tb()),2&e){var i=_.gc(2);_.Cb(1),_.nc("ngIf",!i.isEditing),_.Cb(1),_.nc("ngIf",i.isEditing)}}function Lt(e,t){1&e&&(_.Ub(0,"th",73),_.Lc(1,"Suffix"),_.Tb())}function It(e,t){if(1&e&&(_.Ub(0,"u",77),_.Lc(1),_.Tb()),2&e){var i=_.gc().$implicit;_.Cb(1),_.Mc(i.suffix)}}function Dt(e,t){if(1&e){var i=_.Vb();_.Ub(0,"mat-form-field",59),_.Ub(1,"input",91),_.cc("ngModelChange",function(e){return _.Bc(i),_.gc().$implicit.suffix=e}),_.Tb(),_.Tb()}if(2&e){var a=_.gc().$implicit;_.Cb(1),_.nc("ngModel",a.suffix)}}function jt(e,t){if(1&e&&(_.Ub(0,"td",80),_.Jc(1,It,2,1,"u",75),_.Jc(2,Dt,2,1,"mat-form-field",76),_.Tb()),2&e){var i=_.gc(2);_.Cb(1),_.nc("ngIf",!i.isEditing),_.Cb(1),_.nc("ngIf",i.isEditing)}}function St(e,t){1&e&&(_.Ub(0,"th",73),_.Lc(1,"Status"),_.Tb())}function Mt(e,t){1&e&&_.Pb(0,"i",99)}function _t(e,t){1&e&&(_.Ub(0,"p",100),_.Pb(1,"i",101),_.Tb())}function Jt(e,t){1&e&&_.Pb(0,"i",102)}function Et(e,t){1&e&&_.Pb(0,"i",103)}function Bt(e,t){1&e&&_.Pb(0,"i",104)}function Ot(e,t){if(1&e&&(_.Ub(0,"td",92),_.Ub(1,"div",93),_.Jc(2,Mt,1,0,"i",94),_.Jc(3,_t,2,0,"p",95),_.Jc(4,Jt,1,0,"i",96),_.Jc(5,Et,1,0,"i",97),_.Jc(6,Bt,1,0,"i",98),_.Tb(),_.Tb()),2&e){var i=t.$implicit;_.Cb(1),_.nc("ngSwitch",null==i?null:i.status),_.Cb(1),_.nc("ngSwitchCase",0),_.Cb(1),_.nc("ngSwitchCase",1),_.Cb(1),_.nc("ngSwitchCase",2),_.Cb(1),_.nc("ngSwitchCase",3),_.Cb(1),_.nc("ngSwitchCase",4)}}function Rt(e,t){1&e&&(_.Ub(0,"th",73),_.Lc(1,"Creation time"),_.Tb())}function Nt(e,t){if(1&e&&(_.Ub(0,"td",92),_.Lc(1),_.Tb()),2&e){var i=t.$implicit;_.Cb(1),_.Mc(null==i||null==i.createdAt?null:i.createdAt.format("YYYY/MM/DD HH:mm:ss"))}}function Vt(e,t){1&e&&(_.Ub(0,"th",73),_.Lc(1,"Owner"),_.Tb())}function $t(e,t){if(1&e&&(_.Ub(0,"td",92),_.Ub(1,"span"),_.Lc(2),_.Tb(),_.Tb()),2&e){var i=t.$implicit;_.Cb(2),_.Mc(null==i||null==i.owner?null:i.owner.name)}}function At(e,t){1&e&&(_.Ub(0,"th",105),_.Lc(1,"Tags"),_.Tb())}function Gt(e,t){if(1&e){var i=_.Vb();_.Ub(0,"td",106),_.Ub(1,"bdp-tag-input",107),_.cc("tagChange",function(e){_.Bc(i);var a=t.$implicit;return _.gc(2).onTagChanged(e,a)})("tagClicked",function(e){return _.Bc(i),_.gc(2).onTagClicked(e)}),_.Tb(),_.Tb()}if(2&e){var a=t.$implicit,n=_.gc(2);_.Cb(1),_.nc("packages",n.currentProject.packages)("tasks",n.tasks)("tags",a.tags)("disabled",!n.isEditing)("highlightTags",n._viewControls.filteredTags)}}function zt(e,t){if(1&e&&(_.Ub(0,"span",117),_.Lc(1),_.Tb()),2&e){var i=t.$implicit;_.Gb("badge-primary","Folder"!==i)("badge-success","Folder"===i),_.Cb(1),_.Mc(i)}}function qt(e,t){1&e&&(_.Ub(0,"span",118),_.Lc(1,"No Tags"),_.Tb())}var Ht=function(e){return{"fa-folder":e}};function Yt(e,t){if(1&e&&(_.Sb(0),_.Ub(1,"tr"),_.Ub(2,"td"),_.Ub(3,"a",2),_.Pb(4,"i",112),_.Ub(5,"b"),_.Lc(6),_.Tb(),_.Tb(),_.Tb(),_.Ub(7,"td"),_.Jc(8,zt,2,5,"span",113),_.Jc(9,qt,2,0,"span",114),_.Tb(),_.Ub(10,"td",115),_.Lc(11),_.Tb(),_.Tb(),_.Ub(12,"tr"),_.Ub(13,"td",116),_.Pb(14,"span",110),_.Lc(15),_.Tb(),_.Tb(),_.Rb()),2&e){var i=t.$implicit;_.Cb(3),_.nc("routerLink",_.rc(9,wt,i.id)),_.Cb(1),_.nc("ngClass",_.rc(11,Ht,"Folder"===i.format)),_.Cb(1),_.Gb("text-success","Folder"===i.format),_.Cb(1),_.Mc(i.name),_.Cb(2),_.nc("ngForOf",i.tags),_.Cb(1),_.nc("ngIf",!i.tags||0===i.tags.length),_.Cb(2),_.Mc(null==i||null==i.createdAt?null:i.createdAt.format("YYYY/MM/DD HH:mm:ss")),_.Cb(4),_.Nc("Description: ",i.desc||"no descriptions","")}}function Kt(e,t){if(1&e&&(_.Ub(0,"div"),_.Ub(1,"strong"),_.Pb(2,"i",110),_.Lc(3,"Contained tracked files"),_.Tb(),_.Lc(4,": "),_.Ub(5,"div",27),_.Ub(6,"table",111),_.Jc(7,Yt,16,13,"ng-container",62),_.Tb(),_.Tb(),_.Tb()),2&e){var i=_.gc(2).$implicit,a=_.gc(2);_.Cb(7),_.nc("ngForOf",a.containedFiles(i.id))}}function Qt(e,t){if(1&e&&(_.Ub(0,"div"),_.Ub(1,"strong"),_.Pb(2,"i",110),_.Lc(3,"Description"),_.Tb(),_.Lc(4,": "),_.Ub(5,"p"),_.Lc(6),_.Tb(),_.Jc(7,Kt,8,1,"div",14),_.Tb()),2&e){var i=_.gc().$implicit;_.Cb(6),_.Mc(i.desc?i.desc:"No description"),_.Cb(1),_.nc("ngIf",i.tags.indexOf("Folder")>=0)}}function Wt(e,t){if(1&e&&(_.Ub(0,"td",108),_.Ub(1,"div",109),_.Jc(2,Qt,8,2,"div",14),_.Tb(),_.Tb()),2&e){var i=t.$implicit,a=_.gc(2);_.Db("colspan",a.expandedDataFiles.has(i.id)||a.isEditing?7:8),_.Cb(1),_.nc("@detailExpand",a.expandedDataFiles.has(i.id)||a.isEditing?"expanded":"collapsed"),_.Cb(1),_.nc("ngIf",a.expandedDataFiles.has(i.id)||a.isEditing)}}function Xt(e,t){1&e&&_.Pb(0,"tr",119)}function Zt(e,t){if(1&e){var i=_.Vb();_.Ub(0,"tr",120),_.cc("click",function(){_.Bc(i);var e=t.$implicit,a=t.dataIndex;return _.gc(2).toggleRow(e.id,a)}),_.Tb()}if(2&e){var a=t.$implicit,n=_.gc(2);_.Gb("table-primary",n.expandedDataFiles.has(a.id))}}function ei(e,t){1&e&&_.Pb(0,"tr",121)}var ti=function(){return[5,10,30,50,100,300,500]},ii=function(){return["dataFileCheckbox","dataFilePrefix","dataFileName","dataFileSuffix","dataFileTags","dataFileStatus","dataFileCreationTime","dataFileOwner"]},ai=function(){return["dataFileDetail"]};function ni(e,t){if(1&e){var i=_.Vb();_.Ub(0,"div",18),_.Ub(1,"div",7),_.Ub(2,"div",19),_.Ub(3,"span",20),_.Pb(4,"span",21),_.Lc(5,"Tags filter "),_.Tb(),_.Ub(6,"span",22),_.cc("click",function(){_.Bc(i);var e=_.gc();return e._viewControls.filteredTags=e.allPossibleTags}),_.Lc(7,"All"),_.Tb(),_.Ub(8,"span",23),_.cc("click",function(){return _.Bc(i),_.gc()._viewControls.filteredTags=[]}),_.Lc(9,"None"),_.Tb(),_.Jc(10,nt,2,5,"span",24),_.Tb(),_.Tb(),_.Jc(11,dt,12,5,"div",25),_.Pb(12,"br"),_.Ub(13,"div",7),_.Ub(14,"div",19),_.Ub(15,"mat-paginator",26),_.cc("page",function(e){return _.Bc(i),_.gc().onPageChange(e)}),_.Tb(),_.Ub(16,"div",27),_.Ub(17,"table",28),_.cc("matSortChange",function(e){return _.Bc(i),_.gc().sortData(e)}),_.hc(18,"slice"),_.Sb(19,29),_.Jc(20,ut,3,2,"th",30),_.Jc(21,ft,2,2,"td",31),_.Rb(),_.Sb(22,32),_.Jc(23,gt,2,0,"th",33),_.Jc(24,pt,3,2,"td",34),_.Rb(),_.Sb(25,35),_.Jc(26,mt,3,0,"th",33),_.Jc(27,xt,3,2,"td",36),_.Rb(),_.Sb(28,37),_.Jc(29,Lt,2,0,"th",33),_.Jc(30,jt,3,2,"td",36),_.Rb(),_.Sb(31,38),_.Jc(32,St,2,0,"th",33),_.Jc(33,Ot,7,6,"td",39),_.Rb(),_.Sb(34,40),_.Jc(35,Rt,2,0,"th",41),_.Jc(36,Nt,2,1,"td",39),_.Rb(),_.Sb(37,42),_.Jc(38,Vt,2,0,"th",41),_.Jc(39,$t,3,1,"td",39),_.Rb(),_.Sb(40,43),_.Jc(41,At,2,0,"th",44),_.Jc(42,Gt,2,5,"td",45),_.Rb(),_.Sb(43,46),_.Jc(44,Wt,3,3,"td",47),_.Rb(),_.Jc(45,Xt,1,0,"tr",48),_.Jc(46,Zt,1,2,"tr",49),_.Jc(47,ei,1,0,"tr",50),_.Tb(),_.Tb(),_.Ub(48,"mat-paginator",26),_.cc("page",function(e){return _.Bc(i),_.gc().onPageChange(e)}),_.Tb(),_.Tb(),_.Tb(),_.Tb()}if(2&e){var a=_.gc();_.Cb(10),_.nc("ngForOf",a.allPossibleTags),_.Cb(1),_.nc("ngIf",a.selectedList.length>0),_.Cb(4),_.nc("length",a.dataFiles.length)("pageSize",a.pageSize)("pageIndex",a.pageIndex)("pageSizeOptions",_.qc(18,ti)),_.Cb(2),_.nc("dataSource",_.kc(18,14,a.dataFiles,a.pageIndex*a.pageSize,(a.pageIndex+1)*a.pageSize)),_.Cb(28),_.nc("matHeaderRowDef",_.qc(19,ii)),_.Cb(1),_.nc("matRowDefColumns",_.qc(20,ii)),_.Cb(1),_.nc("matRowDefColumns",_.qc(21,ai)),_.Cb(1),_.nc("length",a.dataFiles.length)("pageSize",a.pageSize)("pageIndex",a.pageIndex)("pageSizeOptions",_.qc(22,ti))}}function ci(e,t){1&e&&_.Pb(0,"i",132)}function ri(e,t){1&e&&_.Pb(0,"i",133)}var oi=function(e,t){return{"fa-edit":e,"fa-save":t}};function li(e,t){if(1&e){var i=_.Vb();_.Ub(0,"a",123),_.cc("click",function(){return _.Bc(i),_.gc(2).onSave()}),_.Pb(1,"i",134),_.Ub(2,"span",131),_.Lc(3),_.Tb(),_.Ub(4,"span",127),_.Lc(5,"\u276f"),_.Tb(),_.Tb()}if(2&e){var a=_.gc(2);_.Gb("active",a.isEditing),_.Cb(1),_.nc("ngClass",_.sc(6,oi,!a.isEditing,a.isEditing)),_.Cb(1),_.Gb("active",a.showRightButtonContent||a.isEditing),_.Cb(1),_.Mc(a.isEditing?"Save":"Modify file info")}}function si(e,t){if(1&e){var i=_.Vb();_.Sb(0),_.Ub(1,"a",123),_.cc("click",function(){return _.Bc(i),_.gc(2).onCancel()}),_.Pb(2,"i",135),_.Ub(3,"span",131),_.Lc(4,"Cancel"),_.Tb(),_.Ub(5,"span",127),_.Lc(6,"\u276f"),_.Tb(),_.Tb(),_.Pb(7,"br"),_.Rb()}if(2&e){var a=_.gc(2);_.Cb(1),_.Gb("active",a.isEditing),_.Cb(2),_.Gb("active",a.showRightButtonContent||a.isEditing)}}var bi=function(e,t){return{"fa-arrows-alt-v":e,"fa-angle-double-up":t}};function di(e,t){if(1&e){var i=_.Vb();_.Ub(0,"a",123),_.cc("click",function(){return _.Bc(i),_.gc(2).toggleExpansion()}),_.Pb(1,"i",134),_.Ub(2,"span",131),_.Lc(3),_.Tb(),_.Ub(4,"span",127),_.Lc(5,"\u276f"),_.Tb(),_.Tb()}if(2&e){var a=_.gc(2);_.Gb("active",a._viewControls.allExpanded),_.Cb(1),_.nc("ngClass",_.sc(6,bi,!a._viewControls.allExpanded,a._viewControls.allExpanded)),_.Cb(1),_.Gb("active",a.showRightButtonContent),_.Cb(1),_.Mc(a._viewControls.allExpanded?"Collapse info":"Expand info")}}function ui(e,t){if(1&e){var i=_.Vb();_.Sb(0),_.Ub(1,"a",123),_.cc("click",function(){return _.Bc(i),_.gc(2).importFileDialog()}),_.Pb(2,"i",136),_.Ub(3,"span",131),_.Lc(4,"Import files"),_.Tb(),_.Ub(5,"span",127),_.Lc(6,"\u276f"),_.Tb(),_.Tb(),_.Pb(7,"br"),_.Rb()}if(2&e){var a=_.gc(2);_.Cb(1),_.Gb("active",!!a._viewControls.showCreateFolder),_.Cb(2),_.Gb("active",a.showRightButtonContent||a._viewControls.showCreateFolder)}}var fi=function(e){return["/project",e,"result","list"]};function gi(e,t){if(1&e){var i=_.Vb();_.Ub(0,"div",122),_.Ub(1,"a",123),_.cc("click",function(){_.Bc(i);var e=_.gc();return e.showRightButtonContent=!e.showRightButtonContent}),_.Jc(2,ci,1,0,"i",124),_.Jc(3,ri,1,0,"i",125),_.Ub(4,"span",126),_.Lc(5,"MENU"),_.Tb(),_.Ub(6,"span",127),_.Lc(7,"\u276f"),_.Tb(),_.Tb(),_.Pb(8,"br"),_.Jc(9,li,6,9,"a",128),_.Pb(10,"br"),_.Jc(11,si,8,4,"ng-container",14),_.Jc(12,di,6,9,"a",128),_.Pb(13,"br"),_.Jc(14,ui,8,4,"ng-container",14),_.Ub(15,"a",129),_.Pb(16,"i",130),_.Ub(17,"span",131),_.Lc(18,"Results"),_.Tb(),_.Ub(19,"span",127),_.Lc(20,"\u276f"),_.Tb(),_.Tb(),_.Pb(21,"br"),_.Tb()}if(2&e){var a=_.gc();_.nc("@rightButtonState",a.showRightButtonContent?"active":"inactive"),_.Cb(2),_.nc("ngIf",a.showRightButtonContent),_.Cb(1),_.nc("ngIf",!a.showRightButtonContent),_.Cb(1),_.Gb("active",a.showRightButtonContent),_.Cb(5),_.nc("ngIf",a.currentProject.privilege.canEditFile),_.Cb(2),_.nc("ngIf",a.currentProject.privilege.canEditFile&&a.isEditing),_.Cb(1),_.nc("ngIf",a.currentProject.privilege.canEditFile),_.Cb(2),_.nc("ngIf",a.currentProject.privilege.canAddFile),_.Cb(1),_.nc("routerLink",_.rc(12,fi,a.currentProject.id)),_.Cb(2),_.Gb("active",a.showRightButtonContent)}}var hi,vi,pi=function(){return["/home"]},mi=function(){return["/project/list"]},Ci=w.g.forChild([{path:"list",component:(hi=function(){function t(e,a,n,c,r,o,l,s){i(this,t),this.projectService=e,this.router=a,this.route=n,this.dialogRef=c,this.userService=r,this.systemService=o,this.taskService=l,this.dataService=s,this.pageIndex=0,this.pageSize=30,this.totalLength=0,this._subs=[],this.tasks=[]}return n(t,[{key:"ngOnInit",value:function(){var t=this;this.expandedDataFiles=new Set,this.systemService.toggleNavbar(!0),this.systemService.toggleSidebar(!0),this.systemService.maintainRightSidebarStatus(),this.isEditing=!1,this._dataFiles=[],this.selectedList=[],this.projectList=[],this.projectID=void 0,this.currentProject=void 0,this.showRightButtonContent=!1,this._viewControls={sortField:"createdAt",sortDirection:"desc",filteredTags:[],showFilter:!0,showCreateFolder:!1,confirmDelete:"",allExpanded:!1},this._subs.push(this.projectService.currentProject$.subscribe(function(i){setTimeout(function(){var a;i&&i.id!==(null===(a=t.currentProject)||void 0===a?void 0:a.id)&&(t.currentProject=i,t._viewControls.filteredTags=t.allPossibleTags,t.allowedFormats=e(new Set([].concat.apply([],t.currentProject.packages.map(function(e){return e.allowedFormats})))).map(function(e){return e.toString()}),t.taskService.loadTasks(t.currentProject.packages.map(function(e){return e.id})),t.dataFileTable&&t.dataFileTable.renderRows())},100)})),this.route.paramMap.subscribe(function(e){t.projectID=e.get("pid"),t.projectService.setCurrentProject(t.projectID)}),this._subs.push(this.systemService.sysInfo$.subscribe(function(e){t.sysConfig=e,e&&(t.recaptchaKey=e.reCaptchaSiteKey)})),this._subs.push(this.userService.currentUser$.subscribe(function(e){return t.currentUser=e})),this._subs.push(this.taskService.taskList$.subscribe(function(e){Array.isArray(e)&&(t.tasks=e)}))}},{key:"getProjectList",value:function(){var e=this,t=this.projectService.searchProjectList("").subscribe(function(i){t.unsubscribe(),e.projectList=i.isError?[]:i.success})}},{key:"importToProject",value:function(e,t){var i=this.projectService.importFilesToProject(e.id,this.selectedList,t).subscribe(function(e){return i.unsubscribe()})}},{key:"toggleRow",value:function(e,t){this.isEditing||(this.expandedDataFiles.has(e)?this.expandedDataFiles.delete(e):this.expandedDataFiles.add(e))}},{key:"displayProjectListFn",value:function(e){return e&&e.name?e.name:""}},{key:"onToggleFileImport",value:function(){this.toggleFileImport=!this.toggleFileImport,this.toggleFileImport&&this.getProjectList()}},{key:"allPossibleTags",get:function(){if(this.currentProject){var e={},t=this.currentProject.dataFiles;if(!t)return[];for(var i=0;i<t.length;i++){var a=t[i];if(!a.hidden&&!a.parent){var n=a.tags;if(n)for(var c=0;c<n.length;c++)e[n[c]]++}}return Object.keys(e)}return[]}},{key:"toggleTag",value:function(e){var t=this._viewControls.filteredTags.length!==this.allPossibleTags.length,i=this._viewControls.filteredTags.indexOf(e);-1===i?this._viewControls.filteredTags.push(e):t?1===this._viewControls.filteredTags.length?this._viewControls.filteredTags=this.allPossibleTags:this._viewControls.filteredTags.splice(i,1):this._viewControls.filteredTags=[e]}},{key:"dataFiles",get:function(){if(this.currentProject&&this.currentProject.dataFiles){var e=this._viewControls.filteredTags,t=this.currentProject.dataFiles.slice(0).filter(function(t){for(var i=0;i<e.length;i++)if(t.tags&&t.tags.indexOf(e[i])>=0)return!0;return!t.tags||0===t.tags.length}),i=this._viewControls.sortField;return"createdAt"===i?(t.sort(function(e,t){return We(e[i]).isBefore(t[i])?-1:1}),"desc"===this._viewControls.sortDirection&&t.reverse()):t="owner"===i?Object(x.a)(t,[function(e){return e.owner&&e.owner.name?e.owner.name:""}],this._viewControls.sortDirection):Object(x.a)(t,[function(e){return e[i]}],this._viewControls.sortDirection),t.filter(function(e){return!e.hidden&&!e.parent})}return[]}},{key:"containedFiles",value:function(e){return this.currentProject.dataFiles.filter(function(t){return t.parent===e})}},{key:"sortColumn",value:function(e){this._viewControls.sortField===e?this._viewControls.sortDirection="desc"===this._viewControls.sortDirection?"asc":"desc":(this._viewControls.sortField=e,this._viewControls.sortDirection="asc")}},{key:"onFocusedDataFile",value:function(e){this.focusedDataFile=e}},{key:"deleteDataFile",value:function(e,t){e&&(e.status=2);var i=this.projectService.deleteDataFile(e).subscribe(function(){return i.unsubscribe()})}},{key:"batchDeleteFiles",value:function(e){var t=this,i=[];this.dataFiles.forEach(function(t){e.indexOf(t.id)>=0&&(t.status=2,i.push(t.id))});var a=this.projectService.batchDeleteDataFile(i,this.currentProject.id).subscribe(function(){t.selectedList=[],a.unsubscribe()})}},{key:"deleteDataFileDialog",value:function(e){var t=this,i=this.dialogRef.open(I.a,{disableClose:!1});void 0!==e?(i.componentInstance.setOptions({title:'<h4 class="modal-title text-danger">Are you sure you want to delete the data file <strong>'.concat(e.name,"</strong>?</h4>"),desc:'<span class="text-danger">This will delete the data file, name: <b>'.concat(e.name,"</b><br>This cannot be undone. Make sure this is something you really want to do!</span><br>")}),i.afterClosed().subscribe(function(i){i&&t.deleteDataFile(e,i)})):(i.componentInstance.setOptions({title:'<h4 class="text-danger">You are going to remove '.concat(this.selectedList.length,"  data files</h4>"),desc:'<span class="text-danger">These records will be deleted and this cannot be undone. Make sure this is something you really want to do!</span><br>'}),i.afterClosed().subscribe(function(e){e&&t.batchDeleteFiles(t.selectedList)}))}},{key:"gotoDataFile",value:function(e,t){this.router.navigate(["/dataFile",e.id,"info"],t?{queryParams:{edit:1}}:{})}},{key:"goToFileUploadPage",value:function(){this.router.navigate(["/project",this.currentProject.id,"fileImport"])}},{key:"onPageChange",value:function(e){this.pageIndex=e.pageIndex,this.pageSize=e.pageSize,this.selectedList=[]}},{key:"onAllCheckBoxChange",value:function(e){this.selectedList=e.checked?this.dataFiles.slice(this.pageIndex*this.pageSize,(this.pageIndex+1)*this.pageSize).map(function(e){return e.id}):[]}},{key:"onFileCheckBoxChange",value:function(e,t){if(e.checked&&this.selectedList.indexOf(t)<0)this.selectedList.push(t);else if(!e.checked){var i=this.selectedList.indexOf(t);i>=0&&this.selectedList.splice(i,1)}}},{key:"onDownloadSelected",value:function(){this.dataService.downloadFiles(this.projectID,this.selectedList)}},{key:"importFileDialog",value:function(){var e=this;this._viewControls.showCreateFolder=!0,this.dialogRef.open(L.a,{width:"99%",height:"95%",maxWidth:"95vw",maxHeight:"95vh",data:{allowedFormats:this.allowedFormats,project:this.currentProject,sysConfig:this.sysConfig,tasks:this.tasks,importType:"local",currentUser:this.currentUser,tags:[]}}).afterClosed().subscribe(function(){return e._viewControls.showCreateFolder=!1})}},{key:"sortData",value:function(e){var t="createdAt";switch(e.active){case"dataFileName":t="name";break;case"dataFilePrefix":t="prefix";break;case"dataFileSuffix":t="suffix";break;case"dataFileStatus":t="status";break;case"dataFileCreationTime":t="createdAt";break;case"dataFileOwner":t="owner"}e.direction?(this._viewControls.sortDirection=e.direction,this._viewControls.sortField=t):(this._viewControls.sortDirection="desc",this._viewControls.sortField="createdAt")}},{key:"onTagClicked",value:function(e){console.log(e),this.toggleTag(e)}},{key:"onTagChanged",value:function(e,t){this.isEditing&&(t.tags=e)}},{key:"toggleExpansion",value:function(){if(this._viewControls.allExpanded)this.expandedDataFiles.clear(),this._viewControls.allExpanded=!1;else{for(var e=0;e<this.dataFiles.length;e++)this.dataFiles[e].id&&this.expandedDataFiles.add(this.dataFiles[e].id);this._viewControls.allExpanded=!0}}},{key:"onSave",value:function(){if(this.isEditing){this.isEditing=!1;var e=this.projectService.updateDataFiles(this.dataFiles).subscribe(function(t){e.unsubscribe()})}else this.isEditing=!0}},{key:"onCancel",value:function(){this.isEditing=!1,this.projectService.setCurrentProject(this.projectID,!0)}},{key:"ngOnDestroy",value:function(){this._subs.forEach(function(e){return e.unsubscribe()})}}]),t}(),hi.\u0275fac=function(e){return new(e||hi)(_.Ob(E.a),_.Ob(w.c),_.Ob(w.a),_.Ob(O.b),_.Ob(J.a),_.Ob(R.a),_.Ob(N.a),_.Ob(B.a))},hi.\u0275cmp=_.Ib({type:hi,selectors:[["project-datafile-list"]],viewQuery:function(e,t){var i;1&e&&_.Qc(h.n,1),2&e&&_.xc(i=_.dc())&&(t.dataFileTable=i.first)},decls:43,vars:13,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[3,"routerLink",4,"ngIf"],["class","breadcrumb-item active",4,"ngIf"],[1,"bdp-main-container"],[1,"chi-header"],[1,"row"],[1,"col-md-2"],[1,"col-md-9"],[2,"text-indent","36px"],[1,"my-3"],["class","container-fluid",4,"ngIf"],["class","chi-right-menu",4,"ngIf"],[4,"ngIf"],[1,"breadcrumb-item","active"],["target","_blank",3,"routerLink"],[1,"fas","fa-external-link-alt","ml-3"],[1,"container-fluid"],[1,"col-12"],[2,"float","left"],[1,"fas","fa-filter"],[1,"badge","link","badge-success",2,"float","left",3,"click"],[1,"badge","link","badge-danger",2,"float","left",3,"click"],["class","badge link","style","float:left;",3,"badge-primary","badge-secondary","click",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],[2,"background-color","rgba(255,255, 255, 0.7)","border","thin solid darkgray",3,"length","pageSize","pageIndex","pageSizeOptions","page"],[1,"table-responsive"],["mat-table","","multiTemplateDataRows","","matSort","",1,"table","table-hover","table-striped","table-bordered",3,"dataSource","matSortChange"],["matColumnDef","dataFileCheckbox"],["mat-header-cell","","class","align-middle text-center","style","padding: 2px;",4,"matHeaderCellDef"],["mat-cell","","class","align-middle text-center","style","padding: 2px;",4,"matCellDef"],["matColumnDef","dataFilePrefix"],["mat-header-cell","","mat-sort-header","","class","align-middle text-center",4,"matHeaderCellDef"],["mat-cell","","class","align-middle text-right px-2",4,"matCellDef"],["matColumnDef","dataFileName"],["mat-cell","","class","align-middle text-left px-2",4,"matCellDef"],["matColumnDef","dataFileSuffix"],["matColumnDef","dataFileStatus"],["mat-cell","","class","align-middle text-center",4,"matCellDef"],["matColumnDef","dataFileCreationTime"],["mat-header-cell","","mat-sort-header","","class","align-middle  text-center",4,"matHeaderCellDef"],["matColumnDef","dataFileOwner"],["matColumnDef","dataFileTags"],["mat-header-cell","","class","align-middle text-center",4,"matHeaderCellDef"],["mat-cell","","class","align-middle text-left p-3",4,"matCellDef"],["matColumnDef","dataFileDetail"],["mat-cell","","style","background-color: rgba(122, 168, 255, 0.1);","class","px-3",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"table-primary","click",4,"matRowDef","matRowDefColumns"],["mat-row","","class","datafile-detail-row",4,"matRowDef","matRowDefColumns"],[1,"badge","link",2,"float","left",3,"click"],[1,"fa","fa-angle-double-right","ml-4","fa-lg"],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","primary",3,"click",4,"ngIf"],["mat-icon-button","","color","warn",3,"click",4,"ngIf"],["class","col-12",4,"ngIf"],[1,"fas","fa-download","fa-lg","fa-fw"],["mat-icon-button","","color","warn",3,"click"],[2,"width","100%"],["placeholder","select a project to import"],["projectSelect",""],[4,"ngFor","ngForOf"],["isCopying",""],[1,"text-muted","m1-3"],["mat-raised-button","",3,"disabled","click"],[3,"value",4,"ngIf"],[3,"value"],["mat-header-cell","",1,"align-middle","text-center",2,"padding","2px"],[3,"checked","indeterminate","change"],["allCheckBox",""],["mat-cell","",1,"align-middle","text-center",2,"padding","2px"],["color","primary",3,"checked","change","click"],["mat-header-cell","","mat-sort-header","",1,"align-middle","text-center"],["mat-cell","",1,"align-middle","text-right","px-2"],["class","text-muted",4,"ngIf"],["style","width: 100%;",4,"ngIf"],[1,"text-muted"],["matInput","","type","text","maxlength","36","size","36","placeholder","The prefix",3,"ngModel","ngModelChange"],[2,"align-self","center"],["mat-cell","",1,"align-middle","text-left","px-2"],["mat-icon-button","","color","primary","matTooltip","DataFile Page",3,"routerLink","queryParams",4,"ngIf"],["mat-icon-button","","color","primary","matTooltip","View Folder Content",3,"routerLink","queryParams",4,"ngIf"],[1,"ml-3",3,"routerLink"],["target","_blank",1,"ml-3",3,"routerLink"],[1,"fas","fa-external-link-alt"],["mat-icon-button","","color","primary","matTooltip","DataFile Page",3,"routerLink","queryParams"],[1,"fas","fa-scroll","fa-fw","fa-lg"],["mat-icon-button","","color","primary","matTooltip","View Folder Content",3,"routerLink","queryParams"],[1,"fas","fa-folder","fa-fw","fa-lg"],["matInput","","type","text","maxlength","80","size","80","placeholder","The DataFile name (length must be smaller or equal than 80 characters)",3,"ngModel","ngModelChange"],["matInput","","type","text","maxlength","36","size","36","placeholder","The suffix",3,"ngModel","ngModelChange"],["mat-cell","",1,"align-middle","text-center"],[3,"ngSwitch"],["class","fas fa-circle-notch fa-spin text-primary",4,"ngSwitchCase"],["class","text-success",4,"ngSwitchCase"],["class","fas fa-hourglass-half text-secondary",4,"ngSwitchCase"],["class","fas fa-trash-alt fa-fw text-warning",4,"ngSwitchCase"],["class","fas fa-times fa-fw text-danger",4,"ngSwitchCase"],[1,"fas","fa-circle-notch","fa-spin","text-primary"],[1,"text-success"],[1,"fas","fa-check","fa-fw"],[1,"fas","fa-hourglass-half","text-secondary"],[1,"fas","fa-trash-alt","fa-fw","text-warning"],[1,"fas","fa-times","fa-fw","text-danger"],["mat-header-cell","",1,"align-middle","text-center"],["mat-cell","",1,"align-middle","text-left","p-3"],[3,"packages","tasks","tags","disabled","highlightTags","tagChange","tagClicked"],["mat-cell","",1,"px-3",2,"background-color","rgba(122, 168, 255, 0.1)"],[1,"datafile-details","my-3"],[1,"fas","fa-angle-right","mr-2"],[1,"table","table-sm","table-hover","table-bordered","table-striped"],[1,"fa","text-success",2,"font-size","14px",3,"ngClass"],["class","badge link",3,"badge-primary","badge-success",4,"ngFor","ngForOf"],["class","badge badge-warning",4,"ngIf"],[1,"text-center"],["colspan","3"],[1,"badge","link"],[1,"badge","badge-warning"],["mat-header-row",""],["mat-row","",3,"click"],["mat-row","",1,"datafile-detail-row"],[1,"chi-right-menu"],[1,"chi-rbtn",3,"click"],["class","fa fa-angle-right fa-fw",4,"ngIf"],["class","fa fa-angle-left fa-fw",4,"ngIf"],[1,"chi-rbtn-content","ml-2"],[1,"chi-rbtn-arrow"],["class","chi-rbtn",3,"active","click",4,"ngIf"],[1,"chi-rbtn",3,"routerLink"],[1,"far","fa-folder-open"],[1,"chi-rbtn-content"],[1,"fa","fa-angle-right","fa-fw"],[1,"fa","fa-angle-left","fa-fw"],["aria-hidden","true",1,"fas","fa-fw",3,"ngClass"],["aria-hidden","true",1,"far","fa-fw","fa-window-close"],[1,"fa","fa-upload","fa-fw"]],template:function(e,t){1&e&&(_.Ub(0,"ol",0),_.Ub(1,"li",1),_.Ub(2,"a",2),_.Lc(3,"Home"),_.Tb(),_.Tb(),_.Ub(4,"li",1),_.Ub(5,"a",2),_.Lc(6,"Project List"),_.Tb(),_.Tb(),_.Ub(7,"li",1),_.Jc(8,et,3,4,"a",3),_.Tb(),_.Jc(9,it,5,6,"li",4),_.Jc(10,at,2,0,"li",4),_.Tb(),_.Ub(11,"div",5),_.Ub(12,"h3",6),_.Lc(13,"Data Files in the Project "),_.Tb(),_.Pb(14,"br"),_.Pb(15,"br"),_.Ub(16,"div",7),_.Ub(17,"div",8),_.Ub(18,"strong"),_.Lc(19,"Project name"),_.Tb(),_.Tb(),_.Ub(20,"div",9),_.Ub(21,"span",10),_.Lc(22),_.Tb(),_.Tb(),_.Tb(),_.Pb(23,"br"),_.Ub(24,"div",7),_.Ub(25,"div",8),_.Ub(26,"strong"),_.Lc(27,"Project description"),_.Tb(),_.Tb(),_.Ub(28,"div",9),_.Ub(29,"span",10),_.Lc(30),_.Tb(),_.Tb(),_.Tb(),_.Pb(31,"br"),_.Ub(32,"div",7),_.Ub(33,"div",8),_.Ub(34,"strong"),_.Lc(35,"Data file number"),_.Tb(),_.Tb(),_.Ub(36,"div",9),_.Ub(37,"span",10),_.Lc(38),_.Tb(),_.Tb(),_.Tb(),_.Pb(39,"br"),_.Pb(40,"mat-divider",11),_.Jc(41,ni,49,23,"div",12),_.Tb(),_.Jc(42,gi,22,14,"div",13)),2&e&&(_.Cb(2),_.nc("routerLink",_.qc(11,pi)),_.Cb(3),_.nc("routerLink",_.qc(12,mi)),_.Cb(3),_.nc("ngIf",t.currentProject),_.Cb(1),_.nc("ngIf",t.currentProject),_.Cb(1),_.nc("ngIf",!t.currentProject),_.Cb(12),_.Mc(null!=t.currentProject&&t.currentProject.name?null==t.currentProject?null:t.currentProject.name:"Unnamed"),_.Cb(8),_.Mc(null!=t.currentProject&&t.currentProject.desc?null==t.currentProject?null:t.currentProject.desc:"No description"),_.Cb(8),_.Oc("",null==t.currentProject?null:t.currentProject.dataFileNumber," record(s), (",null==t.currentProject?null:t.currentProject.dataFiles.length," including intermediate files)"),_.Cb(3),_.nc("ngIf",t.currentProject),_.Cb(1),_.nc("ngIf",t.currentProject))},directives:[w.f,o.n,C.a,o.m,p.a,h.n,T.a,h.c,h.i,h.b,h.k,h.m,u.b,f.a,V.b,d.a,m.a,A.j,h.h,h.a,T.b,b.a,r.b,r.e,r.i,r.l,u.a,v.a,o.p,o.q,$.a,o.l,h.j,h.l],pipes:[o.v],styles:[".badge[_ngcontent-%COMP%]{margin:2px}.datafile-details[_ngcontent-%COMP%]{display:none;overflow:hidden}tr.datafile-detail-row[_ngcontent-%COMP%]{height:0;max-height:0}[_nghost-%COMP%]     .mat-sort-header-container{display:flex;justify-content:center}"],data:{animation:[y.a,Object(Qe.m)("detailExpand",[Object(Qe.j)("collapsed",Object(Qe.k)({height:"0px",minHeight:"0",display:"none"})),Object(Qe.j)("expanded",Object(Qe.k)({height:"*",display:"block"})),Object(Qe.l)("expanded <=> collapsed",Object(Qe.e)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),hi),canActivate:[Ke.a]},{path:":dataId/info",component:Ye,canActivate:[Ke.a]}]),Ti=[],Fi=c("Bchi"),ki=((vi=function e(){i(this,e)}).\u0275fac=function(e){return new(e||vi)},vi.\u0275mod=_.Mb({type:vi}),vi.\u0275inj=_.Lb({providers:[Ti],imports:[[r.d,o.c,b.b,u.c,d.b,s.e,f.b,l.b,C.b,g.c,h.o,v.b,m.b,p.b,T.c,k.a,U.a,Fi.a,F.a,Ci]]}),vi)}}])}();