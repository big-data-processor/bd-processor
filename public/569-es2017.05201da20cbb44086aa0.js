(self.webpackChunkbdp_client=self.webpackChunkbdp_client||[]).push([[569],{56766:function(t,e,n){var i,s;!function(r,o){"use strict";void 0!==(s="function"==typeof(i=function(){var t=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],n=0;n<e.length;n++){var i=e[n]+"MatchesSelector";if(t[i])return i}}();return function(e,n){return e[t](n)}})?i.call(e,n,e,t):i)&&(t.exports=s)}(window)},82026:function(t,e,n){var i,s;"undefined"!=typeof window&&window,void 0!==(s="function"==typeof(i=function(){"use strict";function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var n=this._events=this._events||{},i=n[t]=n[t]||[];return-1==i.indexOf(e)&&i.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var n=this._onceEvents=this._onceEvents||{};return(n[t]=n[t]||{})[e]=!0,this}},e.off=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var i=n.indexOf(e);return-1!=i&&n.splice(i,1),this}},e.emitEvent=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){n=n.slice(0),e=e||[];for(var i=this._onceEvents&&this._onceEvents[t],s=0;s<n.length;s++){var r=n[s];i&&i[r]&&(this.off(t,r),delete i[r]),r.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t})?i.call(e,n,e,t):i)&&(t.exports=s)},94060:function(t,e,n){var i,s,r;r=window,i=[n(56766)],void 0!==(s=(function(t){return function(t,e){"use strict";var n={extend:function(t,e){for(var n in e)t[n]=e[n];return t},modulo:function(t,e){return(t%e+e)%e}},i=Array.prototype.slice;n.makeArray=function(t){return Array.isArray(t)?t:null==t?[]:"object"==typeof t&&"number"==typeof t.length?i.call(t):[t]},n.removeFrom=function(t,e){var n=t.indexOf(e);-1!=n&&t.splice(n,1)},n.getParent=function(t,n){for(;t.parentNode&&t!=document.body;)if(e(t=t.parentNode,n))return t},n.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},n.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},n.filterFindElements=function(t,i){t=n.makeArray(t);var s=[];return t.forEach(function(t){if(t instanceof HTMLElement){if(!i)return void s.push(t);e(t,i)&&s.push(t);for(var n=t.querySelectorAll(i),r=0;r<n.length;r++)s.push(n[r])}}),s},n.debounceMethod=function(t,e,n){n=n||100;var i=t.prototype[e],s=e+"Timeout";t.prototype[e]=function(){clearTimeout(this[s]);var t=arguments,e=this;this[s]=setTimeout(function(){i.apply(e,t),delete e[s]},n)}},n.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},n.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,n){return e+"-"+n}).toLowerCase()};var s=t.console;return n.htmlInit=function(e,i){n.docReady(function(){var r=n.toDashed(i),o="data-"+r,a=document.querySelectorAll("["+o+"]"),c=document.querySelectorAll(".js-"+r),u=n.makeArray(a).concat(n.makeArray(c)),l=o+"-options",p=t.jQuery;u.forEach(function(t){var n,r=t.getAttribute(o)||t.getAttribute(l);try{n=r&&JSON.parse(r)}catch(c){return void(s&&s.error("Error parsing "+o+" on "+t.className+": "+c))}var a=new e(t,n);p&&p.data(t,i,a)})})},n}(r,t)}).apply(e,i))&&(t.exports=s)},32575:function(t,e,n){var i,s;window,void 0!==(s="function"==typeof(i=function(){"use strict";function t(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}var e="undefined"==typeof console?function(){}:function(t){console.error(t)},n=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],i=n.length;function s(t){var n=getComputedStyle(t);return n||e("Style returned "+n+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),n}var r,o=!1;function a(e){if(function(){if(!o){o=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var n=document.body||document.documentElement;n.appendChild(e);var i=s(e);r=200==Math.round(t(i.width)),a.isBoxSizeOuter=r,n.removeChild(e)}}(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var c=s(e);if("none"==c.display)return function(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<i;e++)t[n[e]]=0;return t}();var u={};u.width=e.offsetWidth,u.height=e.offsetHeight;for(var l=u.isBorderBox="border-box"==c.boxSizing,p=0;p<i;p++){var g=n[p],d=parseFloat(c[g]);u[g]=isNaN(d)?0:d}var h=u.paddingLeft+u.paddingRight,f=u.paddingTop+u.paddingBottom,m=u.marginLeft+u.marginRight,Z=u.marginTop+u.marginBottom,x=u.borderLeftWidth+u.borderRightWidth,v=u.borderTopWidth+u.borderBottomWidth,T=l&&r,k=t(c.width);!1!==k&&(u.width=k+(T?0:h+x));var b=t(c.height);return!1!==b&&(u.height=b+(T?0:f+v)),u.innerWidth=u.width-(h+x),u.innerHeight=u.height-(f+v),u.outerWidth=u.width+m,u.outerHeight=u.height+Z,u}}return a})?i.call(e,n,e,t):i)&&(t.exports=s)},98745:function(t,e,n){var i,s,r;window,s=[n(22933),n(32575)],void 0!==(r="function"==typeof(i=function(t,e){"use strict";var n=t.create("masonry");n.compatOptions.fitWidth="isFitWidth";var i=n.prototype;return i._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},i.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],n=t&&t.element;this.columnWidth=n&&e(n).outerWidth||this.containerWidth}var i=this.columnWidth+=this.gutter,s=this.containerWidth+this.gutter,r=s/i,o=i-s%i;r=Math[o&&o<1?"round":"floor"](r),this.cols=Math.max(r,1)},i.getContainerWidth=function(){var t=this._getOption("fitWidth"),n=e(t?this.element.parentNode:this.element);this.containerWidth=n&&n.innerWidth},i._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,n=Math[e&&e<1?"round":"ceil"](t.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var i=this[this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition"](n,t),s={x:this.columnWidth*i.col,y:i.y},r=i.y+t.size.outerHeight,o=n+i.col,a=i.col;a<o;a++)this.colYs[a]=r;return s},i._getTopColPosition=function(t){var e=this._getTopColGroup(t),n=Math.min.apply(Math,e);return{col:e.indexOf(n),y:n}},i._getTopColGroup=function(t){if(t<2)return this.colYs;for(var e=[],n=this.cols+1-t,i=0;i<n;i++)e[i]=this._getColGroupY(i,t);return e},i._getColGroupY=function(t,e){if(e<2)return this.colYs[t];var n=this.colYs.slice(t,t+e);return Math.max.apply(Math,n)},i._getHorizontalColPosition=function(t,e){var n=this.horizontalColIndex%this.cols;return n=t>1&&n+t>this.cols?0:n,this.horizontalColIndex=e.size.outerWidth&&e.size.outerHeight?n+t:this.horizontalColIndex,{col:n,y:this._getColGroupY(n,t)}},i._manageStamp=function(t){var n=e(t),i=this._getElementOffset(t),s=this._getOption("originLeft")?i.left:i.right,r=s+n.outerWidth,o=Math.floor(s/this.columnWidth);o=Math.max(0,o);var a=Math.floor(r/this.columnWidth);a-=r%this.columnWidth?0:1,a=Math.min(this.cols-1,a);for(var c=(this._getOption("originTop")?i.top:i.bottom)+n.outerHeight,u=o;u<=a;u++)this.colYs[u]=Math.max(c,this.colYs[u])},i._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},i._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},i.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},n})?i.apply(e,s):i)&&(t.exports=r)},15853:function(t,e,n){var i,s,r;window,s=[n(82026),n(32575)],void 0!==(r="function"==typeof(i=function(t,e){"use strict";var n=document.documentElement.style,i="string"==typeof n.transition?"transition":"WebkitTransition",s="string"==typeof n.transform?"transform":"WebkitTransform",r={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[i],o={transform:s,transition:i,transitionDuration:i+"Duration",transitionProperty:i+"Property",transitionDelay:i+"Delay"};function a(t,e){!t||(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var c=a.prototype=Object.create(t.prototype);c.constructor=a,c._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},c.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},c.getSize=function(){this.size=e(this.element)},c.css=function(t){var e=this.element.style;for(var n in t)e[o[n]||n]=t[n]},c.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),i=t[e?"left":"right"],s=t[n?"top":"bottom"],r=parseFloat(i),o=parseFloat(s),a=this.layout.size;-1!=i.indexOf("%")&&(r=r/100*a.width),-1!=s.indexOf("%")&&(o=o/100*a.height),r=isNaN(r)?0:r,o=isNaN(o)?0:o,o-=n?a.paddingTop:a.paddingBottom,this.position.x=r-=e?a.paddingLeft:a.paddingRight,this.position.y=o},c.layoutPosition=function(){var t=this.layout.size,e={},n=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),s=n?"right":"left";e[n?"left":"right"]=this.getXValue(this.position.x+t[n?"paddingLeft":"paddingRight"]),e[s]="";var r=i?"bottom":"top";e[i?"top":"bottom"]=this.getYValue(this.position.y+t[i?"paddingTop":"paddingBottom"]),e[r]="",this.css(e),this.emitEvent("layout",[this])},c.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px"},c.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px"},c._transitionTo=function(t,e){this.getPosition();var n=this.position.x,i=this.position.y,s=t==this.position.x&&e==this.position.y;if(this.setPosition(t,e),!s||this.isTransitioning){var r={};r.transform=this.getTranslate(t-n,e-i),this.transition({to:r,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},c.getTranslate=function(t,e){return"translate3d("+(t=this.layout._getOption("originLeft")?t:-t)+"px, "+(e=this.layout._getOption("originTop")?e:-e)+"px, 0)"},c.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},c.moveTo=c._transitionTo,c.setPosition=function(t,e){this.position.x=parseFloat(t),this.position.y=parseFloat(e)},c._nonTransition=function(t){for(var e in this.css(t.to),t.isCleaning&&this._removeStyles(t.to),t.onTransitionEnd)t.onTransitionEnd[e].call(this)},c.transition=function(t){if(parseFloat(this.layout.options.transitionDuration)){var e=this._transn;for(var n in t.onTransitionEnd)e.onEnd[n]=t.onTransitionEnd[n];for(n in t.to)e.ingProperties[n]=!0,t.isCleaning&&(e.clean[n]=!0);t.from&&this.css(t.from),this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0}else this._nonTransition(t)};var u="opacity,"+s.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()});c.enableTransition=function(){if(!this.isTransitioning){var t=this.layout.options.transitionDuration;this.css({transitionProperty:u,transitionDuration:t="number"==typeof t?t+"ms":t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(r,this,!1)}},c.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},c.onotransitionend=function(t){this.ontransitionend(t)};var l={"-webkit-transform":"transform"};c.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,n=l[t.propertyName]||t.propertyName;delete e.ingProperties[n],function(t){for(var e in t)return!1;return!0}(e.ingProperties)&&this.disableTransition(),n in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[n]),n in e.onEnd&&(e.onEnd[n].call(this),delete e.onEnd[n]),this.emitEvent("transitionEnd",[this])}},c.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(r,this,!1),this.isTransitioning=!1},c._removeStyles=function(t){var e={};for(var n in t)e[n]="";this.css(e)};var p={transitionProperty:"",transitionDuration:"",transitionDelay:""};return c.removeTransitionStyles=function(){this.css(p)},c.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+"ms"},c.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},c.remove=function(){i&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),this.hide()):this.removeElem()},c.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},c.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},c.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var n in e)return n},c.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},c.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},c.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},a})?i.apply(e,s):i)&&(t.exports=r)},22933:function(t,e,n){var i,s;!function(r,o){"use strict";i=[n(82026),n(32575),n(94060),n(15853)],void 0!==(s=(function(t,e,n,i){return function(t,e,n,i,s){var r=t.console,o=t.jQuery,a=function(){},c=0,u={};function l(t,e){var n=i.getQueryElement(t);if(n){this.element=n,o&&(this.$element=o(this.element)),this.options=i.extend({},this.constructor.defaults),this.option(e);var s=++c;this.element.outlayerGUID=s,u[s]=this,this._create(),this._getOption("initLayout")&&this.layout()}else r&&r.error("Bad element for "+this.constructor.namespace+": "+(n||t))}l.namespace="outlayer",l.Item=s,l.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var p=l.prototype;function g(t){function e(){t.apply(this,arguments)}return(e.prototype=Object.create(t.prototype)).constructor=e,e}i.extend(p,e.prototype),p.option=function(t){i.extend(this.options,t)},p._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},l.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},p._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),i.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},p.reloadItems=function(){this.items=this._itemize(this.element.children)},p._itemize=function(t){for(var e=this._filterFindItemElements(t),n=this.constructor.Item,i=[],s=0;s<e.length;s++){var r=new n(e[s],this);i.push(r)}return i},p._filterFindItemElements=function(t){return i.filterFindElements(t,this.options.itemSelector)},p.getItemElements=function(){return this.items.map(function(t){return t.element})},p.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant");this.layoutItems(this.items,void 0!==t?t:!this._isLayoutInited),this._isLayoutInited=!0},p._init=p.layout,p._resetLayout=function(){this.getSize()},p.getSize=function(){this.size=n(this.element)},p._getMeasurement=function(t,e){var i,s=this.options[t];s?("string"==typeof s?i=this.element.querySelector(s):s instanceof HTMLElement&&(i=s),this[t]=i?n(i)[e]:s):this[t]=0},p.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},p._getItemsForLayout=function(t){return t.filter(function(t){return!t.isIgnored})},p._layoutItems=function(t,e){if(this._emitCompleteOnItems("layout",t),t&&t.length){var n=[];t.forEach(function(t){var i=this._getItemLayoutPosition(t);i.item=t,i.isInstant=e||t.isLayoutInstant,n.push(i)},this),this._processLayoutQueue(n)}},p._getItemLayoutPosition=function(){return{x:0,y:0}},p._processLayoutQueue=function(t){this.updateStagger(),t.forEach(function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)},this)},p.updateStagger=function(){var t=this.options.stagger;if(null!=t)return this.stagger=function(t){if("number"==typeof t)return t;var e=t.match(/(^\d*\.?\d*)(\w*)/),n=e&&e[1],i=e&&e[2];return n.length?(n=parseFloat(n))*(d[i]||1):0}(t),this.stagger;this.stagger=0},p._positionItem=function(t,e,n,i,s){i?t.goTo(e,n):(t.stagger(s*this.stagger),t.moveTo(e,n))},p._postLayout=function(){this.resizeContainer()},p.resizeContainer=function(){if(this._getOption("resizeContainer")){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},p._getContainerSize=a,p._setContainerMeasure=function(t,e){if(void 0!==t){var n=this.size;n.isBorderBox&&(t+=e?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},p._emitCompleteOnItems=function(t,e){var n=this;function i(){n.dispatchEvent(t+"Complete",null,[e])}var s=e.length;if(e&&s){var r=0;e.forEach(function(e){e.once(t,o)})}else i();function o(){++r==s&&i()}},p.dispatchEvent=function(t,e,n){var i=e?[e].concat(n):n;if(this.emitEvent(t,i),o)if(this.$element=this.$element||o(this.element),e){var s=o.Event(e);s.type=t,this.$element.trigger(s,n)}else this.$element.trigger(t,n)},p.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},p.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},p.stamp=function(t){(t=this._find(t))&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},p.unstamp=function(t){(t=this._find(t))&&t.forEach(function(t){i.removeFrom(this.stamps,t),this.unignore(t)},this)},p._find=function(t){if(t)return"string"==typeof t&&(t=this.element.querySelectorAll(t)),i.makeArray(t)},p._manageStamps=function(){!this.stamps||!this.stamps.length||(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},p._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},p._manageStamp=a,p._getElementOffset=function(t){var e=t.getBoundingClientRect(),i=this._boundingRect,s=n(t);return{left:e.left-i.left-s.marginLeft,top:e.top-i.top-s.marginTop,right:i.right-e.right-s.marginRight,bottom:i.bottom-e.bottom-s.marginBottom}},p.handleEvent=i.handleEvent,p.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},p.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},p.onresize=function(){this.resize()},i.debounceMethod(l,"onresize",100),p.resize=function(){!this.isResizeBound||!this.needsResizeLayout()||this.layout()},p.needsResizeLayout=function(){var t=n(this.element);return this.size&&t&&t.innerWidth!==this.size.innerWidth},p.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},p.appended=function(t){var e=this.addItems(t);!e.length||(this.layoutItems(e,!0),this.reveal(e))},p.prepended=function(t){var e=this._itemize(t);if(e.length){var n=this.items.slice(0);this.items=e.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(n)}},p.reveal=function(t){if(this._emitCompleteOnItems("reveal",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,n){t.stagger(n*e),t.reveal()})}},p.hide=function(t){if(this._emitCompleteOnItems("hide",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,n){t.stagger(n*e),t.hide()})}},p.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},p.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},p.getItem=function(t){for(var e=0;e<this.items.length;e++){var n=this.items[e];if(n.element==t)return n}},p.getItems=function(t){t=i.makeArray(t);var e=[];return t.forEach(function(t){var n=this.getItem(t);n&&e.push(n)},this),e},p.remove=function(t){var e=this.getItems(t);this._emitCompleteOnItems("remove",e),e&&e.length&&e.forEach(function(t){t.remove(),i.removeFrom(this.items,t)},this)},p.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="",this.items.forEach(function(t){t.destroy()}),this.unbindResize(),delete u[this.element.outlayerGUID],delete this.element.outlayerGUID,o&&o.removeData(this.element,this.constructor.namespace)},l.data=function(t){var e=(t=i.getQueryElement(t))&&t.outlayerGUID;return e&&u[e]},l.create=function(t,e){var n=g(l);return n.defaults=i.extend({},l.defaults),i.extend(n.defaults,e),n.compatOptions=i.extend({},l.compatOptions),n.namespace=t,n.data=l.data,n.Item=g(s),i.htmlInit(n,t),o&&o.bridget&&o.bridget(t,n),n};var d={ms:1,s:1e3};return l.Item=s,l}(r,t,e,n,i)}).apply(e,i))&&(t.exports=s)}(window)},66569:function(t,e,n){"use strict";n.r(e),n.d(e,{ProjectModule:function(){return Pr}});var i=n(38583),s=n(3679),r=n(21554),o=n(51095),a=n(42542),c=n(93738),u=n(7539),l=n(58341),p=n(90171),g=n(76627),d=n(49983),h=n(99692),f=n(67441),m=n(97832),Z=n(65939),x=n(1769),v=n(77746),T=n(82613),k=n(85855),b=n(77310),w=n(37716),q=n(17238);const y=["ngx-masonry",""],_=["*"];let A,I=(()=>{class t{constructor(t,e){this.platformId=t,this._element=e,this.updateLayout=!1,this.ordered=!1,this.layoutComplete=new w.vpe,this.removeComplete=new w.vpe,this.itemsLoaded=new w.vpe,this.pendingItems=[]}ngOnInit(){(0,i.NF)(this.platformId)&&void 0===A&&(A=n(98745)),this.options||(this.options={}),this.options.itemSelector||(this.options.itemSelector="[ngxMasonryItem], ngxMasonryItem"),this.options.transitionDuration="0s",(0,i.NF)(this.platformId)&&(this.masonryInstance=new A(this._element.nativeElement,this.options),this.masonryInstance.on("layoutComplete",t=>{this.layoutComplete.emit(t)}),this.masonryInstance.on("removeComplete",t=>{this.removeComplete.emit(t)}))}ngOnChanges(t){t.updateLayout&&(t.updateLayout.firstChange||this.layout())}ngOnDestroy(){this.masonryInstance&&this.masonryInstance.destroy()}layout(){setTimeout(()=>{this.masonryInstance.layout()})}reloadItems(){setTimeout(()=>{this.masonryInstance.reloadItems()})}addPendingItem(t){this.pendingItems.push(t)}add(t){if(this.ordered){for(const[t,e]of this.pendingItems.entries())if(e){if(!e.images||0!==e.images.size)return;this.pendingItems[t]=void 0,this.itemLoaded(e),t+1===this.pendingItems.length&&(this.itemsLoaded.emit(this.pendingItems.length),this.pendingItems=[])}}else this.itemLoaded(t)}itemLoaded(t){(0,i.NF)(this.platformId)&&(t.prepend?this.masonryInstance.prepended(t.element.nativeElement):this.masonryInstance.appended(t.element.nativeElement),1===this.masonryInstance.items.length&&this.masonryInstance.layout(),t.playAnimation(!0))}remove(t){this.masonryInstance.remove(t),this.layout()}}return t.\u0275fac=function(e){return new(e||t)(w.Y36(w.Lbi),w.Y36(w.SBq))},t.\u0275cmp=w.Xpm({type:t,selectors:[["","ngx-masonry",""],["ngx-masonry"]],inputs:{updateLayout:"updateLayout",ordered:"ordered",options:"options"},outputs:{layoutComplete:"layoutComplete",removeComplete:"removeComplete",itemsLoaded:"itemsLoaded"},features:[w.TTD],attrs:y,ngContentSelectors:_,decls:1,vars:0,template:function(t,e){1&t&&(w.F$t(),w.Hsn(0))},styles:["[_nghost-%COMP%] {\n\t\t\tdisplay: block;\n\t\t}"]}),t})(),U=(()=>{class t{constructor(t,e,n,i){this.element=t,this.builder=e,this.parent=n,this.renderer=i,this.prepend=!1,this.animations={show:[(0,q.oB)({opacity:0}),(0,q.jt)("400ms ease-in",(0,q.oB)({opacity:1}))],hide:[(0,q.oB)({opacity:"*"}),(0,q.jt)("400ms ease-in",(0,q.oB)({opacity:0}))]}}ngOnInit(){void 0!==this.parent.options.animations&&(this.animations=this.parent.options.animations),this.renderer.setStyle(this.element.nativeElement,"position","fixed"),this.renderer.setStyle(this.element.nativeElement,"right","-150vw"),this.parent.addPendingItem(this)}ngAfterViewInit(){const t=Array.from(this.element.nativeElement.getElementsByTagName("img"));if(this.images=new Set(t),0===t.length)setTimeout(()=>{this.parent.add(this)});else for(const e of t)e.hasAttribute("masonryLazy")?this.imageLoaded(e):(this.renderer.listen(e,"load",t=>{this.imageLoaded(e)}),this.renderer.listen(e,"error",t=>{this.imageLoaded(e)}))}ngOnDestroy(){this.images&&0===this.images.size&&this.element.nativeElement.parentNode&&(this.playAnimation(!1),this.parent.remove(this.element.nativeElement))}imageLoaded(t){this.images.delete(t),0===this.images.size&&this.parent.add(this)}playAnimation(t){const e=t?this.animations.show:this.animations.hide;e&&this.builder.build(e).create(this.element.nativeElement).play()}}return t.\u0275fac=function(e){return new(e||t)(w.Y36(w.SBq),w.Y36(q._j),w.Y36((0,w.Gpc)(()=>I)),w.Y36(w.Qsj))},t.\u0275dir=w.lG2({type:t,selectors:[["","ngxMasonryItem",""],["ngxMasonryItem"]],inputs:{prepend:"prepend"}}),t})(),j=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=w.oAB({type:t}),t.\u0275inj=w.cJS({imports:[[]]}),t})();var P=n(58846),C=n(22238),J=n(98295),N=n(72458);function Q(t,e){if(1&t&&(w.TgZ(0,"mat-option",11),w._uU(1),w.qZA()),2&t){const t=w.oxw().$implicit;w.Q6J("value",t),w.xp6(1),w.Oqu(t)}}function S(t,e){if(1&t&&(w.ynx(0),w.YNc(1,Q,2,2,"mat-option",10),w.BQk()),2&t){const t=e.$implicit,n=w.oxw();w.xp6(1),w.Q6J("ngIf",n.packageLists[t]&&n.packageLists[t].length>0)}}function M(t,e){if(1&t&&(w.TgZ(0,"mat-option",11),w._uU(1),w.qZA()),2&t){const t=w.oxw().$implicit;w.Q6J("value",t),w.xp6(1),w.hij(" ",t.fullname," ")}}function Y(t,e){if(1&t&&(w.ynx(0),w.YNc(1,M,2,2,"mat-option",10),w.BQk()),2&t){const t=e.$implicit,n=w.oxw(3);w.xp6(1),w.Q6J("ngIf",t.scope.indexOf("utility")<0&&!n.existed(t))}}function L(t,e){if(1&t&&(w.ynx(0),w.YNc(1,Y,2,1,"ng-container",4),w.BQk()),2&t){const t=w.oxw(2);w.xp6(1),w.Q6J("ngForOf",t.packageLists[t.selectedSheetName])}}function O(t,e){if(1&t){const t=w.EpF();w.TgZ(0,"mat-select",12),w.NdJ("ngModelChange",function(e){return w.CHM(t),w.oxw().selectedPackage=e}),w.YNc(1,L,2,1,"ng-container",13),w.qZA()}if(2&t){const t=w.oxw();w.Q6J("ngModel",t.selectedPackage),w.xp6(1),w.Q6J("ngIf",t.selectedPackage)}}function F(t,e){1&t&&(w.TgZ(0,"span",23),w._uU(1,"Under development"),w.qZA())}function E(t,e){1&t&&(w.TgZ(0,"span",24),w._uU(1,"Experimenting"),w.qZA())}function D(t,e){1&t&&(w.TgZ(0,"span",25),w._uU(1,"Stable"),w.qZA())}function R(t,e){1&t&&(w.TgZ(0,"span",26),w._uU(1,"Deprecating"),w.qZA())}function B(t,e){if(1&t&&(w.TgZ(0,"div",14),w.TgZ(1,"div",15),w.TgZ(2,"div",16),w.TgZ(3,"h5"),w.TgZ(4,"b"),w._uU(5,"Name"),w.qZA(),w.qZA(),w._uU(6),w.TgZ(7,"h5"),w.TgZ(8,"b"),w._uU(9,"Version"),w.qZA(),w.qZA(),w._uU(10),w.TgZ(11,"h5"),w.TgZ(12,"b"),w._uU(13,"Desc"),w.qZA(),w.qZA(),w._UZ(14,"div",17),w.TgZ(15,"h5"),w.TgZ(16,"b"),w._uU(17,"Author/Maintainer"),w.qZA(),w.qZA(),w._uU(18),w.TgZ(19,"h5"),w.TgZ(20,"b"),w._uU(21,"Contact"),w.qZA(),w.qZA(),w._uU(22),w.TgZ(23,"h5"),w.TgZ(24,"b"),w._uU(25,"Status"),w.qZA(),w.qZA(),w.TgZ(26,"div",18),w.YNc(27,F,2,0,"span",19),w.YNc(28,E,2,0,"span",20),w.YNc(29,D,2,0,"span",21),w.YNc(30,R,2,0,"span",22),w.qZA(),w._UZ(31,"br"),w.qZA(),w.qZA(),w.qZA()),2&t){const t=w.oxw();w.xp6(6),w.hij("",t.selectedPackage.name," "),w.xp6(4),w.hij("",t.selectedPackage.version," "),w.xp6(4),w.Q6J("innerHTML",t.selectedPackage.desc,w.oJD),w.xp6(4),w.hij("",t.selectedPackage.author||"un-named"," "),w.xp6(4),w.hij("",t.selectedPackage.email||"un-set"," "),w.xp6(4),w.Q6J("ngSwitch",t.selectedPackage.status),w.xp6(1),w.Q6J("ngSwitchCase",0),w.xp6(1),w.Q6J("ngSwitchCase",1),w.xp6(1),w.Q6J("ngSwitchCase",2),w.xp6(1),w.Q6J("ngSwitchCase",3)}}let z=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e,this.packageSheetNames=this.data.packageSheetNames,this.packageLists=this.data.packageLists,this.selectedPackages=this.data.selectedPackages}ngOnInit(){this.packageSheetNames.length>0&&(this.selectedSheetName=this.packageSheetNames[0],this.setInitialSelectedPkg())}selectedSheetNameChange(t){this.selectedSheetName=t,this.setInitialSelectedPkg()}setInitialSelectedPkg(){if(this.selectedSheetName)if(Array.isArray(this.packageLists[this.selectedSheetName]))for(let t=0;t<this.packageLists[this.selectedSheetName].length;t++){const e=this.packageLists[this.selectedSheetName][t];if(e&&!this.existed(e)&&e.scope.indexOf("utility")<0){this.selectedPackage=e;break}}else this.selectedPackage=void 0}existed(t){return!!(t&&t.id&&this.selectedPackages.filter(e=>e&&e.id===t.id).length>=1)}selectPackage(){this.dialogRef.close(this.selectedPackage)}}return t.\u0275fac=function(e){return new(e||t)(w.Y36(C.so),w.Y36(C.WI))},t.\u0275cmp=w.Xpm({type:t,selectors:[["bdp-package-selector"]],decls:15,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[2,"width","350px"],["placeholder","Select a package list",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[2,"width","400px"],["placeholder","Select a package",3,"ngModel","ngModelChange",4,"ngIf"],["class","row",4,"ngIf"],["mat-raised-button","","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"click"],[3,"value",4,"ngIf"],[3,"value"],["placeholder","Select a package",3,"ngModel","ngModelChange"],[4,"ngIf"],[1,"row"],[1,"col-md-12"],[2,"border","1px solid black","padding","5px"],[3,"innerHTML"],[2,"font-size","12pt",3,"ngSwitch"],["class","badge bg-danger",4,"ngSwitchCase"],["class","badge bg-warning",4,"ngSwitchCase"],["class","badge bg-success",4,"ngSwitchCase"],["class","badge bg-secondary",4,"ngSwitchCase"],[1,"badge","bg-danger"],[1,"badge","bg-warning"],[1,"badge","bg-success"],[1,"badge","bg-secondary"]],template:function(t,e){1&t&&(w.TgZ(0,"h1",0),w._uU(1,"Select a package"),w.qZA(),w.TgZ(2,"div",1),w.TgZ(3,"mat-form-field",2),w.TgZ(4,"mat-select",3),w.NdJ("ngModelChange",function(t){return e.selectedSheetNameChange(t)}),w.YNc(5,S,2,1,"ng-container",4),w.qZA(),w.qZA(),w._UZ(6,"br"),w.TgZ(7,"mat-form-field",5),w.YNc(8,O,2,2,"mat-select",6),w.qZA(),w.YNc(9,B,32,10,"div",7),w.qZA(),w.TgZ(10,"mat-dialog-actions"),w.TgZ(11,"button",8),w._uU(12,"Close"),w.qZA(),w.TgZ(13,"button",9),w.NdJ("click",function(){return e.selectPackage()}),w._uU(14,"Choose"),w.qZA(),w.qZA()),2&t&&(w.xp6(4),w.Q6J("ngModel",e.selectedSheetName),w.xp6(1),w.Q6J("ngForOf",e.packageSheetNames),w.xp6(3),w.Q6J("ngIf",e.selectedSheetName),w.xp6(1),w.Q6J("ngIf",e.selectedPackage))},directives:[C.uh,C.xY,J.KE,f.gD,s.JJ,s.On,i.sg,i.O5,C.H8,o.lW,C.ZT,N.ey,i.RF,i.n9],encapsulation:2}),t})();var H=n(94494),W=n(354),V=n(38864),K=n(15128),G=n(89876),X=n(94928);function tt(t,e){1&t&&w._UZ(0,"i",58)}function et(t,e){1&t&&w._UZ(0,"i",59)}function nt(t,e){if(1&t&&(w.ynx(0),w.YNc(1,tt,1,0,"i",56),w.YNc(2,et,1,0,"i",57),w.BQk()),2&t){const t=w.oxw(2).$implicit;w.xp6(1),w.Q6J("ngIf",null==t.privilege?null:t.privilege.canView),w.xp6(1),w.Q6J("ngIf",!(null!=t.privilege&&t.privilege.canView))}}function it(t,e){1&t&&w._UZ(0,"i",60)}function st(t,e){1&t&&(w.TgZ(0,"span",23),w._uU(1,"owner"),w.qZA())}function rt(t,e){1&t&&(w.TgZ(0,"span",23),w._uU(1,"manager"),w.qZA())}function ot(t,e){1&t&&(w.TgZ(0,"span",23),w._uU(1," viewer"),w.qZA())}function at(t,e){1&t&&(w.TgZ(0,"span",23),w._uU(1," runner"),w.qZA())}function ct(t,e){if(1&t&&(w.TgZ(0,"div",61),w.YNc(1,st,2,0,"span",48),w.YNc(2,rt,2,0,"span",48),w.YNc(3,ot,2,0,"span",48),w.YNc(4,at,2,0,"span",48),w.qZA()),2&t){const t=w.oxw(2).$implicit;w.xp6(1),w.Q6J("ngIf",t.privilege.isOwner),w.xp6(1),w.Q6J("ngIf",t.privilege.isManager),w.xp6(1),w.Q6J("ngIf",t.privilege.isViewer),w.xp6(1),w.Q6J("ngIf",t.privilege.isRunner)}}function ut(t,e){1&t&&(w.TgZ(0,"div",61),w.TgZ(1,"span",23),w._uU(2,"public"),w.qZA(),w.qZA())}function lt(t,e){1&t&&(w.TgZ(0,"span",62),w._uU(1,"main package"),w.qZA())}function pt(t,e){if(1&t&&(w.TgZ(0,"span",63),w._uU(1),w.qZA()),2&t){const t=e.$implicit;w.xp6(1),w.Oqu(t)}}function gt(t,e){if(1&t&&(w.TgZ(0,"button",66),w._UZ(1,"i",67),w._uU(2),w.qZA()),2&t){const t=e.$implicit;w.xp6(2),w.hij(" ",t.name," ")}}function dt(t,e){if(1&t&&(w.TgZ(0,"div",64),w.TgZ(1,"h3"),w._uU(2,"Contained Project Pages:"),w.qZA(),w.YNc(3,gt,3,1,"button",65),w.qZA()),2&t){const t=w.oxw(2).$implicit;w.xp6(3),w.Q6J("ngForOf",t.pages.indexPages)}}function ht(t,e){if(1&t){const t=w.EpF();w.TgZ(0,"button",68),w.NdJ("click",function(){w.CHM(t);const e=w.oxw(2).index;return w.oxw(2).movePkgUp(e)}),w._UZ(1,"i",69),w.qZA()}}function ft(t,e){if(1&t){const t=w.EpF();w.TgZ(0,"button",68),w.NdJ("click",function(){w.CHM(t);const e=w.oxw(2).index;return w.oxw(2).movePkgDown(e)}),w._UZ(1,"i",70),w.qZA()}}function mt(t,e){1&t&&(w.TgZ(0,"span",23),w._uU(1," (You)"),w.qZA())}function Zt(t,e){1&t&&(w.TgZ(0,"span",71),w._uU(1,"Under development"),w.qZA())}function xt(t,e){1&t&&(w.TgZ(0,"span",72),w._uU(1,"Experimenting"),w.qZA())}function vt(t,e){1&t&&(w.TgZ(0,"span",73),w._uU(1,"Stable"),w.qZA())}function Tt(t,e){1&t&&(w.TgZ(0,"span",74),w._uU(1,"Out of date"),w.qZA())}function kt(t,e){if(1&t){const t=w.EpF();w.TgZ(0,"mat-card",33),w.TgZ(1,"mat-card-header"),w.TgZ(2,"div",34),w.YNc(3,nt,3,2,"ng-container",35),w.YNc(4,it,1,0,"i",36),w.qZA(),w.TgZ(5,"mat-card-title"),w.TgZ(6,"b"),w._uU(7),w.qZA(),w.qZA(),w.TgZ(8,"mat-card-subtitle"),w._uU(9),w.ALo(10,"htmlToPlainText"),w.qZA(),w.YNc(11,ct,5,4,"div",37),w.YNc(12,ut,3,0,"div",37),w.qZA(),w.TgZ(13,"mat-card-content"),w.TgZ(14,"div"),w.YNc(15,lt,2,0,"span",38),w.YNc(16,pt,2,1,"span",39),w.qZA(),w.YNc(17,dt,4,1,"div",40),w.qZA(),w.TgZ(18,"mat-card-actions"),w.YNc(19,ht,2,0,"button",41),w.YNc(20,ft,2,0,"button",42),w.TgZ(21,"button",43),w.NdJ("click",function(){w.CHM(t);const e=w.oxw().index;return w.oxw(2).removePkg(e)}),w._UZ(22,"i",44),w.qZA(),w.qZA(),w.TgZ(23,"mat-card-footer",45),w.TgZ(24,"div",46),w._UZ(25,"i",47),w.TgZ(26,"span",23),w._uU(27),w.qZA(),w.YNc(28,mt,2,0,"span",48),w.qZA(),w.qZA(),w.TgZ(29,"mat-card-footer",49),w.TgZ(30,"div",50),w.ynx(31,51),w.YNc(32,Zt,2,0,"span",52),w.YNc(33,xt,2,0,"span",53),w.YNc(34,vt,2,0,"span",54),w.YNc(35,Tt,2,0,"span",55),w.BQk(),w.qZA(),w.qZA(),w.qZA()}if(2&t){const t=w.oxw(),e=t.$implicit,n=t.index,i=w.oxw(2);w.xp6(3),w.Q6J("ngIf",!e.public),w.xp6(1),w.Q6J("ngIf",e.public),w.xp6(3),w.Oqu(e.fullname),w.xp6(2),w.hij(" ",w.lcZ(10,18,e.desc)," "),w.xp6(2),w.Q6J("ngIf",!e.public),w.xp6(1),w.Q6J("ngIf",e.public),w.xp6(3),w.Q6J("ngIf",0===n),w.xp6(1),w.Q6J("ngForOf",e.scope),w.xp6(1),w.Q6J("ngIf",e.pages.indexPages.length>0),w.xp6(2),w.Q6J("ngIf",0!==n),w.xp6(1),w.Q6J("ngIf",n<i.projectPackages.length-1),w.xp6(7),w.Oqu(e.owner?e.owner.name:"unset"),w.xp6(1),w.Q6J("ngIf",(null==e.owner?null:e.owner.id)===(null==i.currentUser?null:i.currentUser.id)),w.xp6(3),w.Q6J("ngSwitch",e.status),w.xp6(1),w.Q6J("ngSwitchCase",0),w.xp6(1),w.Q6J("ngSwitchCase",1),w.xp6(1),w.Q6J("ngSwitchCase",2),w.xp6(1),w.Q6J("ngSwitchCase",3)}}function bt(t,e){if(1&t&&(w.TgZ(0,"div",31),w.YNc(1,kt,36,20,"mat-card",32),w.qZA()),2&t){const t=e.$implicit;w.xp6(1),w.Q6J("ngIf",t)}}function wt(t,e){if(1&t){const t=w.EpF();w.TgZ(0,"mat-card",75),w.NdJ("click",function(){return w.CHM(t),w.oxw(2).onClickPackageSelector()}),w.TgZ(1,"mat-card-header"),w.TgZ(2,"div",34),w._UZ(3,"i",76),w.qZA(),w.TgZ(4,"mat-card-title"),w.TgZ(5,"b"),w._uU(6,"Click to add a package"),w.qZA(),w.qZA(),w.qZA(),w.qZA()}}function qt(t,e){1&t&&w._UZ(0,"i",79)}function yt(t,e){1&t&&w._UZ(0,"i",59)}function _t(t,e){if(1&t&&(w.ynx(0),w.YNc(1,qt,1,0,"i",78),w.YNc(2,yt,1,0,"i",57),w.BQk()),2&t){const t=w.oxw(2).$implicit;w.xp6(1),w.Q6J("ngIf",null==t.privilege?null:t.privilege.canView),w.xp6(1),w.Q6J("ngIf",!(null!=t.privilege&&t.privilege.canView))}}function At(t,e){1&t&&w._UZ(0,"i",60)}function It(t,e){1&t&&(w.TgZ(0,"span",23),w._uU(1,"owner"),w.qZA())}function Ut(t,e){1&t&&(w.TgZ(0,"span",23),w._uU(1,"manager"),w.qZA())}function jt(t,e){1&t&&(w.TgZ(0,"span",23),w._uU(1," viewer"),w.qZA())}function Pt(t,e){1&t&&(w.TgZ(0,"span",23),w._uU(1," runner"),w.qZA())}function Ct(t,e){if(1&t&&(w.TgZ(0,"div",61),w.YNc(1,It,2,0,"span",48),w.YNc(2,Ut,2,0,"span",48),w.YNc(3,jt,2,0,"span",48),w.YNc(4,Pt,2,0,"span",48),w.qZA()),2&t){const t=w.oxw(2).$implicit;w.xp6(1),w.Q6J("ngIf",t.privilege.isOwner),w.xp6(1),w.Q6J("ngIf",t.privilege.isManager),w.xp6(1),w.Q6J("ngIf",t.privilege.isViewer),w.xp6(1),w.Q6J("ngIf",t.privilege.isRunner)}}function Jt(t,e){1&t&&(w.TgZ(0,"div",61),w.TgZ(1,"span",23),w._uU(2,"public"),w.qZA(),w.qZA())}function Nt(t,e){1&t&&(w.TgZ(0,"span",23),w._uU(1," (You)"),w.qZA())}function Qt(t,e){1&t&&(w.TgZ(0,"span",71),w._uU(1,"Under development"),w.qZA())}function St(t,e){1&t&&(w.TgZ(0,"span",72),w._uU(1,"Experimenting"),w.qZA())}function Mt(t,e){1&t&&(w.TgZ(0,"span",73),w._uU(1,"Stable"),w.qZA())}function Yt(t,e){1&t&&(w.TgZ(0,"span",74),w._uU(1,"Out of date"),w.qZA())}function Lt(t,e){if(1&t&&(w.TgZ(0,"mat-card",33),w.TgZ(1,"mat-card-header"),w.TgZ(2,"div",34),w.YNc(3,_t,3,2,"ng-container",35),w.YNc(4,At,1,0,"i",36),w.qZA(),w.TgZ(5,"mat-card-title"),w.TgZ(6,"b"),w._uU(7),w.qZA(),w.qZA(),w.TgZ(8,"mat-card-subtitle"),w._uU(9),w.ALo(10,"htmlToPlainText"),w.qZA(),w.YNc(11,Ct,5,4,"div",37),w.YNc(12,Jt,3,0,"div",37),w.qZA(),w.TgZ(13,"mat-card-footer",45),w.TgZ(14,"div",46),w._UZ(15,"i",47),w.TgZ(16,"span",23),w._uU(17),w.qZA(),w.YNc(18,Nt,2,0,"span",48),w.qZA(),w.qZA(),w.TgZ(19,"mat-card-footer",49),w.TgZ(20,"div",50),w.ynx(21,51),w.YNc(22,Qt,2,0,"span",52),w.YNc(23,St,2,0,"span",53),w.YNc(24,Mt,2,0,"span",54),w.YNc(25,Yt,2,0,"span",55),w.BQk(),w.qZA(),w.qZA(),w.qZA()),2&t){const t=w.oxw().$implicit,e=w.oxw(2);w.Udp("background-color","Gainsboro"),w.xp6(3),w.Q6J("ngIf",!t.public),w.xp6(1),w.Q6J("ngIf",t.public),w.xp6(3),w.Oqu(t.fullname),w.xp6(2),w.hij(" ",w.lcZ(10,15,t.desc)," "),w.xp6(2),w.Q6J("ngIf",!t.public),w.xp6(1),w.Q6J("ngIf",t.public),w.xp6(5),w.Oqu(t.owner?t.owner.name:"unset"),w.xp6(1),w.Q6J("ngIf",(null==t.owner?null:t.owner.id)===(null==e.currentUser?null:e.currentUser.id)),w.xp6(3),w.Q6J("ngSwitch",t.status),w.xp6(1),w.Q6J("ngSwitchCase",0),w.xp6(1),w.Q6J("ngSwitchCase",1),w.xp6(1),w.Q6J("ngSwitchCase",2),w.xp6(1),w.Q6J("ngSwitchCase",3)}}function Ot(t,e){if(1&t&&(w.ynx(0),w.YNc(1,Lt,26,17,"mat-card",77),w.BQk()),2&t){const t=e.$implicit;w.xp6(1),w.Q6J("ngIf",t)}}function Ft(t,e){if(1&t){const t=w.EpF();w.TgZ(0,"div",11),w.TgZ(1,"div",12),w.TgZ(2,"div",13),w.TgZ(3,"div",14),w.TgZ(4,"h3"),w._uU(5,"Name"),w.qZA(),w.qZA(),w.TgZ(6,"div",15),w.TgZ(7,"mat-form-field",16),w.TgZ(8,"input",17,18),w.NdJ("ngModelChange",function(e){return w.CHM(t),w.oxw().projectName=e}),w.qZA(),w.TgZ(10,"mat-hint",19),w._uU(11),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w._UZ(12,"br"),w.TgZ(13,"div",13),w.TgZ(14,"div",14),w.TgZ(15,"h3"),w._uU(16,"Description"),w.qZA(),w.qZA(),w.TgZ(17,"div",15),w.TgZ(18,"mat-form-field",16),w.TgZ(19,"textarea",20,21),w.NdJ("ngModelChange",function(e){return w.CHM(t),w.oxw().projectDesc=e}),w._uU(21),w.qZA(),w.TgZ(22,"mat-hint",19),w._uU(23),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w._UZ(24,"br"),w.TgZ(25,"div",13),w.TgZ(26,"div",22),w.TgZ(27,"h3"),w._uU(28,"Packages for this project"),w.qZA(),w.TgZ(29,"small",23),w._uU(30,"The first package is the main package."),w.qZA(),w._UZ(31,"hr"),w.TgZ(32,"div",24),w.NdJ("cdkDropListDropped",function(e){return w.CHM(t),w.oxw().drop(e)}),w.YNc(33,bt,2,1,"div",25),w.qZA(),w.YNc(34,wt,7,0,"mat-card",26),w.qZA(),w.TgZ(35,"div",27),w.TgZ(36,"h3"),w._uU(37,"Utility packages"),w.qZA(),w.TgZ(38,"small",23),w._uU(39,"Utility packages were defined by the admin."),w.qZA(),w._UZ(40,"hr"),w.YNc(41,Ot,2,1,"ng-container",28),w.qZA(),w.qZA(),w._UZ(42,"br"),w.TgZ(43,"div",13),w.TgZ(44,"div",29),w.TgZ(45,"button",30),w.NdJ("click",function(e){return w.CHM(t),w.oxw().onClickCreateProject(e)}),w._uU(46,"Create"),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA()}if(2&t){const t=w.MAs(9),e=w.MAs(20),n=w.oxw();w.xp6(8),w.Q6J("ngModel",n.projectName),w.xp6(3),w.hij("",t.value.length," / 160"),w.xp6(8),w.Q6J("ngModel",n.projectDesc),w.xp6(2),w.Oqu(n.projectDesc),w.xp6(2),w.hij("",e.value.length," / 1000"),w.xp6(10),w.Q6J("ngForOf",n.projectPackages),w.xp6(1),w.Q6J("ngIf",n.projectPackages.length<=10),w.xp6(7),w.Q6J("ngForOf",n.utilityPackages),w.xp6(4),w.Q6J("disabled",!n.projectName)}}const Et=function(){return["/home"]},Dt=function(){return["/project/list"]},Rt=function(){return["/project/create"]};let Bt=(()=>{class t{constructor(t,e,n,i,s,r){this.projectService=t,this.router=e,this.dialog=n,this.taskService=i,this.systemService=s,this.accountService=r,this.projectName="",this.projectDesc="",this.projectPackageID="",this.projectPackages=[],this.viewControls={isSubmitting:!1},this.packageLists={},this.utilityPackages=[],this._subs=[]}ngOnInit(){this.systemService.toggleNavbar(!0),this.systemService.toggleSidebar(!0),this.systemService.maintainRightSidebarStatus(),this.taskService.packageList$.subscribe(t=>{this.packageLists={},this.packageSheetNames=[],this.utilityPackages=[],t.forEach(t=>{var e;const n=t.sheetName||"Internal Package List";this.packageLists[n]||(this.packageLists[n]=[]),(null===(e=null==t?void 0:t.privilege)||void 0===e?void 0:e.canRun)&&this.packageLists[n].push(t),t.scope.indexOf("utility")>=0&&this.utilityPackages.push(t)}),this.packageSheetNames=Object.keys(this.packageLists||{}),this.packageSheetNames=(0,H.X)(this.packageSheetNames);for(const e of this.packageSheetNames)this.packageLists[e]=(0,H.X)(this.packageLists[e],[t=>t.name],["asc"])}),this._subs.push(this.accountService.currentUser$.subscribe(t=>t&&t.isLoggedIn?this.currentUser=t:"")),this.taskService.loadPackages()}onClickPackageSelector(){this.dialog.open(z,{disableClose:!1,data:{packageLists:this.packageLists,packageSheetNames:this.packageSheetNames,selectedPackages:this.projectPackages}}).afterClosed().subscribe(t=>this.projectPackages.push(t))}movePkgUp(t){if(t<1)return;const e=this.projectPackages.splice(t,1)[0];this.projectPackages.splice(t-1,0,e)}movePkgDown(t){if(t>=this.projectPackages.length-1)return;const e=this.projectPackages.splice(t,1)[0];this.projectPackages.splice(t+1,0,e)}removePkg(t){this.projectPackages.splice(t,1)}drop(t){(0,b.bA)(this.projectPackages,t.previousIndex,t.currentIndex)}onClickCreateProject(t){this.viewControls.isSubmitting=!0,this._subs.push(this.projectService.createProject(this.projectName,this.projectDesc,this.projectPackages.map(t=>t.id)).subscribe(t=>{t.isError?this.viewControls.isSubmitting=!1:this.router.navigate(["/project",t.success.id,"info"])}))}ngOnDestroy(){this._subs.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(w.Y36(W.Y),w.Y36(P.F0),w.Y36(C.uw),w.Y36(V.M),w.Y36(K.o),w.Y36(G.B))},t.\u0275cmp=w.Xpm({type:t,selectors:[["project-creation"]],decls:21,vars:10,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"breadcrumb-item","active"],["target","_blank",3,"routerLink"],[1,"fas","fa-external-link-alt","ms-3"],[1,"bdp-main-container"],[1,"chi-header"],["style","font-size: 12pt;",4,"ngIf"],[3,"hidden"],[1,"fa","fa-circle-o-notch","fa-spin","fa-3x","fa-fw"],[2,"font-size","12pt"],[1,"container-fluid"],[1,"row"],[1,"col-lg-2"],[1,"col-lg-10"],[2,"width","100%"],["matInput","","maxlength","160","placeholder","Project name",3,"ngModel","ngModelChange"],["projectNameInput",""],["align","end"],["matInput","","placeholder","Say something about this project. (max length: 1000 characters)","maxlength","1000","rows","4",3,"ngModel","ngModelChange"],["projectDescInput",""],[1,"col-md-12","mb-5"],[1,"text-muted"],["cdkDropList","",3,"cdkDropListDropped"],["cdkDrag","",4,"ngFor","ngForOf"],["class","ms-1 my-2","class","link viewable","style","height: auto",3,"click",4,"ngIf"],[1,"col-md-12","mt-5"],[4,"ngFor","ngForOf"],[1,"col-md-10","col-md-offset-2"],["mat-raised-button","","color","primary",3,"disabled","click"],["cdkDrag",""],["class","ms-1 my-2","style","height: auto",4,"ngIf"],[1,"ms-1","my-2",2,"height","auto"],["mat-card-avatar",""],[4,"ngIf"],["class","fas fa-unlock fa-fw fa-2x",4,"ngIf"],["class","ms-3","style","position: absolute; top: 2px; right: 5px; font-size: 14px;",4,"ngIf"],["class","badge bg-warning m-3",4,"ngIf"],["class","m-3 badge bg-primary",4,"ngFor","ngForOf"],["class","p-2",4,"ngIf"],["mat-button","","color","primary","style","min-width: 1%;",3,"click",4,"ngIf"],["style","min-width: 1%;","mat-button","","color","primary",3,"click",4,"ngIf"],["mat-button","","color","accent",2,"min-width","1%",3,"click"],[1,"fas","fa-times","fa-fw"],[2,"text-align","left"],[1,"small","ms-3",2,"font-size","12pt","margin","5px 5px"],[1,"fas","fa-user-circle","text-muted","ms-5","me-2"],["class","text-muted",4,"ngIf"],[2,"text-align","right"],[1,"small","text-mute",2,"font-size","14pt","margin","5px 5px"],[3,"ngSwitch"],["class","badge bg-danger",4,"ngSwitchCase"],["class","badge bg-warning",4,"ngSwitchCase"],["class","badge bg-success",4,"ngSwitchCase"],["class","badge bg-default",4,"ngSwitchCase"],["class","fas fa-cube fa-2x fa-fw",4,"ngIf"],["class","fas fa-lock fa-fw fa-2x",4,"ngIf"],[1,"fas","fa-cube","fa-2x","fa-fw"],[1,"fas","fa-lock","fa-fw","fa-2x"],[1,"fas","fa-unlock","fa-fw","fa-2x"],[1,"ms-3",2,"position","absolute","top","2px","right","5px","font-size","14px"],[1,"badge","bg-warning","m-3"],[1,"m-3","badge","bg-primary"],[1,"p-2"],["mat-stroked-button","","class","ms-2 mb-2","disabled","",4,"ngFor","ngForOf"],["mat-stroked-button","","disabled","",1,"ms-2","mb-2"],[1,"me-2","fas","fa-scroll","fa-fw"],["mat-button","","color","primary",2,"min-width","1%",3,"click"],[1,"fas","fa-arrow-up","fa-fw"],[1,"fas","fa-arrow-down","fa-fw"],[1,"badge","bg-danger"],[1,"badge","bg-warning"],[1,"badge","bg-success"],[1,"badge","bg-default"],[1,"link","viewable",2,"height","auto",3,"click"],[1,"far","fa-plus-square","fa-fw","fa-2x"],["class","ms-1 my-2","style","height: auto",3,"background-color",4,"ngIf"],["class","fas fa-cube fa-faw fa-2x",4,"ngIf"],[1,"fas","fa-cube","fa-faw","fa-2x"]],template:function(t,e){1&t&&(w.TgZ(0,"ol",0),w.TgZ(1,"li",1),w.TgZ(2,"a",2),w._uU(3,"Home"),w.qZA(),w.qZA(),w.TgZ(4,"li",1),w.TgZ(5,"a",2),w._uU(6,"Project List"),w.qZA(),w.qZA(),w.TgZ(7,"li",3),w.TgZ(8,"a",2),w._uU(9,"Project creation"),w.qZA(),w.TgZ(10,"a",4),w._UZ(11,"i",5),w.qZA(),w.qZA(),w.qZA(),w.TgZ(12,"div",6),w.TgZ(13,"h5",7),w._uU(14,"Project creation"),w.qZA(),w._UZ(15,"br"),w._UZ(16,"br"),w.YNc(17,Ft,47,9,"div",8),w.TgZ(18,"div",9),w._uU(19,"Creating the project... "),w._UZ(20,"i",10),w.qZA(),w.qZA()),2&t&&(w.xp6(2),w.Q6J("routerLink",w.DdM(6,Et)),w.xp6(3),w.Q6J("routerLink",w.DdM(7,Dt)),w.xp6(3),w.Q6J("routerLink",w.DdM(8,Rt)),w.xp6(2),w.Q6J("routerLink",w.DdM(9,Rt)),w.xp6(7),w.Q6J("ngIf",!e.viewControls.isSubmitting),w.xp6(1),w.Q6J("hidden",!e.viewControls.isSubmitting))},directives:[P.yS,i.O5,J.KE,d.Nt,s.Fj,s.nD,s.JJ,s.On,J.bx,b.Wj,i.sg,o.lW,b.Zt,c.a8,c.dk,c.kc,c.n5,c.$j,c.dn,c.hq,c.rt,i.RF,i.n9],pipes:[X.e],styles:[".viewable[_ngcontent-%COMP%]:hover{background-color:#fff3cd;border-color:#ffeeba;box-shadow:0 10px 20px #00000030,0 6px 6px #0000003b}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.3}"]}),t})();var zt=n(39418),$t=n(50291);function Ht(t,e){if(1&t&&(w.TgZ(0,"span"),w._uU(1),w.qZA()),2&t){const t=w.oxw(2);w.xp6(1),w.hij(": ",t.currentProject.name,"")}}const Wt=function(t){return["/project",t,"info"]};function Vt(t,e){if(1&t&&(w.TgZ(0,"li",1),w.TgZ(1,"a",2),w._uU(2,"Project "),w.YNc(3,Ht,2,1,"span",9),w.qZA(),w.qZA()),2&t){const t=w.oxw();w.xp6(1),w.Q6J("routerLink",w.VKq(2,Wt,t.currentProject.id)),w.xp6(2),w.Q6J("ngIf",t.currentProject)}}function Kt(t,e){1&t&&(w.TgZ(0,"li",1),w._uU(1,"Project"),w.qZA())}const Gt=function(t){return["/project",t,"fileImport"]};function Xt(t,e){if(1&t&&(w.TgZ(0,"li",10),w.TgZ(1,"a",2),w._uU(2,"Import Files"),w.qZA(),w.TgZ(3,"a",11),w._UZ(4,"i",12),w.qZA(),w.qZA()),2&t){const t=w.oxw();w.xp6(1),w.Q6J("routerLink",w.VKq(2,Gt,t.currentProject.id)),w.xp6(2),w.Q6J("routerLink",w.VKq(4,Gt,t.currentProject.id))}}function te(t,e){1&t&&(w.TgZ(0,"li",1),w._uU(1,"Import Files"),w.qZA())}function ee(t,e){if(1&t){const t=w.EpF();w.TgZ(0,"div",13),w.TgZ(1,"div",14),w.TgZ(2,"div",15),w.TgZ(3,"h2"),w._uU(4,"Create DataFile records to the "),w.TgZ(5,"u"),w._uU(6),w.qZA(),w._uU(7," Project."),w.qZA(),w.qZA(),w.TgZ(8,"div",16),w.TgZ(9,"h3"),w._uU(10,"Project description:"),w.qZA(),w.TgZ(11,"div",17),w._uU(12),w.qZA(),w.qZA(),w.qZA(),w.TgZ(13,"div",14),w.TgZ(14,"div",15),w.TgZ(15,"bdp-file-importer",18),w.NdJ("importTypeChanged",function(e){return w.CHM(t),w.oxw().switchType(e)}),w.qZA(),w.qZA(),w.qZA(),w.qZA()}if(2&t){const t=w.oxw();w.xp6(6),w.Oqu(null==t.currentProject?null:t.currentProject.name),w.xp6(6),w.Oqu((null==t.currentProject?null:t.currentProject.desc)||"(no description)"),w.xp6(3),w.Q6J("allowedFormats",t.allowedFormats)("project",t.currentProject)("sysConfig",t.sysConfig)("tasks",t.tasks)("importType",t._viewControls.importType)("currentUser",t.currentUser)}}function ne(t,e){1&t&&w._UZ(0,"i",33)}function ie(t,e){1&t&&w._UZ(0,"i",34)}const se=function(){return{importType:"folder"}};function re(t,e){if(1&t&&(w.TgZ(0,"a",25),w._UZ(1,"i",35),w.TgZ(2,"span",27),w._uU(3,"Add a folder"),w.qZA(),w.TgZ(4,"span",24),w._uU(5,"\u276f"),w.qZA(),w.qZA()),2&t){const t=w.oxw(2);w.ekj("active","folder"==t._viewControls.importType),w.Q6J("routerLink",w.VKq(6,Gt,t.currentProject.id))("queryParams",w.DdM(8,se)),w.xp6(2),w.ekj("active",t.showRightButtonContent||"folder"==t._viewControls.importType)}}const oe=function(){return{importType:"google"}};function ae(t,e){if(1&t&&(w.ynx(0),w.TgZ(1,"a",25),w._UZ(2,"i",36),w.TgZ(3,"span",27),w._uU(4,"Google Drive"),w.qZA(),w.TgZ(5,"span",24),w._uU(6,"\u276f"),w.qZA(),w.qZA(),w._UZ(7,"br"),w.BQk()),2&t){const t=w.oxw(2);w.xp6(1),w.ekj("active","google"==t._viewControls.importType),w.Q6J("routerLink",w.VKq(6,Gt,t.currentProject.id))("queryParams",w.DdM(8,oe)),w.xp6(2),w.ekj("active",t.showRightButtonContent||"google"==t._viewControls.importType)}}const ce=function(){return{importType:"server"}};function ue(t,e){if(1&t&&(w.TgZ(0,"a",25),w._UZ(1,"i",37),w.TgZ(2,"span",27),w._uU(3,"Server folder"),w.qZA(),w.TgZ(4,"span",24),w._uU(5,"\u276f"),w.qZA(),w.qZA()),2&t){const t=w.oxw(2);w.ekj("active","server"==t._viewControls.importType),w.Q6J("routerLink",w.VKq(6,Gt,t.currentProject.id))("queryParams",w.DdM(8,ce)),w.xp6(2),w.ekj("active",t.showRightButtonContent||"server"==t._viewControls.importType)}}const le=function(){return{importType:"local"}},pe=function(t){return["/project",t,"dataFile","list"]},ge=function(t){return["/project",t,"result","list"]},de=function(t){return["/project",t,"result","creation"]};function he(t,e){if(1&t){const t=w.EpF();w.TgZ(0,"div",19),w.TgZ(1,"a",20),w.NdJ("click",function(){w.CHM(t);const e=w.oxw();return e.showRightButtonContent=!e.showRightButtonContent}),w.YNc(2,ne,1,0,"i",21),w.YNc(3,ie,1,0,"i",22),w.TgZ(4,"span",23),w._uU(5,"MENU"),w.qZA(),w.TgZ(6,"span",24),w._uU(7,"\u276f"),w.qZA(),w.qZA(),w._UZ(8,"br"),w.TgZ(9,"a",25),w._UZ(10,"i",26),w.TgZ(11,"span",27),w._uU(12,"Local files"),w.qZA(),w.TgZ(13,"span",24),w._uU(14,"\u276f"),w.qZA(),w.qZA(),w._UZ(15,"br"),w.YNc(16,re,6,9,"a",28),w._UZ(17,"br"),w.YNc(18,ae,8,9,"ng-container",9),w.YNc(19,ue,6,9,"a",28),w._UZ(20,"br"),w.TgZ(21,"a",29),w._UZ(22,"i",30),w.TgZ(23,"span",27),w._uU(24,"Data files"),w.qZA(),w.TgZ(25,"span",24),w._uU(26,"\u276f"),w.qZA(),w.qZA(),w._UZ(27,"br"),w.TgZ(28,"a",29),w._UZ(29,"i",31),w.TgZ(30,"span",27),w._uU(31,"Results"),w.qZA(),w.TgZ(32,"span",24),w._uU(33,"\u276f"),w.qZA(),w.qZA(),w._UZ(34,"br"),w.TgZ(35,"a",29),w._UZ(36,"i",32),w.TgZ(37,"span",27),w._uU(38,"Execute tasks"),w.qZA(),w.TgZ(39,"span",24),w._uU(40,"\u276f"),w.qZA(),w.qZA(),w._UZ(41,"br"),w.qZA()}if(2&t){const t=w.oxw();w.Q6J("@rightButtonState",t.showRightButtonContent?"active":"inactive"),w.xp6(2),w.Q6J("ngIf",t.showRightButtonContent),w.xp6(1),w.Q6J("ngIf",!t.showRightButtonContent),w.xp6(1),w.ekj("active",t.showRightButtonContent),w.xp6(5),w.ekj("active",!t._viewControls.importType||"local"==t._viewControls.importType),w.Q6J("routerLink",w.VKq(23,Gt,t.currentProject.id))("queryParams",w.DdM(25,le)),w.xp6(2),w.ekj("active",t.showRightButtonContent||!t._viewControls.importType||"local"==t._viewControls.importType),w.xp6(5),w.Q6J("ngIf",t.currentUser&&t.currentUser.auths&&t.currentUser.auths.bdp&&t.currentUser.auths.bdp>=3),w.xp6(2),w.Q6J("ngIf",t.sysConfig&&t.sysConfig.googlePickerAPIKey),w.xp6(1),w.Q6J("ngIf",t.currentUser&&t.currentUser.auths&&t.currentUser.auths.bdp&&t.currentUser.auths.bdp>=3),w.xp6(2),w.Q6J("routerLink",w.VKq(26,pe,t.currentProject.id)),w.xp6(2),w.ekj("active",t.showRightButtonContent),w.xp6(5),w.Q6J("routerLink",w.VKq(28,ge,t.currentProject.id)),w.xp6(2),w.ekj("active",t.showRightButtonContent),w.xp6(5),w.Q6J("routerLink",w.VKq(30,de,t.currentProject.id)),w.xp6(2),w.ekj("active",t.showRightButtonContent)}}const fe=function(){return["/home"]},me=function(){return["/project/list"]};let Ze=(()=>{class t{constructor(t,e,n,i,s,r,o){this.router=t,this.route=e,this.projectService=n,this.taskService=i,this.userService=s,this.systemService=r,this.dialogRef=o,this._viewControls={isLoading:!0,importType:"local",moveToDataFileID:"",keepFileName:!1},this.preTags=[],this.filteredTags=[],this.tasks=[],this.showRightButtonContent=!1,this.allowedFormats=[],this._subs=[]}ngOnInit(){this.systemService.toggleNavbar(!0),this.systemService.toggleSidebar(!0),this.systemService.maintainRightSidebarStatus();const t=this.route.snapshot.params.pid;this.route.queryParamMap.subscribe(t=>this._viewControls.importType=t.get("importType")?t.get("importType"):"local"),this._subs.push(this.taskService.taskList$.subscribe(t=>Array.isArray(t)?this.tasks=t:"")),this._subs.push(this.systemService.sysInfo$.subscribe(t=>this.sysConfig=t)),this._subs.push(this.projectService.currentProject$.subscribe(t=>{this.currentProject=t,this.currentProject&&!this.currentProject.privilege.canAddFile&&this.router.navigate(["/project",this.currentProject.id,"info"]),this.currentProject&&Array.isArray(this.currentProject.packages)&&(this.allowedFormats=[...new Set([].concat.apply([],this.currentProject.packages.map(t=>t.allowedFormats)))].map(t=>t.toString()),this.taskService.loadTasks(this.currentProject.packages.map(t=>t.id))),this._viewControls.isLoading=!1})),this._subs.push(this.userService.currentUser$.subscribe(t=>this.currentUser=t)),this.projectService.setCurrentProject(t,!0)}openDialog(){this.dialogRef.open($t.s,{width:"99%",height:"95%",maxWidth:"95vw",maxHeight:"95vh",data:{allowedFormats:this.allowedFormats,project:this.currentProject,sysConfig:this.sysConfig,tasks:this.tasks,importType:this._viewControls.importType,currentUser:this.currentUser,tags:["test333","test2"]}})}switchType(t){!this.currentProject||this.router.navigate(["/project",this.currentProject.id,"fileImport"],{queryParams:{importType:t}})}ngOnDestroy(){this._subs.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(w.Y36(P.F0),w.Y36(P.gz),w.Y36(W.Y),w.Y36(V.M),w.Y36(G.B),w.Y36(K.o),w.Y36(C.uw))},t.\u0275cmp=w.Xpm({type:t,selectors:[["project-file-importer"]],decls:18,vars:10,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],["class","breadcrumb-item",4,"ngIf"],["class","breadcrumb-item active",4,"ngIf"],[1,"bdp-main-container","p-4"],[1,"chi-header"],["class","container-fluid",4,"ngIf"],["class","chi-right-menu",4,"ngIf"],[4,"ngIf"],[1,"breadcrumb-item","active"],["target","_blank",3,"routerLink"],[1,"fas","fa-external-link-alt","ms-3"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"col-12","mx-3"],[1,"mx-3"],[3,"allowedFormats","project","sysConfig","tasks","importType","currentUser","importTypeChanged"],[1,"chi-right-menu"],[1,"chi-rbtn",3,"click"],["class","fa fa-angle-right fa-fw",4,"ngIf"],["class","fa fa-angle-left fa-fw",4,"ngIf"],[1,"chi-rbtn-content","ms-2"],[1,"chi-rbtn-arrow"],[1,"chi-rbtn",3,"routerLink","queryParams"],[1,"far","fa-hdd","fa-fw"],[1,"chi-rbtn-content"],["class","chi-rbtn",3,"active","routerLink","queryParams",4,"ngIf"],[1,"chi-rbtn",3,"routerLink"],[1,"far","fa-file","fa-fw"],[1,"far","fa-folder-open","fa-fw"],[1,"fas","fa-play","fa-fw"],[1,"fa","fa-angle-right","fa-fw"],[1,"fa","fa-angle-left","fa-fw"],[1,"fas","fa-folder-plus","fa-fw"],[1,"fab","fa-google-drive","fa-fw"],[1,"fas","fa-server","fa-fw"]],template:function(t,e){1&t&&(w.TgZ(0,"ol",0),w.TgZ(1,"li",1),w.TgZ(2,"a",2),w._uU(3,"Home"),w.qZA(),w.qZA(),w.TgZ(4,"li",1),w.TgZ(5,"a",2),w._uU(6,"Project List"),w.qZA(),w.qZA(),w.YNc(7,Vt,4,4,"li",3),w.YNc(8,Kt,2,0,"li",3),w.YNc(9,Xt,5,6,"li",4),w.YNc(10,te,2,0,"li",3),w.qZA(),w.TgZ(11,"div",5),w.TgZ(12,"h3",6),w._uU(13,"Import Files"),w.qZA(),w._UZ(14,"br"),w._UZ(15,"br"),w.YNc(16,ee,16,8,"div",7),w.qZA(),w.YNc(17,he,42,32,"div",8)),2&t&&(w.xp6(2),w.Q6J("routerLink",w.DdM(8,fe)),w.xp6(3),w.Q6J("routerLink",w.DdM(9,me)),w.xp6(2),w.Q6J("ngIf",e.currentProject),w.xp6(1),w.Q6J("ngIf",!e.currentProject),w.xp6(1),w.Q6J("ngIf",e.currentProject),w.xp6(1),w.Q6J("ngIf",!e.currentProject),w.xp6(6),w.Q6J("ngIf",e.currentProject),w.xp6(1),w.Q6J("ngIf",e.currentProject))},directives:[P.yS,i.O5,$t.s],styles:["fieldset[_ngcontent-%COMP%]{border:1px solid gray;padding:10px 15px}legend[_ngcontent-%COMP%]{width:auto;margin-bottom:0}.badge[_ngcontent-%COMP%]{margin:2px}"],data:{animation:[zt.M]}}),t})();var xe=n(16738),ve=n(52468),Te=n(55728),ke=n(65072),be=n(9919),we=n(4696);function qe(t,e){1&t&&(w.TgZ(0,"span",29),w._uU(1,"Static value"),w.qZA())}function ye(t,e){1&t&&(w.TgZ(0,"span",30),w._uU(1,"Input value"),w.qZA())}function _e(t,e){1&t&&(w.TgZ(0,"span",31),w._uU(1,"List"),w.qZA())}function Ae(t,e){1&t&&(w.TgZ(0,"span",32),w._uU(1,"Input file"),w.qZA())}function Ie(t,e){1&t&&(w.TgZ(0,"span",33),w._uU(1,"Output file"),w.qZA())}function Ue(t,e){if(1&t&&(w.ynx(0),w.TgZ(1,"span"),w._uU(2),w.qZA(),w.BQk()),2&t){const t=w.oxw().$implicit;w.xp6(2),w.Oqu(t.default)}}function je(t,e){if(1&t&&(w.ynx(0),w.TgZ(1,"span"),w._uU(2),w.qZA(),w.BQk()),2&t){const t=w.oxw().index,e=w.oxw(3);w.xp6(2),w.Oqu(e.selectedInputs[t])}}function Pe(t,e){if(1&t&&(w.TgZ(0,"span"),w._uU(1),w.qZA()),2&t){const t=w.oxw(4).$implicit;w.xp6(1),w.Oqu(t.listSplitter)}}function Ce(t,e){if(1&t&&(w.TgZ(0,"span"),w._uU(1),w.YNc(2,Pe,2,1,"span",20),w.qZA()),2&t){const t=e.$implicit,n=e.index,i=w.oxw(3).index,s=w.oxw(3);w.xp6(1),w.hij(" ",t," "),w.xp6(1),w.Q6J("ngIf",n<s.selectedInputs[i].length-1)}}function Je(t,e){if(1&t&&(w.ynx(0),w.YNc(1,Ce,3,2,"span",34),w.BQk()),2&t){const t=w.oxw(2).index,e=w.oxw(3);w.xp6(1),w.Q6J("ngForOf",e.selectedInputs[t])}}function Ne(t,e){if(1&t&&(w.ynx(0),w.TgZ(1,"span"),w._uU(2),w.qZA(),w.BQk()),2&t){const t=w.oxw(2).index,e=w.oxw(3);w.xp6(2),w.Oqu(e.selectedInputs[t])}}function Qe(t,e){if(1&t&&(w.ynx(0),w.YNc(1,Je,2,1,"ng-container",20),w.YNc(2,Ne,3,1,"ng-container",20),w.BQk()),2&t){const t=w.oxw().$implicit;w.xp6(1),w.Q6J("ngIf",t.multiple),w.xp6(1),w.Q6J("ngIf",!t.multiple)}}const Se=function(t){return["/dataFile",t,"info"]};function Me(t,e){if(1&t&&(w.ynx(0),w.TgZ(1,"u",35),w._uU(2),w.qZA(),w.TgZ(3,"span"),w._uU(4),w.qZA(),w.TgZ(5,"u",35),w._uU(6),w.qZA(),w.TgZ(7,"a",36),w._UZ(8,"span",37),w.qZA(),w.BQk()),2&t){const t=w.oxw().$implicit,e=w.oxw(5);let n,i,s;w.xp6(2),w.Oqu(null==(n=e.getValidFileById(t.key))?null:n.prefix),w.xp6(2),w.Oqu(null==(i=e.getValidFileById(t.key))?null:i.name),w.xp6(2),w.Oqu(null==(s=e.getValidFileById(t.key))?null:s.suffix),w.xp6(1),w.Q6J("routerLink",w.VKq(4,Se,t.key))}}function Ye(t,e){if(1&t&&(w.ynx(0),w.YNc(1,Me,9,6,"ng-container",20),w.BQk()),2&t){const t=e.$implicit;w.xp6(1),w.Q6J("ngIf",t.value)}}function Le(t,e){if(1&t&&(w.ynx(0),w.YNc(1,Ye,2,1,"ng-container",34),w.ALo(2,"keyvalue"),w.BQk()),2&t){const t=w.oxw().index,e=w.oxw(3);w.xp6(1),w.Q6J("ngForOf",w.lcZ(2,1,e.selectedInputs[t]))}}function Oe(t,e){if(1&t&&(w.ynx(0),w.TgZ(1,"u",35),w._uU(2),w.qZA(),w.TgZ(3,"span"),w._uU(4),w.qZA(),w.TgZ(5,"u",35),w._uU(6),w.qZA(),w.BQk()),2&t){const t=w.oxw().index,e=w.oxw(3);w.xp6(2),w.Oqu(e.resultInfo.prefix),w.xp6(2),w.Oqu(e.resultInfo.outputs[t].name),w.xp6(2),w.Oqu(e.resultInfo.suffix)}}function Fe(t,e){if(1&t&&(w.TgZ(0,"tr",22),w.TgZ(1,"td"),w._uU(2),w.qZA(),w.TgZ(3,"td"),w._uU(4),w.qZA(),w.TgZ(5,"td"),w.ynx(6,23),w.YNc(7,qe,2,0,"span",24),w.YNc(8,ye,2,0,"span",25),w.YNc(9,_e,2,0,"span",26),w.YNc(10,Ae,2,0,"span",27),w.YNc(11,Ie,2,0,"span",28),w.BQk(),w.qZA(),w.TgZ(12,"td"),w.YNc(13,Ue,3,1,"ng-container",20),w.YNc(14,je,3,1,"ng-container",20),w.YNc(15,Qe,3,2,"ng-container",20),w.YNc(16,Le,3,3,"ng-container",20),w.YNc(17,Oe,7,3,"ng-container",20),w.qZA(),w.qZA()),2&t){const t=e.$implicit,n=e.index,i=w.oxw(3);w.Q6J("ngClass",i.getRowStyleByArgType(t.type)),w.xp6(2),w.Oqu(n+1),w.xp6(2),w.Oqu(t.name),w.xp6(2),w.Q6J("ngSwitch",t.type),w.xp6(1),w.Q6J("ngSwitchCase","static"),w.xp6(1),w.Q6J("ngSwitchCase","value"),w.xp6(1),w.Q6J("ngSwitchCase","list"),w.xp6(1),w.Q6J("ngSwitchCase","inFile"),w.xp6(1),w.Q6J("ngSwitchCase","outFile"),w.xp6(2),w.Q6J("ngIf","static"===t.type),w.xp6(1),w.Q6J("ngIf","value"===t.type),w.xp6(1),w.Q6J("ngIf","list"===t.type),w.xp6(1),w.Q6J("ngIf","inFile"===t.type),w.xp6(1),w.Q6J("ngIf",i.resultInfo&&"outFile"===t.type)}}function Ee(t,e){if(1&t&&(w.TgZ(0,"tbody"),w.YNc(1,Fe,18,14,"tr",21),w.qZA()),2&t){const t=w.oxw(2);w.xp6(1),w.Q6J("ngForOf",t.currentTask.arguments)}}function De(t,e){if(1&t){const t=w.EpF();w.TgZ(0,"div",1),w.TgZ(1,"div",2),w.TgZ(2,"h2"),w._uU(3,"Result preview"),w.qZA(),w.qZA(),w.TgZ(4,"div",3),w.TgZ(5,"div",4),w.TgZ(6,"mat-form-field",5),w._UZ(7,"input",6),w.qZA(),w.qZA(),w.TgZ(8,"div",4),w.TgZ(9,"mat-form-field",5),w._UZ(10,"input",7),w.qZA(),w.qZA(),w.qZA(),w.TgZ(11,"div",3),w.TgZ(12,"div",4),w.TgZ(13,"mat-form-field",5),w._UZ(14,"input",8),w.qZA(),w.qZA(),w.TgZ(15,"div",4),w.TgZ(16,"mat-form-field",5),w._UZ(17,"textarea",9),w.qZA(),w.qZA(),w.qZA(),w.TgZ(18,"div",3),w.TgZ(19,"div",10),w.TgZ(20,"mat-form-field",5),w._UZ(21,"input",11),w.qZA(),w.qZA(),w.TgZ(22,"div",4),w.TgZ(23,"mat-form-field",5),w.TgZ(24,"input",12),w.NdJ("ngModelChange",function(e){return w.CHM(t),w.oxw().resultInfo.name=e}),w.qZA(),w.qZA(),w.qZA(),w.TgZ(25,"div",10),w.TgZ(26,"mat-form-field",5),w._UZ(27,"input",13),w.qZA(),w.qZA(),w.qZA(),w.TgZ(28,"div",3),w.TgZ(29,"div",14),w.TgZ(30,"mat-form-field",5),w._UZ(31,"textarea",15),w.qZA(),w.qZA(),w.qZA(),w.TgZ(32,"div",3),w.TgZ(33,"div",16),w.TgZ(34,"b"),w._uU(35,"Input Arguments"),w.qZA(),w.qZA(),w.TgZ(36,"div",16),w.TgZ(37,"table",17),w.TgZ(38,"thead",18),w.TgZ(39,"tr"),w.TgZ(40,"th",19),w._uU(41,"#"),w.qZA(),w.TgZ(42,"th"),w._uU(43,"Name"),w.qZA(),w.TgZ(44,"th"),w._uU(45,"Type"),w.qZA(),w.TgZ(46,"th"),w._uU(47,"Selected Value"),w.qZA(),w.qZA(),w.qZA(),w.YNc(48,Ee,2,1,"tbody",20),w.qZA(),w.qZA(),w.qZA(),w.qZA()}if(2&t){const t=w.oxw();w.xp6(7),w.Q6J("value",null==t.currentProject?null:t.currentProject.name),w.xp6(3),w.Q6J("value",null==t.currentPackage?null:t.currentPackage.name),w.xp6(4),w.Q6J("value",(null==t.currentTask?null:t.currentTask.name)||"(no currently selected task!?)"),w.xp6(3),w.Q6J("value",(null==t.currentTask?null:t.currentTask.desc)||"(no description)"),w.xp6(4),w.Q6J("value",t.resultInfo.prefix||"(N/A)"),w.xp6(3),w.Q6J("ngModel",t.resultInfo.name),w.xp6(3),w.Q6J("value",t.resultInfo.suffix||"(N/A)"),w.xp6(4),w.Q6J("value",t.resultInfo.desc||"(no description)"),w.xp6(17),w.Q6J("ngIf",t.currentTask)}}let Re=(()=>{class t{constructor(){this.selectedInputs=[],this.validInputs=[],this.validFiles={}}ngOnInit(){}ngOnChanges(t){for(const e in t)"currentTask"===e?this.currentTask=t[e].currentValue:"currentProject"===e?this.currentProject=t[e].currentValue:"resultInfo"===e?this.resultInfo=t[e].currentValue:"selectedInputs"===e?this.selectedInputs=t[e].currentValue||[]:"validInputs"===e&&(this.validInputs=t[e].currentValue||[]);for(let e=0;e<this.validInputs.length;e++)if(Array.isArray(this.validInputs[e]))for(let t=0;t<this.validInputs[e].length;t++){const n=this.validInputs[e][t];this.validFiles[n.id]=n}this.currentTask&&this.currentProject&&(this.currentPackage=this.currentProject.packages.filter(t=>this.currentTask&&t.id===this.currentTask.package)[0])}getRowStyleByArgType(t){return{"table-secondary":"value"===t,"table-white":"static"===t,"table-primary":"inFile"===t,"table-info":"list"===t,"table-success":"outFile"===t,"table-danger":!1}}getValidFileById(t){return this.validFiles&&this.validFiles[t]||null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=w.Xpm({type:t,selectors:[["bdp-result-describer"]],inputs:{currentTask:"currentTask",currentProject:"currentProject",resultInfo:"resultInfo",selectedInputs:"selectedInputs",validInputs:"validInputs"},features:[w.TTD],decls:1,vars:1,consts:[["class","container","style","border: thin solid gray",4,"ngIf"],[1,"container",2,"border","thin solid gray"],[1,"row","p-2"],[1,"row"],[1,"col-md-6"],[2,"width","100%"],["matInput","","placeholder","Project Name","disabled","",3,"value"],["matInput","","placeholder","Package Name","disabled","",3,"value"],["matInput","","placeholder","Task Name","disabled","",3,"value"],["matInput","","placeholder","Task Description","disabled","",3,"value"],[1,"col-md-3"],["matInput","","placeholder","Result Prefix","readonly","",3,"value"],["matInput","","placeholder","Result Name","readonly","",3,"ngModel","ngModelChange"],["matInput","","placeholder","Result Suffix","readonly","",3,"value"],[1,"col-12"],["matInput","","placeholder","Result Description","readonly","",3,"value"],[1,"col-md-12"],[1,"table","table-responsive-md","table-hover","table-bordered","table-sm"],[1,"table-dark"],[2,"width","40px"],[4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[3,"ngSwitch"],["class","badge bg-dark",4,"ngSwitchCase"],["class","badge bg-secondary",4,"ngSwitchCase"],["class","badge bg-info",4,"ngSwitchCase"],["class","badge bg-primary",4,"ngSwitchCase"],["class","badge bg-success",4,"ngSwitchCase"],[1,"badge","bg-dark"],[1,"badge","bg-secondary"],[1,"badge","bg-info"],[1,"badge","bg-primary"],[1,"badge","bg-success"],[4,"ngFor","ngForOf"],[1,"text-muted"],["target","_blank",1,"ms-3",3,"routerLink"],[1,"fas","fa-external-link-alt"]],template:function(t,e){1&t&&w.YNc(0,De,49,9,"div",0),2&t&&w.Q6J("ngIf",e.resultInfo)},directives:[i.O5,J.KE,d.Nt,s.Fj,s.JJ,s.On,i.sg,i.mk,i.RF,i.n9,P.yS],pipes:[i.Nd],encapsulation:2}),t})();function Be(t,e){if(1&t&&(w.TgZ(0,"span"),w._uU(1),w.qZA()),2&t){const t=w.oxw(2);w.xp6(1),w.hij(": ",t.currentProject.name,"")}}const ze=function(t){return["/project",t,"info"]};function $e(t,e){if(1&t&&(w.TgZ(0,"li",1),w.TgZ(1,"a",2),w._uU(2,"Project "),w.YNc(3,Be,2,1,"span",17),w.qZA(),w.qZA()),2&t){const t=w.oxw();w.xp6(1),w.Q6J("routerLink",w.VKq(2,ze,t.currentProject.id)),w.xp6(2),w.Q6J("ngIf",t.currentProject)}}function He(t,e){1&t&&(w.TgZ(0,"li",1),w._uU(1,"Project"),w.qZA())}const We=function(t){return["/project",t,"result","creation"]};function Ve(t,e){if(1&t&&(w.TgZ(0,"li",40),w.TgZ(1,"a",2),w._uU(2,"Execute Tasks"),w.qZA(),w.TgZ(3,"a",41),w._UZ(4,"i",42),w.qZA(),w.qZA()),2&t){const t=w.oxw();w.xp6(1),w.Q6J("routerLink",w.VKq(2,We,t.currentProject.id)),w.xp6(2),w.Q6J("routerLink",w.VKq(4,We,t.currentProject.id))}}function Ke(t,e){1&t&&(w.TgZ(0,"li",40),w._uU(1,"Execute Tasks"),w.qZA())}function Ge(t,e){if(1&t&&(w.TgZ(0,"mat-icon",43),w._uU(1,"looks_one"),w.qZA(),w.TgZ(2,"div"),w._uU(3,"Choose a task"),w.qZA()),2&t){const t=w.oxw();w.ekj("text-primary",0==t.currentStep),w.xp6(2),w.ekj("text-primary",0==t.currentStep)}}function Xe(t,e){if(1&t){const t=w.EpF();w.TgZ(0,"div",14),w.TgZ(1,"div",15),w.TgZ(2,"mat-button-toggle-group",44),w.NdJ("ngModelChange",function(e){return w.CHM(t),w.oxw().changeTaskViewFilter(e,!0)}),w.TgZ(3,"mat-button-toggle",45),w._uU(4,"All"),w.qZA(),w.TgZ(5,"mat-button-toggle",46),w._UZ(6,"i",47),w.qZA(),w.TgZ(7,"mat-button-toggle",48),w._UZ(8,"i",49),w.qZA(),w.TgZ(9,"mat-button-toggle",50),w._UZ(10,"i",51),w.qZA(),w.TgZ(11,"mat-button-toggle",52),w.NdJ("click",function(){return w.CHM(t),w.oxw().onTaskReloadBtnClick()}),w._UZ(12,"i",53),w.qZA(),w.qZA(),w.qZA(),w.qZA()}if(2&t){const t=w.oxw();w.xp6(2),w.Q6J("ngModel",t.taskViewType)}}function tn(t,e){if(1&t&&(w.TgZ(0,"h3",58),w._UZ(1,"i",59),w._uU(2),w.qZA()),2&t){const t=w.oxw().$implicit,e=w.oxw();w.xp6(2),w.hij(" ",e.taskKey2name[t]," ")}}function en(t,e){if(1&t&&w._UZ(0,"img",73),2&t){const t=w.oxw(2).$implicit;w.Q6J("src",t.thumbnail,w.LSH)}}function nn(t,e){1&t&&w._UZ(0,"i",74)}function sn(t,e){1&t&&w._UZ(0,"i",75)}function rn(t,e){1&t&&w._UZ(0,"i",76)}function on(t,e){1&t&&w._UZ(0,"i",77)}function an(t,e){if(1&t&&(w.TgZ(0,"div",78),w._UZ(1,"img",79),w.qZA()),2&t){const t=w.oxw(2).$implicit;w.xp6(1),w.Q6J("src",t.img,w.LSH)}}function cn(t,e){if(1&t&&w._UZ(0,"div",80),2&t){const t=w.oxw(2).$implicit;w.Q6J("innerHTML",t.desc?t.desc:"(no description)",w.oJD)}}function un(t,e){1&t&&(w.TgZ(0,"strong"),w._uU(1,"This task will generate the following output data."),w.qZA())}function ln(t,e){1&t&&(w.TgZ(0,"strong"),w._uU(1,"This task does NOT generate output data files."),w.qZA())}function pn(t,e){if(1&t&&(w.TgZ(0,"li",85),w.TgZ(1,"b"),w._uU(2),w.qZA(),w._uU(3),w.qZA()),2&t){const t=w.oxw().$implicit;w.xp6(2),w.Oqu(null==t?null:t.name),w.xp6(1),w.hij(": ",null==t?null:t.desc," ")}}function gn(t,e){if(1&t&&w.YNc(0,pn,4,2,"li",84),2&t){const t=e.$implicit;w.Q6J("ngIf","outFile"==(null==t?null:t.type))}}function dn(t,e){if(1&t&&(w.TgZ(0,"mat-list-item",88),w.TgZ(1,"b"),w._uU(2),w.qZA(),w.qZA()),2&t){const t=e.$implicit;w.xp6(2),w.hij("*",t,"")}}function hn(t,e){if(1&t&&(w.TgZ(0,"mat-list",86),w.YNc(1,dn,3,1,"mat-list-item",87),w.qZA()),2&t){const t=w.oxw(5);w.xp6(1),w.Q6J("ngForOf",t.viewControls.workflowWarnings)}}function fn(t,e){if(1&t&&(w.TgZ(0,"mat-list-item",90),w.TgZ(1,"b"),w._uU(2),w.qZA(),w.qZA()),2&t){const t=e.$implicit;w.xp6(2),w.hij("*",t,"")}}function mn(t,e){if(1&t&&(w.TgZ(0,"mat-list",86),w.YNc(1,fn,3,1,"mat-list-item",89),w.qZA()),2&t){const t=w.oxw(5);w.xp6(1),w.Q6J("ngForOf",t.viewControls.workflowErrors)}}function Zn(t,e){if(1&t&&w._UZ(0,"bdp-workflow-planner",91),2&t){const t=w.oxw(5);w.Q6J("taskMapper",t.selectedTask.mapper)("childTasks",t.allTasksInPkg)("additionalTasks",t.loadedTasks)("taskArgs",t.selectedTask.arguments)("taskStepNames",t.selectedTask.stepNames)}}function xn(t,e){if(1&t&&(w.TgZ(0,"div"),w.TgZ(1,"fieldset"),w.TgZ(2,"legend"),w.TgZ(3,"b"),w._uU(4,"Full description"),w.qZA(),w.qZA(),w._UZ(5,"div",81),w._UZ(6,"hr"),w.YNc(7,un,2,0,"strong",17),w.YNc(8,ln,2,0,"strong",17),w.TgZ(9,"ol"),w.YNc(10,gn,1,1,"ng-template",34),w.qZA(),w.qZA(),w.YNc(11,hn,2,1,"mat-list",82),w.YNc(12,mn,2,1,"mat-list",82),w.YNc(13,Zn,1,5,"bdp-workflow-planner",83),w.qZA()),2&t){const t=w.oxw(2).$implicit,e=w.oxw(2);w.xp6(5),w.Q6J("innerHTML",e.selectedTask.desc?e.selectedTask.desc:"(no description)",w.oJD),w.xp6(2),w.Q6J("ngIf",e.outputNumber>0),w.xp6(1),w.Q6J("ngIf",0===e.outputNumber),w.xp6(2),w.Q6J("ngForOf",null==e.selectedTask?null:e.selectedTask.arguments),w.xp6(1),w.Q6J("ngIf",e.viewControls.workflowWarnings.length>0),w.xp6(1),w.Q6J("ngIf",e.viewControls.workflowErrors.length>0),w.xp6(1),w.Q6J("ngIf",e.selectedTask&&e.selectedTask===t&&"workflow"===e.selectedTask.type&&e.showWorkflow)}}function vn(t,e){if(1&t){const t=w.EpF();w.TgZ(0,"button",92),w.NdJ("click",function(e){return w.CHM(t),w.oxw(4).onTaskBlur(e)}),w._uU(1,"Cancel"),w.qZA()}}function Tn(t,e){if(1&t){const t=w.EpF();w.TgZ(0,"button",93),w.NdJ("click",function(){w.CHM(t);const e=w.oxw(4);return e.showWorkflow=!e.showWorkflow,e.masonryRelayout()}),w._UZ(1,"i",94),w._uU(2," Show workflow graph"),w.qZA()}}function kn(t,e){if(1&t){const t=w.EpF();w.TgZ(0,"button",93),w.NdJ("click",function(){w.CHM(t);const e=w.oxw(4);return e.showWorkflow=!e.showWorkflow,e.masonryRelayout()}),w._UZ(1,"i",94),w._uU(2," Close workflow graph"),w.qZA()}}function bn(t,e){if(1&t){const t=w.EpF();w.TgZ(0,"button",95),w.NdJ("click",function(){return w.CHM(t),w.oxw(4).currentStep=1}),w._uU(1,"Next"),w.qZA()}if(2&t){const t=w.oxw(4);w.Q6J("disabled",t.viewControls.workflowErrors.length>0)}}const wn=function(t,e){return{"task-card":t,"task-previous-select":e}};function qn(t,e){if(1&t){const t=w.EpF();w.TgZ(0,"div",61),w.TgZ(1,"mat-card",62),w.NdJ("click",function(){w.CHM(t);const e=w.oxw().$implicit;return w.oxw(2).onSelectTask(e)}),w.TgZ(2,"mat-card-header"),w.YNc(3,en,1,1,"img",63),w.TgZ(4,"mat-card-title"),w.YNc(5,nn,1,0,"i",64),w.YNc(6,sn,1,0,"i",65),w.YNc(7,rn,1,0,"i",66),w.YNc(8,on,1,0,"i",67),w.TgZ(9,"b"),w._uU(10),w.qZA(),w.qZA(),w.TgZ(11,"mat-card-subtitle"),w._UZ(12,"i",68),w._uU(13),w.qZA(),w.qZA(),w.TgZ(14,"mat-card-content"),w.YNc(15,an,2,1,"div",69),w.YNc(16,cn,1,1,"div",70),w.YNc(17,xn,14,7,"div",17),w.qZA(),w.TgZ(18,"mat-card-actions"),w.YNc(19,vn,2,0,"button",71),w.YNc(20,Tn,3,0,"button",35),w.YNc(21,kn,3,0,"button",35),w.YNc(22,bn,2,1,"button",72),w.qZA(),w.qZA(),w.qZA()}if(2&t){const t=w.oxw().$implicit,e=w.oxw(2);w.Udp("width",t&&e.selectedTask&&e.selectedTask===t?"100%":e.masonryItemWidth)("display",t&&"child"!==t.type&&(!e.selectedTask||e.selectedTask&&e.selectedTask===t)?"block":"none"),w.xp6(1),w.Tol(w.WLB(22,wn,!(e.selectedTask&&e.selectedTask===t),e.previousSelectedTask===t)),w.Udp("cursor",e.selectedTask?"auto":"pointer"),w.xp6(2),w.Q6J("ngIf",t.thumbnail),w.xp6(2),w.Q6J("ngIf","workflow"==t.type),w.xp6(1),w.Q6J("ngIf","standard"==t.type),w.xp6(1),w.Q6J("ngIf","child"==t.type),w.xp6(1),w.Q6J("ngIf","system"==t.type),w.xp6(2),w.Oqu(t.name),w.xp6(3),w.hij("",null==t||null==t.packageModel?null:t.packageModel.fullname," "),w.xp6(2),w.Q6J("ngIf",t.img),w.xp6(1),w.Q6J("ngIf",!e.selectedTask),w.xp6(1),w.Q6J("ngIf",e.selectedTask),w.xp6(2),w.Q6J("ngIf",e.selectedTask),w.xp6(1),w.Q6J("ngIf",e.selectedTask&&"workflow"===e.selectedTask.type&&!e.showWorkflow),w.xp6(1),w.Q6J("ngIf",e.selectedTask&&"workflow"===e.selectedTask.type&&e.showWorkflow),w.xp6(1),w.Q6J("ngIf",e.selectedTask)}}function yn(t,e){if(1&t&&(w.ynx(0),w.YNc(1,qn,23,25,"div",60),w.BQk()),2&t){const t=e.$implicit;w.xp6(1),w.Q6J("ngIf",t&&"child"!==t.type)}}function _n(t,e){1&t&&w._UZ(0,"mat-divider",96)}function An(t,e){if(1&t&&(w.TgZ(0,"div",14),w.YNc(1,tn,3,1,"h3",54),w.TgZ(2,"div",15),w.TgZ(3,"ngx-masonry",55),w.YNc(4,yn,2,1,"ng-container",56),w.qZA(),w.qZA(),w.YNc(5,_n,1,0,"mat-divider",57),w.qZA()),2&t){const t=e.$implicit,n=w.oxw();w.xp6(1),w.Q6J("ngIf",!n.selectedTask||((null==n.selectedTask.packageModel?null:n.selectedTask.packageModel.sheetID)||"")+((null==n.selectedTask.packageModel?null:n.selectedTask.packageModel.fullname)||"")===t),w.xp6(2),w.Q6J("options",n.masonryOptions)("ordered",!0),w.xp6(1),w.Q6J("ngForOf",n.taskListView[t])("ngForTrackBy",n.trackTasks),w.xp6(1),w.Q6J("ngIf",!n.selectedTask||((null==n.selectedTask||null==n.selectedTask.packageModel?null:n.selectedTask.packageModel.sheetID)||"")+((null==n.selectedTask||null==n.selectedTask.packageModel?null:n.selectedTask.packageModel.fullname)||"")===t)}}function In(t,e){if(1&t&&(w.TgZ(0,"mat-icon",43),w._uU(1,"looks_two"),w.qZA(),w.TgZ(2,"span"),w._uU(3," Set parameters "),w.qZA()),2&t){const t=w.oxw();w.ekj("text-primary",1==t.currentStep),w.xp6(2),w.ekj("text-primary",1==t.currentStep)}}function Un(t,e){if(1&t&&(w.TgZ(0,"div",14),w.TgZ(1,"div",15),w._UZ(2,"br"),w._uU(3),w._UZ(4,"br"),w._uU(5," Task description: "),w._UZ(6,"br"),w._UZ(7,"div",81),w._UZ(8,"br"),w.qZA(),w.qZA()),2&t){const t=w.oxw();w.xp6(3),w.hij(" You are going to run the task: ",t.selectedTask.name,". "),w.xp6(4),w.Q6J("innerHTML",t.selectedTask.desc,w.oJD)}}function jn(t,e){1&t&&(w.TgZ(0,"div"),w._uU(1,"Loading ..."),w.qZA())}function Pn(t,e){1&t&&(w.TgZ(0,"span"),w._uU(1,"No parameters needed."),w.qZA())}function Cn(t,e){1&t&&(w.TgZ(0,"span"),w._uU(1,"[Optional]"),w.qZA())}function Jn(t,e){if(1&t&&(w.TgZ(0,"small"),w._uU(1),w.qZA()),2&t){const t=w.oxw(2).$implicit;w.xp6(1),w.Oqu(t.desc)}}function Nn(t,e){1&t&&(w.TgZ(0,"small",104),w._uU(1,"(no description)"),w.qZA())}function Qn(t,e){if(1&t&&(w.TgZ(0,"div",102),w.TgZ(1,"h3"),w.TgZ(2,"strong"),w.YNc(3,Cn,2,0,"span",17),w._uU(4),w.qZA(),w._uU(5,": "),w.YNc(6,Jn,2,1,"small",17),w.YNc(7,Nn,2,0,"small",103),w.qZA(),w.qZA()),2&t){const t=w.oxw().$implicit;w.xp6(3),w.Q6J("ngIf",t.optional),w.xp6(1),w.hij(" ",null==t?null:t.name,""),w.xp6(2),w.Q6J("ngIf",t.desc),w.xp6(1),w.Q6J("ngIf",!t.desc)}}function Sn(t,e){if(1&t&&(w.TgZ(0,"mat-hint",106),w._uU(1),w.qZA()),2&t){const t=w.oxw(2).index,e=w.oxw(2);w.xp6(1),w.hij("*",e.viewControls.errorInputs[t],"")}}function Mn(t,e){if(1&t){const t=w.EpF();w.TgZ(0,"div",102),w.TgZ(1,"mat-form-field",27),w.TgZ(2,"input",105),w.NdJ("ngModelChange",function(e){w.CHM(t);const n=w.oxw().index;return w.oxw(2)._selectedInputs[n]=e}),w.qZA(),w.YNc(3,Sn,2,1,"mat-hint",31),w.qZA(),w.qZA()}if(2&t){const t=w.oxw(),e=t.$implicit,n=t.index,i=w.oxw(2);w.xp6(2),w.Q6J("disabled",i.paramChecked)("placeholder",e.name)("ngModel",i._selectedInputs[n]),w.xp6(1),w.Q6J("ngIf",i.viewControls.errorInputs[n])}}function Yn(t,e){1&t&&(w.TgZ(0,"span"),w._uU(1," must equal to "),w.qZA())}function Ln(t,e){if(1&t&&(w.ynx(0),w._uU(1),w.BQk()),2&t){const t=w.oxw(3).$implicit;w.xp6(1),w.hij("[",t.tagMatchRule,"]")}}function On(t,e){if(1&t&&(w.ynx(0),w.YNc(1,Ln,2,1,"ng-container",17),w.TgZ(2,"span",109),w._uU(3),w.qZA(),w.BQk()),2&t){const t=e.$implicit,n=e.index,i=w.oxw(2).$implicit;w.xp6(1),w.Q6J("ngIf",n>0&&"all"!==i.tagMatchRule),w.xp6(2),w.hij(" ",t," ")}}function Fn(t,e){if(1&t&&(w.TgZ(0,"span",106),w._uU(1),w.qZA()),2&t){const t=w.oxw(2).index,e=w.oxw(2);w.xp6(1),w.hij("*",e.viewControls.errorInputs[t],"")}}function En(t,e){1&t&&(w.TgZ(0,"h4",106),w._uU(1,"No valid inputs. "),w._UZ(2,"br"),w.qZA())}function Dn(t,e){if(1&t){const t=w.EpF();w.TgZ(0,"datafile-card",111),w.NdJ("onFocused",function(e){w.CHM(t);const n=w.oxw(4).index;return w.oxw(2).onFocusedDataFile(e,n)}),w.qZA()}if(2&t){const t=w.oxw(2).$implicit,e=w.oxw(2).index,n=w.oxw(2);w.Q6J("role","checkBox")("checked",n._selectedInputs[e][t.id])("disabled",n.paramChecked)("dataFile",t)}}function Rn(t,e){if(1&t&&(w.ynx(0),w.YNc(1,Dn,1,4,"datafile-card",110),w.BQk()),2&t){const t=w.oxw().$implicit,e=w.oxw(2).index,n=w.oxw(2);w.xp6(1),w.Q6J("ngIf",!n._selectedDataFiles[e]||n._selectedInputs[e][t.id])}}function Bn(t,e){if(1&t&&(w.ynx(0),w.YNc(1,Rn,2,1,"ng-container",17),w.BQk()),2&t){const t=e.$implicit,n=w.oxw(4);w.xp6(1),w.Q6J("ngIf",!t.hidden||n.showIntermediateFile)}}function zn(t,e){if(1&t){const t=w.EpF();w.TgZ(0,"div",102),w.TgZ(1,"button",107),w.NdJ("click",function(){w.CHM(t);const e=w.oxw().$implicit;return w.oxw(2).uploadFileForArg(e)}),w._UZ(2,"i",108),w.qZA(),w.TgZ(3,"span"),w.TgZ(4,"b"),w._uU(5,"*required tag(s)"),w.qZA(),w._uU(6,": "),w.YNc(7,Yn,2,0,"span",17),w.YNc(8,On,4,2,"ng-container",98),w.qZA(),w.YNc(9,Fn,2,1,"span",31),w.qZA(),w.TgZ(10,"div",102),w.YNc(11,En,3,0,"h4",31),w.TgZ(12,"div",14),w.YNc(13,Bn,2,1,"ng-container",56),w.qZA(),w.qZA()}if(2&t){const t=w.oxw(),e=t.$implicit,n=t.index,i=w.oxw(2);w.xp6(7),w.Q6J("ngIf","all"===e.tagMatchRule),w.xp6(1),w.Q6J("ngForOf",e.tags),w.xp6(1),w.Q6J("ngIf",i.viewControls.errorInputs[n]),w.xp6(2),w.Q6J("ngIf",i.validInputs[n]&&0==i.validInputs[n].length),w.xp6(2),w.Q6J("ngForOf",i.validInputs[n])("ngForTrackBy",i.trackByDataFile)}}function $n(t,e){if(1&t&&(w.TgZ(0,"mat-option",114),w._uU(1),w.qZA()),2&t){const t=e.$implicit;w.Q6J("value",t),w.xp6(1),w.Oqu(t)}}function Hn(t,e){if(1&t&&(w.TgZ(0,"span",106),w._uU(1),w.qZA()),2&t){const t=w.oxw(3).index,e=w.oxw(2);w.xp6(1),w.hij("*",e.viewControls.errorInputs[t],"")}}function Wn(t,e){if(1&t){const t=w.EpF();w.TgZ(0,"div"),w.TgZ(1,"div",102),w.TgZ(2,"mat-form-field",27),w.TgZ(3,"mat-select",112),w.NdJ("ngModelChange",function(e){w.CHM(t);const n=w.oxw(2).index;return w.oxw(2)._selectedInputs[n]=e}),w.YNc(4,$n,2,2,"mat-option",113),w.qZA(),w.qZA(),w.YNc(5,Hn,2,1,"span",31),w.qZA(),w.qZA()}if(2&t){const t=w.oxw(2),e=t.index,n=t.$implicit,i=w.oxw(2);w.xp6(3),w.Q6J("ngModel",i._selectedInputs[e])("multiple",n.multiple)("disabled",i.paramChecked)("placeholder",n.name),w.xp6(1),w.Q6J("ngForOf",n.list),w.xp6(1),w.Q6J("ngIf",i.viewControls.errorInputs[e])}}function Vn(t,e){if(1&t&&(w.TgZ(0,"span",106),w._uU(1),w.qZA()),2&t){const t=w.oxw(4).index,e=w.oxw(2);w.xp6(1),w.hij("*",e.viewControls.errorInputs[t],"")}}function Kn(t,e){if(1&t&&(w.TgZ(0,"span",106),w._uU(1),w.qZA()),2&t){const t=w.oxw(5).index,e=w.oxw(2);w.xp6(1),w.hij("*",e.viewControls.errorInputs[t],"")}}function Gn(t,e){if(1&t&&(w.ynx(0),w.TgZ(1,"div",120),w._UZ(2,"input",121),w.YNc(3,Kn,2,1,"span",31),w.qZA(),w._UZ(4,"div",122),w.BQk()),2&t){const t=w.oxw(4).index,e=w.oxw(2);w.xp6(2),w.Q6J("disabled",e.paramChecked)("value",e._selectedInputs[t]?(null==e._selectedInputs[t]?null:e._selectedInputs[t].length)>5?e._selectedInputs[t].slice(0,5)+"... and "+((null==e._selectedInputs[t]?null:e._selectedInputs[t].length)-5)+" items":e._selectedInputs[t]:""),w.xp6(1),w.Q6J("ngIf",e.viewControls.errorInputs[t]),w.xp6(1),w.Q6J("hidden",e._selectedInputs[t])}}function Xn(t,e){if(1&t&&(w.TgZ(0,"mat-option",114),w._uU(1),w.qZA()),2&t){const t=e.$implicit;w.Q6J("value",t),w.xp6(1),w.Oqu(t)}}function ti(t,e){if(1&t){const t=w.EpF();w.TgZ(0,"mat-select",124),w.NdJ("ngModelChange",function(e){w.CHM(t);const n=w.oxw(5).index;return w.oxw(2)._selectedInputs[n]=e})("ngModelChange",function(e){w.CHM(t);const n=w.oxw(5).index,i=w.oxw(2);return i._selectedInputs[n]=e,i.viewControls.errorInputs[n]=void 0}),w.YNc(1,Xn,2,2,"mat-option",113),w.ALo(2,"slice"),w.qZA()}if(2&t){const t=w.oxw(5),e=t.$implicit,n=t.index,i=w.oxw(2);w.Q6J("multiple",e.multiple)("ngModel",i._selectedInputs[n])("disabled",i.paramChecked),w.xp6(1),w.Q6J("ngForOf",w.xi3(2,4,i._loadedDataFile[i._valueOfListData[n]][0],1))}}function ei(t,e){if(1&t&&(w.TgZ(0,"div"),w.YNc(1,ti,3,7,"mat-select",123),w._UZ(2,"br"),w._UZ(3,"br"),w.qZA()),2&t){const t=w.oxw(4).index,e=w.oxw(2);w.xp6(1),w.Q6J("ngIf",e._loadedDataFile[e._valueOfListData[t]])}}function ni(t,e){if(1&t){const t=w.EpF();w.TgZ(0,"div",116),w.TgZ(1,"button",117),w.NdJ("click",function(e){w.CHM(t);const n=w.oxw(3).index;return w.oxw(2).onGetList(e,n)}),w._uU(2," Loading list "),w._UZ(3,"i",118),w._UZ(4,"i",119),w.qZA(),w.YNc(5,Vn,2,1,"span",31),w.YNc(6,Gn,5,4,"ng-container",17),w.YNc(7,ei,4,1,"div",17),w.qZA()}if(2&t){const t=w.oxw(3),e=t.index,n=t.$implicit,i=w.oxw(2);w.xp6(1),w.ekj("text-muted",i.paramChecked),w.xp6(4),w.Q6J("ngIf",i.viewControls.errorInputs[e]),w.xp6(1),w.Q6J("ngIf",i._valueOfListData[e]&&(null==n?null:n.preview)),w.xp6(1),w.Q6J("ngIf",i._valueOfListData[e]&&!(null!=n&&n.preview))}}function ii(t,e){if(1&t&&(w.ynx(0),w.YNc(1,ni,8,5,"div",115),w.BQk()),2&t){const t=w.oxw(2).$implicit;w.xp6(1),w.Q6J("ngIf","argv"==t.dependOn.split(".")[0])}}function si(t,e){if(1&t&&(w.YNc(0,Wn,6,6,"div",17),w.YNc(1,ii,2,1,"ng-container",17)),2&t){const t=w.oxw().$implicit;w.Q6J("ngIf",t.list.length>0),w.xp6(1),w.Q6J("ngIf",0==(null==t||null==t.list?null:t.list.length))}}function ri(t,e){if(1&t&&(w.ynx(0),w.TgZ(1,"div",99),w.YNc(2,Qn,8,4,"div",100),w.YNc(3,Mn,4,4,"ng-template",101),w.YNc(4,zn,14,6,"ng-template",101),w.YNc(5,si,2,2,"ng-template",101),w.qZA(),w.BQk()),2&t){const t=e.$implicit,n=e.index,i=w.oxw(2);w.xp6(1),w.ekj("hasError",i.viewControls.errorInputs[n]&&"outFile"!==(null==t?null:t.type)),w.Q6J("ngSwitch",null==t?null:t.type),w.xp6(1),w.Q6J("ngIf","outFile"!==t.type&&"static"!==t.type),w.xp6(1),w.Q6J("ngSwitchCase","value"),w.xp6(1),w.Q6J("ngSwitchCase","inFile"),w.xp6(1),w.Q6J("ngSwitchCase","list")}}function oi(t,e){if(1&t){const t=w.EpF();w.TgZ(0,"button",93),w.NdJ("click",function(){return w.CHM(t),w.oxw(2).checkParams()}),w._uU(1,"Check my parameters "),w.qZA()}}function ai(t,e){if(1&t){const t=w.EpF();w.TgZ(0,"button",125),w.NdJ("click",function(){return w.CHM(t),w.oxw(2).paramChecked=!1}),w._uU(1,"Modify parameters "),w.qZA()}}function ci(t,e){if(1&t&&(w.TgZ(0,"div",15),w._UZ(1,"mat-divider",97),w.YNc(2,Pn,2,0,"span",17),w.YNc(3,ri,6,7,"ng-container",98),w._UZ(4,"mat-divider",97),w.YNc(5,oi,2,0,"button",35),w.YNc(6,ai,2,0,"button",36),w.qZA()),2&t){const t=w.oxw();w.xp6(2),w.Q6J("ngIf",0===(null==t.selectedTask||null==t.selectedTask.arguments?null:t.selectedTask.arguments.length)),w.xp6(1),w.Q6J("ngForOf",null==t.selectedTask?null:t.selectedTask.arguments),w.xp6(2),w.Q6J("ngIf",t.selectedTask&&!t.paramChecked),w.xp6(1),w.Q6J("ngIf",t.selectedTask&&t.paramChecked)}}function ui(t,e){if(1&t&&(w.TgZ(0,"mat-icon",43),w._uU(1,"looks_3"),w.qZA(),w.TgZ(2,"span"),w._uU(3," Result information "),w.qZA()),2&t){const t=w.oxw();w.ekj("text-primary",2==t.currentStep),w.xp6(2),w.ekj("text-primary",2==t.currentStep)}}function li(t,e){if(1&t&&(w.TgZ(0,"mat-hint",106),w._uU(1),w.qZA()),2&t){const t=w.oxw();w.xp6(1),w.Oqu(t.viewControls.errorName)}}function pi(t,e){if(1&t&&(w.TgZ(0,"mat-hint",106),w._uU(1),w.qZA()),2&t){const t=w.oxw();w.xp6(1),w.Oqu(t.viewControls.errorDesc)}}function gi(t,e){1&t&&(w.TgZ(0,"div",126),w.TgZ(1,"div",102),w.TgZ(2,"h2"),w._uU(3,"Setting output information"),w.qZA(),w.qZA(),w.qZA())}function di(t,e){if(1&t&&(w.TgZ(0,"span",106),w._uU(1),w.qZA()),2&t){const t=w.oxw(2).index,e=w.oxw();w.xp6(1),w.hij("*",null==e.viewControls.errorOutputs[t]?null:e.viewControls.errorOutputs[t].name,"")}}function hi(t,e){if(1&t&&(w.TgZ(0,"span",106),w._uU(1),w.qZA()),2&t){const t=w.oxw(2).index,e=w.oxw();w.xp6(1),w.hij("*",null==e.viewControls.errorOutputs[t]?null:e.viewControls.errorOutputs[t].desc,"")}}function fi(t,e){if(1&t){const t=w.EpF();w.TgZ(0,"div",128),w.TgZ(1,"div",102),w.TgZ(2,"h3"),w.TgZ(3,"b"),w._uU(4),w.qZA(),w.qZA(),w.TgZ(5,"span",104),w._uU(6),w.qZA(),w._UZ(7,"br"),w.qZA(),w.TgZ(8,"div",102),w.TgZ(9,"mat-form-field",27),w.TgZ(10,"input",129),w.NdJ("ngModelChange",function(e){w.CHM(t);const n=w.oxw().index;return w.oxw().resultInfo.outputs[n].name=e}),w.qZA(),w.TgZ(11,"span",29),w._uU(12),w.qZA(),w.TgZ(13,"span",30),w._uU(14),w.qZA(),w.qZA(),w.YNc(15,di,2,1,"span",31),w.qZA(),w.TgZ(16,"div",130),w.TgZ(17,"mat-form-field",27),w.TgZ(18,"textarea",131),w.NdJ("ngModelChange",function(e){w.CHM(t);const n=w.oxw().index;return w.oxw().resultInfo.outputs[n].desc=e}),w._uU(19),w.qZA(),w.qZA(),w.YNc(20,hi,2,1,"span",31),w._UZ(21,"br"),w.qZA(),w.qZA()}if(2&t){const t=w.oxw(),e=t.index,n=t.$implicit,i=w.oxw();w.ekj("hasError",(null==i.viewControls.errorOutputs[e]?null:i.viewControls.errorOutputs[e].name)||(null==i.viewControls.errorOutputs[e]?null:i.viewControls.errorOutputs[e].desc)),w.xp6(4),w.Oqu(null==n?null:n.name),w.xp6(2),w.hij("Output description: ",null==n?null:n.desc,""),w.xp6(4),w.Q6J("disabled",i.resultInfoChecked)("placeholder","The output name for"+n.name)("ngModel",i.resultInfo.outputs[e].name),w.xp6(2),w.Oqu(i.resultInfo.prefix),w.xp6(2),w.Oqu(i.resultInfo.suffix),w.xp6(1),w.Q6J("ngIf",null==i.viewControls.errorOutputs[e]?null:i.viewControls.errorOutputs[e].name),w.xp6(3),w.Q6J("disabled",i.resultInfoChecked)("ngModel",i.resultInfo.outputs[e].desc),w.xp6(1),w.Oqu(i.resultInfo.outputs[e].desc),w.xp6(1),w.Q6J("ngIf",null==i.viewControls.errorOutputs[e]?null:i.viewControls.errorOutputs[e].desc)}}function mi(t,e){if(1&t&&w.YNc(0,fi,22,14,"div",127),2&t){const t=e.$implicit;w.Q6J("ngIf","outFile"==(null==t?null:t.type))}}function Zi(t,e){if(1&t){const t=w.EpF();w.TgZ(0,"button",93),w.NdJ("click",function(){return w.CHM(t),w.oxw().checkResultInfo()}),w._uU(1,"Set the result information"),w.qZA()}}function xi(t,e){if(1&t){const t=w.EpF();w.TgZ(0,"button",125),w.NdJ("click",function(){return w.CHM(t),w.oxw().resultInfoChecked=!1}),w._uU(1,"Modify info "),w.qZA()}}function vi(t,e){if(1&t&&(w.TgZ(0,"mat-icon",43),w._uU(1,"looks_4"),w.qZA(),w.TgZ(2,"span"),w._uU(3," Confirm and submit "),w.qZA()),2&t){const t=w.oxw();w.ekj("text-primary",3===t.currentStep),w.xp6(2),w.ekj("text-primary",3===t.currentStep)}}function Ti(t,e){if(1&t&&w._UZ(0,"bdp-result-describer",132),2&t){const t=w.oxw();w.Q6J("currentTask",t.selectedTask)("currentProject",t.currentProject)("resultInfo",t.resultInfo)("selectedInputs",t._selectedInputs)("validInputs",t.validInputs)}}function ki(t,e){1&t&&(w.TgZ(0,"span"),w._uU(1,"Save and Run"),w.qZA())}function bi(t,e){1&t&&(w.TgZ(0,"span"),w._UZ(1,"i",133),w._uU(2," Submitting ... "),w.qZA())}const wi=function(){return["/home"]},qi=function(){return["/project/list"]};let yi=(()=>{class t{constructor(t,e,n,i,s,r,o,a,c,u){this.router=t,this.route=e,this.projectService=n,this.systemService=i,this.userService=s,this.dataService=r,this.taskService=o,this.dialogRef=a,this.animateScrollService=c,this.breakpointObserver=u,this.currentPackageStore={},this.currentStep=0,this.paramChecked=!1,this.resultInfoChecked=!1,this.taskList={},this.taskListView={},this.taskKey2name={},this.packageKeys=[],this.showWorkflow=!1,this.allTasksInPkg={},this.currentScrollTop=0,this.resultInfo={name:"",desc:"",prefix:"",suffix:"",outputs:[]},this.loadedTasks={},this.validInputs=[],this._selectedInputs=[],this._selectedDataFiles=[],this.viewControls={isLoadingInputs:!1,isSubmitted:!1,isSubmitting:!1,isError:!1,errorInputs:[],errorOutputs:[],errorName:null,errorDesc:null,workflowErrors:[],workflowWarnings:[]},this.projectID=this.route.snapshot.params.pid,this._valueOfListData=[],this.timeStamp="",this.taskViewType="all",this.showIntermediateFile=!1,this.allTasks=[],this.masonryOptions={percentPosition:!0,gutter:0,resize:!0,horizontalOrder:!0,itemSelector:".masonry-item",initLayout:!0,animations:{show:[(0,q.oB)({opacity:0}),(0,q.jt)("200ms ease-in",(0,q.oB)({opacity:1}))],hide:[(0,q.oB)({opacity:"*"}),(0,q.jt)("200ms ease-in",(0,q.oB)({opacity:0}))]}},this.masonryItemWidth="33.33%",this._loadedDataFile={},this._subs=[]}ngOnInit(){this.systemService.toggleNavbar(!0),this.systemService.toggleSidebar(!0),this.systemService.maintainRightSidebarStatus(),this._subs.push(this.projectService.currentProject$.subscribe(t=>{if(this.currentProject=t,this.currentProject){this.currentProject.privilege.canRun||this.router.navigate(["/project",this.currentProject.id,"info"]);const t=this.currentProject.packages;t.forEach(t=>{this.currentPackageStore[t.id]=t}),t.length>0?this.taskService.loadTasks(t.map(t=>t.id),!1,!0):this.taskService.loadTasks()}})),this._subs.push(this.systemService.sysInfo$.subscribe(t=>this.sysConfig=t)),this._subs.push(this.userService.currentUser$.subscribe(t=>this.currentUser=t)),this._subs.push(this.taskService.taskList$.subscribe(t=>{if(t&&t.length>0){this.taskList={},this.allTasksInPkg={},this.allTasks=t;for(const e of t){const t=this.currentPackageStore[e.package];if(!t)continue;const n=t.sheetID+t.fullname;this.taskKey2name[n]=`${t.fullname} from `+(t.sheetName||"Internal Package List"),this.taskList[n]||(this.taskList[n]=[]),this.allTasksInPkg[e.id]=e,this.taskList[n].push(e)}this.packageKeys=this.currentProject&&Array.isArray(this.currentProject.packages)?this.currentProject.packages.map(t=>t.sheetID+t.fullname):Object.keys(this.taskKey2name),setTimeout(()=>{this.changeTaskViewFilter(this.taskViewType)},400)}})),this._subs.push(this.taskService.taskValidInputs$.subscribe(t=>this.onValidInputChanged(t))),this._subs.push(this.dataService.incomingData$.subscribe(t=>{if("colnames"===t.viewType||"rownames"===t.viewType||"table"===t.viewType){const e=t.id+t.viewType+t.isPreview;this._loadedDataFile[e]||(this._loadedDataFile[e]={}),this._loadedDataFile[e]=t.data}})),this._subs.push(this.taskService.incomingTaskChange$.subscribe(t=>{const e=t.type,n=t.data;if(!this.currentProject)return;const i=this.currentProject.packages.filter(t=>t.id===n.package)[0];if(!i)return;const s=this.taskList[i.sheetID+i.fullname];if(Array.isArray(s)){if("update"===e||"delete"===e){this.allTasksInPkg[n.id]=n;for(let t=0;t<s.length;t++)if(n.id===s[t].id){"update"===e?s.splice(t,1,n):s.splice(t,1);break}}else"insert"===e&&s.push(n);console.log("Trigger chageTaskViewFilter by incomingTaskChange$"),this.changeTaskViewFilter(this.taskViewType,!0)}})),this.projectService.setCurrentProject(this.projectID);const t=["(max-width: 576px)","(min-width: 576px)","(min-width: 768px)","(min-width: 992px)","(min-width: 1200px)","(min-width: 1600px)"];this.breakpointObserver.observe(t).subscribe(e=>{const n=t.filter(t=>e.breakpoints[t]);switch(n[n.length-1]){case"(max-width: 576px)":case"(min-width: 576px)":this.masonryItemWidth="100%";break;case"(min-width: 768px)":this.masonryItemWidth="50%";break;case"(min-width: 992px)":case"(min-width: 1200px)":this.masonryItemWidth="33.33%";break;case"(min-width: 1600px)":this.masonryItemWidth="25%"}}),this.scrollParent=$(".mainContent").get(0)}get outputNumber(){return this.selectedTask?this.selectedTask.arguments.filter(t=>"outFile"===t.type).length:0}changeTaskViewFilter(t,e){t=t||"all";for(const n of this.packageKeys)this.taskListView[n]=(0,H.X)(Array.isArray(this.taskList[n])?this.taskList[n].filter(e=>"all"===t||e.type===t):[],[t=>t.name],["asc"]);this.taskViewType=t,setTimeout(()=>{!this.masonry||(e&&this.masonry.map(t=>t.reloadItems()),setTimeout(()=>this.masonry&&this.masonry.forEach(t=>t.layout()),200))},400)}getTaskByMap(t){const e=this.taskService.getTaskByMap(t).subscribe(n=>{e.unsubscribe(),n.isError&&this.viewControls.workflowErrors.push(`This task requires the task key ${t.key} of package ${t.pkg}.`);const i=n.success;i.packageModel&&i.packageModel.id?(this.currentProject&&this.currentProject.packages.map(t=>t.id).indexOf(i.packageModel.id)<0&&this.viewControls.workflowWarnings.push(`A children task '${i.name}' belong to the package '${i.packageModel.name}'which is not selected for the current Project.`),this.loadedTasks[i.packageModel.id]||(this.loadedTasks[i.packageModel.id]={}),this.loadedTasks[i.packageModel.id][i.id]=i,t.id=i.id,t.key=i.key,t.version=i.packageModel.version,t.pkg=i.packageModel.name,t.pkgid=i.packageModel.id):this.viewControls.workflowErrors.push(`This workflow may be configured incorrectedly. The package of the task ${i.name} does not exist.`)})}onSelectTask(t){if(!this.selectedTask||this.selectedTask.id!==t.id){if(this.selectedTask=t,this._selectedInputs.length=0,this._selectedDataFiles.length=0,this.timeStamp=xe().format("YYYYMMDD.HHmmss.SSS"),this.resultInfo.name="Result from "+t.name,this.resultInfo.desc="",this.resultInfo.outputs.length=0,this.resultInfoChecked=!1,this.paramChecked=!1,this.previousSelectedTask=void 0,this.currentProject){if(this.viewControls.isLoadingInputs=!0,t&&"workflow"===t.type){const e=t.mapper;this.viewControls.workflowErrors=[],this.viewControls.workflowWarnings=[];for(let n=0;n<e.length;n++)for(let i=0;i<e[n].length;i++){const s=e[n][i];s.pkgid&&s.pkgid!==t.package&&this.getTaskByMap(s)}}this.taskService.getValidInputFile(t.id,this.currentProject.id);for(let t=0;t<this.selectedTask.arguments.length;t++){const e=this.selectedTask.arguments[t];"list"===e.type?this._selectedInputs[t]=e.default&&void 0!==e.default[0]?e.multiple?e.default:e.default[0]:[]:"value"===e.type?this._selectedInputs[t]=e.default&&void 0!==e.default[0]?e.default[0]:void 0:"outFile"===e.type&&(this.resultInfo.outputs[t]={name:e.name,desc:""})}}this.scrollParent&&(this.currentScrollTop=this.scrollParent.scrollTop),setTimeout(()=>{this.masonry&&(this.masonry.map(t=>t.reloadItems()),setTimeout(()=>this.masonry&&this.masonry.map(t=>t.layout()),100))},10)}}masonryRelayout(){this.masonry&&this.masonry.map(t=>t.layout())}onTaskReloadBtnClick(){this.currentProject&&this.currentProject.packages&&this.taskService.loadTasks(this.currentProject.packages.map(t=>t.id),!1,!0)}onTaskBlur(t){t.stopPropagation(),this.viewControls.workflowErrors=[],this.viewControls.workflowWarnings=[],this.previousSelectedTask=this.selectedTask,this.selectedTask=void 0,this.paramChecked=!1,this.resultInfoChecked=!1,this.currentStep=0,setTimeout(()=>{this.masonry&&this.masonry.map(t=>t.layout()),setTimeout(()=>{this.animateScrollService.animateScrollTop(this.scrollParent,this.currentScrollTop,.5)},100)},10)}onGetList(t,e){if(this.paramChecked||!this.selectedTask)return;const n=this.selectedTask.arguments[e];if(this._selectedInputs[e]=void 0,this.viewControls.errorInputs=[],"list"===n.type){const t=n.dependOn.split(".");if("argv"===t[0]){let i;const s=this._selectedInputs[+t[1]];for(const t in s)if(s[t]){i=t;break}if(i){const t=n.listType.split(".");"table"===t[0]&&this.dataService.getData(i,t[1],n.preview),this._valueOfListData[e]=i+t[1]+n.preview}else this.viewControls.errorInputs[+t[1]]="Please set this input first."}}}onFocusedDataFile(t,e){if(!this.paramChecked&&this.selectedTask){for(const n in this._selectedInputs[e])this._selectedInputs[e][n]=n===t.id&&!this._selectedInputs[e][n];this._selectedDataFiles[e]=Object.values(this._selectedInputs[e]).filter(t=>t).length>0,this.viewControls.errorInputs=[];for(let t=0;t<this.selectedTask.arguments.length;t++){const n=this.selectedTask.arguments[t];"list"===n.type&&n.dependOn==="argv."+e&&(this._selectedInputs[t]=void 0,this._valueOfListData[t]=void 0)}}}trackByDataFile(t,e){return e.id}trackTasks(t,e){return e.package+":"+e.id}checkParams(){let t=!1;this.viewControls.errorInputs=[];const e=[];if(this.paramChecked=!1,this.selectedTask){for(let n=0;n<this.selectedTask.arguments.length;n++){const i=this.selectedTask.arguments[n];if("outFile"!==i.type){if("inFile"===i.type)for(const t in this._selectedInputs[n])this._selectedInputs[n][t]&&(e[n]=t);else"value"===i.type?"number"===i.format&&isNaN(parseFloat(this._selectedInputs[n]))?this.viewControls.errorInputs[n]="Only numbers are accepted.":e[n]=this._selectedInputs[n]:"list"===i.type?this._selectedInputs[n]&&(e[n]=this._selectedInputs[n],Array.isArray(e[n])||(e[n]=[e[n]])):"static"===i.type&&(i.default[0]||(i.default=[" "]),e[n]=i.default[0]);void 0!==this.viewControls.errorInputs[n]?t=!0:!i.optional&&(!e[n]||0===e[n].length)&&(t=!0,this.viewControls.errorInputs[n]="Please set this argument")}}t?(this.paramChecked=!1,this.currentStep=1):(this.paramChecked=!0,this.currentStep=2)}}onTimeStampChange(t){this.resultInfo.prefix=t.checked?"["+this.timeStamp+"] ":""}checkResultInfo(){let t=!1;this.resultInfo.prefix=this.resultInfo.prefix.replace(/^\ +/,"").replace(/\ +$/," "),this.resultInfo.suffix=this.resultInfo.suffix.replace(/^\ +/," ").replace(/\ +$/,""),this.resultInfo.prefix.length>36?(this.viewControls.errorName="The length of the prefix should be less than or equal to 36 characters.",t=!0):this.resultInfo.suffix.length>36?(this.viewControls.errorName="The length of the suffix should be less than or equal to 36 characters.",t=!0):this.viewControls.errorName=null,this.resultInfo.desc.length>500?(this.viewControls.errorDesc="The max length of the description is 500 characters.",t=!0):this.viewControls.errorDesc=null,t||(this.resultInfoChecked=!0,this.currentStep=4)}performTask(){if(!this.selectedTask||!this.currentProject)return;const t=[],e=[];let n=!1;this.viewControls.errorInputs=[],this.resultInfo.name.length>160?(this.viewControls.errorName="The length of the name should be less than or equal to 160 characters.",n=!0):this.viewControls.errorName=null,this.resultInfo.desc.length>500?(this.viewControls.errorDesc="The max length of the description is 500 characters.",n=!0):this.viewControls.errorDesc=null;for(let i=0;i<this.selectedTask.arguments.length;i++){const s=this.selectedTask.arguments[i];if("outFile"!==s.type){if("inFile"===s.type)for(const e in this._selectedInputs[i])this._selectedInputs[i][e]&&(t[i]=e);else"value"===s.type?"number"===s.format&&isNaN(parseFloat(this._selectedInputs[i]))?this.viewControls.errorInputs[i]="Only numbers are accepted.":t[i]=this._selectedInputs[i]:"list"===s.type?this._selectedInputs[i]&&(t[i]=this._selectedInputs[i],Array.isArray(t[i])||(t[i]=[t[i]])):"static"===s.type&&(s.default[0]||(s.default=[" "]),t[i]=s.default[0]);void 0!==this.viewControls.errorInputs[i]?n=!0:!s.optional&&(!t[i]||0===t[i].length)&&(n=!0,this.viewControls.errorInputs[i]="Please set this input")}else{const t={name:void 0,desc:void 0};this.resultInfo.outputs[i].name.length>160&&(t.name="The name length exceeds 160 characters. Please shorten the name."),this.resultInfo.outputs[i].desc.length>500&&(t.desc="The description exceeds 500 characters. Please shorten the description."),t.name||t.desc?(this.viewControls.errorOutputs[i]=t,n=!0):e[i]={name:this.resultInfo.outputs[i].name,desc:this.resultInfo.outputs[i].desc}}}if(n)window.location.hash="settingParameters";else{const n=e.filter(t=>t),i={run:!0,projectID:this.currentProject.id,inputs:t,outputs:n,name:this.resultInfo.name,desc:this.resultInfo.desc,prefix:this.resultInfo.prefix,suffix:this.resultInfo.suffix};this.viewControls.isSubmitting=!0,this.projectService.createResult(this.selectedTask.id,i).subscribe(t=>{if(!t.isError){const e=t.success;setTimeout(()=>this.router.navigate(["/result",e.id,"info"]),300)}})}}reset(){this.viewControls.isSubmitted=!1,this.viewControls.isSubmitting=!1,this.viewControls.isError=!1,this.selectedTask=void 0}hasTag(t,e,n){let i=0;for(let r=0;r<t.length;r++)for(let n=0;n<e.length;n++)t[r]===e[n]&&i++;let s=!1;return("any"===n&&i>0||"all"===n&&i===t.length)&&(s=!0),s}uploadFileForArg(t){this.selectedTask&&this.currentProject&&this.dialogRef.open($t.s,{width:"99%",height:"95%",maxWidth:"95vw",maxHeight:"95vh",data:{title:`Importing file(s) for the argument <u>${t.name}</u> of the task <u>${this.selectedTask.name}</u>.`,allowedFormats:[t.format],project:this.currentProject,sysConfig:this.sysConfig,tasks:this.allTasks,importType:"Folder"===t.format?"folder":"local",currentUser:this.currentUser,tags:t.tags}}).afterClosed().subscribe(()=>{!this.selectedTask||!this.currentProject||this.taskService.getValidInputFile(this.selectedTask.id,this.currentProject.id)})}ngOnDestroy(){this._subs.map(t=>t.unsubscribe())}onValidInputChanged(t){this.viewControls.isLoadingInputs=!1,this.validInputs.length=0,this.viewControls.errorInputs=[];for(let e=0;e<t.length;e++){const n=t[e];this.validInputs[n.index]=n.models,this._selectedInputs[n.index]||(this._selectedInputs[n.index]={});const i=Object.keys(this._selectedInputs[n.index]),s=n.models.map(t=>t.id);for(let t=0;t<i.length;t++){const e=i[t];s.indexOf(e)<0&&delete this._selectedInputs[n.index][e]}for(let t=0;t<n.models.length;t++)this._selectedInputs[n.index][n.models[t].id]=!!this._selectedInputs[n.index][n.models[t].id]}}}return t.\u0275fac=function(e){return new(e||t)(w.Y36(P.F0),w.Y36(P.gz),w.Y36(W.Y),w.Y36(K.o),w.Y36(G.B),w.Y36(ve.D),w.Y36(V.M),w.Y36(C.uw),w.Y36(Te.h),w.Y36(ke.Yg))},t.\u0275cmp=w.Xpm({type:t,selectors:[["result-create"]],viewQuery:function(t,e){if(1&t&&w.Gf(I,5),2&t){let t;w.iGM(t=w.CRH())&&(e.masonry=t)}},decls:93,vars:42,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],["class","breadcrumb-item",4,"ngIf"],["class","breadcrumb-item active",4,"ngIf"],[1,"bdp-main-container"],[1,"chi-header"],[1,"container-fluid"],["animationDuration","150ms",3,"dynamicHeight","selectedIndex","selectedIndexChange"],["mat-tab-label",""],[1,"p-1"],["class","row",4,"ngIf"],["class","row",4,"ngFor","ngForOf"],[3,"disabled"],[1,"row"],[1,"col-12"],["mat-raised-button","",3,"click"],[4,"ngIf"],["class","col-12",4,"ngIf"],[1,"ms-5"],[3,"disabled","change"],["useTimeStamp",""],[1,"ms-3"],["matInput","","placeholder","Prefix",3,"disabled","ngModel","ngModelChange"],["matInput","","placeholder","Suffix",3,"disabled","ngModel","ngModelChange"],[1,"col-md-2"],[1,"col-md-10"],[2,"width","100%"],["matInput","","type","text","maxlength","160","size","160",3,"disabled","ngModel","placeholder","ngModelChange"],["matPrefix",""],["matSuffix",""],["class","text-danger",4,"ngIf"],["matInput","","maxlength","500","rows","4","placeholder","(Optional) Give some descriptions about this result",3,"disabled","ngModel","ngModelChange"],["class","row mt-3",4,"ngIf"],["ngFor","",3,"ngForOf"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],[3,"currentTask","currentProject","resultInfo","selectedInputs","validInputs",4,"ngIf"],["resultOK",""],["mat-raised-button","","color","accent","role","button",1,"btn","btn-primary",3,"disabled","click"],[1,"breadcrumb-item","active"],["target","_blank",3,"routerLink"],[1,"fas","fa-external-link-alt","ms-3"],[1,"me-2"],["name","fontStyle","aria-label","Font Style",3,"ngModel","ngModelChange"],["value","all"],["value","standard"],[1,"fas","fa-cog","fa-fx"],["value","workflow"],[1,"fas","fa-cogs","fa-fx"],["value","system"],[1,"fas","fa-server","fa-fx"],[3,"click"],[1,"fas","fa-sync-alt","fa-fx"],["class","col-12 text-primary","style","font-size: 36px;",4,"ngIf"],[2,"width","100%",3,"options","ordered"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","col-12 my-2",4,"ngIf"],[1,"col-12","text-primary",2,"font-size","36px"],[1,"fas","fa-cube","fa-fw","me-2"],["ngxMasonryItem","","class","masonry-item","style","opacity: 0;",3,"width","display",4,"ngIf"],["ngxMasonryItem","",1,"masonry-item",2,"opacity","0"],[2,"margin","5px",3,"click"],["masonryLazy","","loading","lazy","mat-card-avatar","",3,"src",4,"ngIf"],["class","fas fa-cogs fa-lg fa-fw",4,"ngIf"],["class","fas fa-cog fa-lg fa-fw",4,"ngIf"],["class","fas fa-puzzle-piece fa-lg fa-fw",4,"ngIf"],["class","fas fa-server fa-lg fa-fw",4,"ngIf"],[1,"fas","fa-cube","me-2"],["style","min-height: 300px; display: flex; justify-content: center; flex-direction: column; padding: 0 10px;",4,"ngIf"],["style","height: 100px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;","class","px-5",3,"innerHTML",4,"ngIf"],["mat-button","",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["masonryLazy","","loading","lazy","mat-card-avatar","",3,"src"],[1,"fas","fa-cogs","fa-lg","fa-fw"],[1,"fas","fa-cog","fa-lg","fa-fw"],[1,"fas","fa-puzzle-piece","fa-lg","fa-fw"],[1,"fas","fa-server","fa-lg","fa-fw"],[2,"min-height","300px","display","flex","justify-content","center","flex-direction","column","padding","0 10px"],["masonryLazy","","loading","lazy","mat-card-image","",1,"align-self-center",2,"max-height","300px","max-width","400px",3,"src"],[1,"px-5",2,"height","100px","white-space","nowrap","overflow","hidden","text-overflow","ellipsis",3,"innerHTML"],[3,"innerHTML"],["role","list",4,"ngIf"],["style","width: 100%;",3,"taskMapper","childTasks","additionalTasks","taskArgs","taskStepNames",4,"ngIf"],["style","font-size: 14px;",4,"ngIf"],[2,"font-size","14px"],["role","list"],["role","listitem","class","text-warning",4,"ngFor","ngForOf"],["role","listitem",1,"text-warning"],["role","listitem","class","text-danger",4,"ngFor","ngForOf"],["role","listitem",1,"text-danger"],[2,"width","100%",3,"taskMapper","childTasks","additionalTasks","taskArgs","taskStepNames"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"],[1,"fas","fa-project-diagram"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"col-12","my-2"],[1,"my-4"],[4,"ngFor","ngForOf"],[1,"row","pb-2","mb-4",3,"ngSwitch"],["class","col-md-12",4,"ngIf"],[3,"ngSwitchCase"],[1,"col-md-12"],["class","text-muted",4,"ngIf"],[1,"text-muted"],["matInput","","type","text",3,"disabled","placeholder","ngModel","ngModelChange"],[1,"text-danger"],["mat-icon-button","",3,"click"],[1,"fas","fa-upload","fa-fw","fa-lg"],[1,"badge","bg-primary","m-1"],["class","col-xl-4 col-lg-6 my-2",3,"role","checked","disabled","dataFile","onFocused",4,"ngIf"],[1,"col-xl-4","col-lg-6","my-2",3,"role","checked","disabled","dataFile","onFocused"],[3,"ngModel","multiple","disabled","placeholder","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["class","col-12 p-2 m-2","style","padding:0px 10px;",4,"ngIf"],[1,"col-12","p-2","m-2",2,"padding","0px 10px"],["mat-button","","color","primary",1,"mb-3",2,"cursor","pointer",3,"click"],[1,"fa","fa-table"],[1,"fa","fa-caret-down","ms-2"],[1,"input-group"],["type","text","placeholder","No data selected.","readonly","",1,"form-control",3,"disabled","value"],[3,"hidden"],["style","width: 100%;","placeholder","Click to select the data","size","8",3,"multiple","ngModel","disabled","ngModelChange",4,"ngIf"],["placeholder","Click to select the data","size","8",2,"width","100%",3,"multiple","ngModel","disabled","ngModelChange"],["mat-raised-button","","color","warn",3,"click"],[1,"row","mt-3"],["class","row my-2",3,"hasError",4,"ngIf"],[1,"row","my-2"],["matInput","","type","text","maxlength","160","size","160",3,"disabled","placeholder","ngModel","ngModelChange"],[1,"col-md-12","mb-5"],["matInput","","maxlength","500","rows","4","placeholder","(Optional) Give some descriptions about this output.",3,"disabled","ngModel","ngModelChange"],[3,"currentTask","currentProject","resultInfo","selectedInputs","validInputs"],[1,"fas","fa-circle-o-notch","fa-spin","fa-lg","fa-fw","me-3"]],template:function(t,e){if(1&t&&(w.TgZ(0,"ol",0),w.TgZ(1,"li",1),w.TgZ(2,"a",2),w._uU(3,"Home"),w.qZA(),w.qZA(),w.TgZ(4,"li",1),w.TgZ(5,"a",2),w._uU(6,"Project List"),w.qZA(),w.qZA(),w.YNc(7,$e,4,4,"li",3),w.YNc(8,He,2,0,"li",3),w.YNc(9,Ve,5,6,"li",4),w.YNc(10,Ke,2,0,"li",4),w.qZA(),w.TgZ(11,"div",5),w.TgZ(12,"h4",6),w._uU(13,"Let's perform a task"),w.qZA(),w._UZ(14,"br"),w._UZ(15,"br"),w.TgZ(16,"div",7),w.TgZ(17,"mat-tab-group",8),w.NdJ("selectedIndexChange",function(t){return e.currentStep=t}),w.TgZ(18,"mat-tab"),w.YNc(19,Ge,4,4,"ng-template",9),w.TgZ(20,"div",10),w.TgZ(21,"h2"),w._uU(22,"Step 1. Choose a task"),w.qZA(),w.YNc(23,Xe,13,1,"div",11),w.YNc(24,An,6,6,"div",12),w.qZA(),w.qZA(),w.TgZ(25,"mat-tab",13),w.YNc(26,In,4,4,"ng-template",9),w.TgZ(27,"h2"),w._uU(28,"2. Set parameters"),w.qZA(),w.YNc(29,Un,9,2,"div",11),w.TgZ(30,"div",14),w.TgZ(31,"div",15),w.TgZ(32,"button",16),w.NdJ("click",function(){return e.showIntermediateFile=!e.showIntermediateFile}),w._uU(33,"Toggle intermediate output files"),w.qZA(),w.qZA(),w.qZA(),w.TgZ(34,"div",14),w.YNc(35,jn,2,0,"div",17),w.YNc(36,ci,7,4,"div",18),w.qZA(),w.qZA(),w.TgZ(37,"mat-tab",13),w.YNc(38,ui,4,4,"ng-template",9),w.TgZ(39,"h2"),w._uU(40,"Step 3. Set result information"),w.qZA(),w._UZ(41,"br"),w.TgZ(42,"div",14),w.TgZ(43,"div",15),w.TgZ(44,"h3"),w._uU(45,"Result prefix/suffix:"),w.qZA(),w.TgZ(46,"div",19),w.TgZ(47,"mat-checkbox",20,21),w.NdJ("change",function(t){return e.onTimeStampChange(t)}),w._uU(49,"Time stamp"),w.qZA(),w.TgZ(50,"mat-form-field",22),w.TgZ(51,"input",23),w.NdJ("ngModelChange",function(t){return e.resultInfo.prefix=t}),w.qZA(),w.qZA(),w.TgZ(52,"mat-form-field",22),w.TgZ(53,"input",24),w.NdJ("ngModelChange",function(t){return e.resultInfo.suffix=t}),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.TgZ(54,"div",14),w.TgZ(55,"div",25),w.TgZ(56,"h3"),w._uU(57,"Name"),w.qZA(),w.qZA(),w.TgZ(58,"div",26),w.TgZ(59,"mat-form-field",27),w.TgZ(60,"input",28),w.NdJ("ngModelChange",function(t){return e.resultInfo.name=t}),w.qZA(),w.TgZ(61,"span",29),w._uU(62),w.qZA(),w.TgZ(63,"span",30),w._uU(64),w.qZA(),w.YNc(65,li,2,1,"mat-hint",31),w.qZA(),w.qZA(),w.qZA(),w.TgZ(66,"div",14),w.TgZ(67,"div",25),w.TgZ(68,"h3"),w._uU(69,"Description"),w.qZA(),w.qZA(),w.TgZ(70,"div",26),w.TgZ(71,"mat-form-field",27),w.TgZ(72,"textarea",32),w.NdJ("ngModelChange",function(t){return e.resultInfo.desc=t}),w._uU(73),w.qZA(),w.YNc(74,pi,2,1,"mat-hint",31),w.qZA(),w.qZA(),w.qZA(),w.YNc(75,gi,4,0,"div",33),w.YNc(76,mi,1,1,"ng-template",34),w.YNc(77,Zi,2,0,"button",35),w.YNc(78,xi,2,0,"button",36),w.qZA(),w.TgZ(79,"mat-tab",13),w.YNc(80,vi,4,4,"ng-template",9),w.TgZ(81,"h2"),w._uU(82,"Step 4. Confirm and submit"),w.qZA(),w.YNc(83,Ti,1,5,"bdp-result-describer",37),w._UZ(84,"hr"),w._UZ(85,"br"),w.TgZ(86,"mat-checkbox",null,38),w._uU(88,"I have checked my result settings."),w.qZA(),w._UZ(89,"br"),w.TgZ(90,"button",39),w.NdJ("click",function(){return e.performTask()}),w.YNc(91,ki,2,0,"span",17),w.YNc(92,bi,3,0,"span",17),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA()),2&t){const t=w.MAs(48),n=w.MAs(87);w.xp6(2),w.Q6J("routerLink",w.DdM(40,wi)),w.xp6(3),w.Q6J("routerLink",w.DdM(41,qi)),w.xp6(2),w.Q6J("ngIf",e.currentProject),w.xp6(1),w.Q6J("ngIf",!e.currentProject),w.xp6(1),w.Q6J("ngIf",e.currentProject),w.xp6(1),w.Q6J("ngIf",!e.currentProject),w.xp6(7),w.Q6J("dynamicHeight",!0)("selectedIndex",e.currentStep),w.xp6(6),w.Q6J("ngIf",!e.selectedTask),w.xp6(1),w.Q6J("ngForOf",e.packageKeys),w.xp6(1),w.Q6J("disabled",!e.selectedTask),w.xp6(4),w.Q6J("ngIf",e.selectedTask),w.xp6(6),w.Q6J("ngIf",e.viewControls.isLoadingInputs),w.xp6(1),w.Q6J("ngIf",!e.viewControls.isLoadingInputs),w.xp6(1),w.Q6J("disabled",!e.selectedTask||!e.paramChecked),w.xp6(10),w.Q6J("disabled",e.resultInfoChecked),w.xp6(4),w.Q6J("disabled",e.resultInfoChecked)("ngModel",e.resultInfo.prefix)("disabled",t.checked),w.xp6(2),w.Q6J("disabled",e.resultInfoChecked)("ngModel",e.resultInfo.suffix),w.xp6(7),w.MGl("placeholder","Result of ",null==e.selectedTask?null:e.selectedTask.name,""),w.Q6J("disabled",e.resultInfoChecked)("ngModel",e.resultInfo.name),w.xp6(2),w.Oqu(e.resultInfo.prefix),w.xp6(2),w.Oqu(e.resultInfo.suffix),w.xp6(1),w.Q6J("ngIf",e.viewControls.errorName),w.xp6(7),w.Q6J("disabled",e.resultInfoChecked)("ngModel",e.resultInfo.desc),w.xp6(1),w.Oqu(e.resultInfo.desc),w.xp6(1),w.Q6J("ngIf",e.viewControls.errorDesc),w.xp6(1),w.Q6J("ngIf",e.outputNumber>0),w.xp6(1),w.Q6J("ngForOf",null==e.selectedTask?null:e.selectedTask.arguments),w.xp6(1),w.Q6J("ngIf",e.selectedTask&&!e.resultInfoChecked),w.xp6(1),w.Q6J("ngIf",e.selectedTask&&e.resultInfoChecked),w.xp6(1),w.Q6J("disabled",!e.selectedTask||!e.paramChecked||!e.resultInfoChecked),w.xp6(4),w.Q6J("ngIf",e.paramChecked&&e.resultInfoChecked),w.xp6(7),w.Q6J("disabled",!n.checked||e.viewControls.isSubmitting),w.xp6(1),w.Q6J("ngIf",!e.viewControls.isSubmitting),w.xp6(1),w.Q6J("ngIf",e.viewControls.isSubmitting)}},directives:[P.yS,i.O5,Z.SP,Z.uX,Z.uD,i.sg,o.lW,u.oG,J.KE,d.Nt,s.Fj,s.JJ,s.On,s.nD,J.qo,J.R9,g.Hw,a.A9,a.Yi,I,U,c.a8,c.dk,c.n5,c.$j,c.dn,c.hq,c.kc,c.G2,v.i$,v.Tg,be.t,x.d,i.RF,i.n9,J.bx,we.A,f.gD,N.ey,Re],pipes:[i.OU],styles:["fieldset[_ngcontent-%COMP%]{border:1px solid gray;padding:10px 15px}legend[_ngcontent-%COMP%]{width:auto;margin-bottom:0}.hasError[_ngcontent-%COMP%]{border:1px solid red;background-color:#e7c3c34d}.link[_ngcontent-%COMP%]:hover{background-color:#0000ff1a}.mat-tab-label[_ngcontent-%COMP%]{opacity:1!important}.masonry-item[_ngcontent-%COMP%]{float:left;height:auto}.task-previous-select[_ngcontent-%COMP%]{background-color:#fcf4d9}.task-card[_ngcontent-%COMP%]:hover{box-shadow:0 14px 28px #00000040,0 10px 10px #00000038;background-color:#fff3cd}.masonry-item[_ngcontent-%COMP%]{transition:top .1s ease-in-out,left .1s ease-in-out;transition-delay:0s}"]}),t})();var _i=n(19918),Ai=n(75319),Ii=n(25917),Ui=n(43190);function ji(t,e){1&t&&(w.TgZ(0,"h3",12),w._uU(1,"My projects"),w.qZA())}function Pi(t,e){1&t&&(w.TgZ(0,"h3",12),w._uU(1,"Projects that shared with me"),w.qZA())}function Ci(t,e){1&t&&(w.TgZ(0,"h3",12),w._uU(1,"Public projects"),w.qZA())}function Ji(t,e){1&t&&(w.TgZ(0,"h1",15),w._uU(1,"One more step to proceed."),w.qZA())}function Ni(t,e){1&t&&(w.TgZ(0,"h2"),w._uU(1,"Please wait the administrator to unlock your privileges."),w.qZA())}function Qi(t,e){1&t&&(w.TgZ(0,"h1"),w._uU(1,"This account has been locked. Please inform the administrator to unlock your account."),w.qZA())}function Si(t,e){1&t&&(w.TgZ(0,"p"),w._uU(1," Sorry for the inconvinience, but this site aims for a private group to use."),w._UZ(2,"br"),w._uU(3," Every user needs the admin's approval to use the resources. "),w.qZA())}const Mi=function(){return["/account/profile"]};function Yi(t,e){if(1&t&&(w.TgZ(0,"div"),w.TgZ(1,"div",13),w.TgZ(2,"div"),w.YNc(3,Ji,2,0,"h1",14),w.YNc(4,Ni,2,0,"h2",9),w.YNc(5,Qi,2,0,"h1",9),w.YNc(6,Si,4,0,"p",9),w.TgZ(7,"p"),w.TgZ(8,"b"),w._uU(9,"You might want to "),w.TgZ(10,"a",2),w._uU(11,"specify your account name"),w.qZA(),w._uU(12," to allow the administrator to recognize you. "),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA()),2&t){const t=w.oxw();w.xp6(3),w.Q6J("ngIf",t.currentUser&&!t.currentUser.auths.bdp),w.xp6(1),w.Q6J("ngIf",t.currentUser&&!t.currentUser.auths.bdp),w.xp6(1),w.Q6J("ngIf",t.currentUser&&1===t.currentUser.auths.bdp),w.xp6(1),w.Q6J("ngIf",t.currentUser&&!t.currentUser.auths.bdp),w.xp6(4),w.Q6J("routerLink",w.DdM(5,Mi))}}function Li(t,e){if(1&t){const t=w.EpF();w.TgZ(0,"div",28),w.TgZ(1,"h2",15),w._uU(2,"Welcome to BD-Processor!"),w.qZA(),w.TgZ(3,"p",29),w._uU(4,"You haven't created any project."),w.qZA(),w._UZ(5,"hr",30),w.TgZ(6,"p"),w._uU(7,"Try to create a project first."),w.qZA(),w.TgZ(8,"button",31),w.NdJ("click",function(){return w.CHM(t),w.oxw(3).onNewProject()}),w._uU(9," Create a project "),w.qZA(),w.qZA()}}const Oi=function(){return["/project/list"]},Fi=function(){return{listType:"myProjects"}},Ei=function(){return{listType:"publicProjects"}};function Di(t,e){1&t&&(w.TgZ(0,"div",28),w.TgZ(1,"h1",15),w._uU(2,"You have no shared projects."),w.qZA(),w.TgZ(3,"p",29),w._uU(4,"Other users can share their projects with you."),w.qZA(),w._UZ(5,"hr",30),w.TgZ(6,"button",32),w._uU(7," View your own projects "),w.qZA(),w.TgZ(8,"button",33),w._uU(9," View public projects "),w.qZA(),w.qZA()),2&t&&(w.xp6(6),w.Q6J("routerLink",w.DdM(4,Oi))("queryParams",w.DdM(5,Fi)),w.xp6(2),w.Q6J("routerLink",w.DdM(6,Oi))("queryParams",w.DdM(7,Ei)))}const Ri=function(){return{listType:"sharedProjects"}};function Bi(t,e){1&t&&(w.TgZ(0,"div",28),w.TgZ(1,"h1",15),w._uU(2,"No public projects."),w.qZA(),w.TgZ(3,"p",29),w._uU(4,"Public projects can be viewed by registered users."),w.qZA(),w._UZ(5,"hr",30),w.TgZ(6,"p"),w._uU(7,"Registered users can specify their projects as public."),w.qZA(),w.TgZ(8,"button",32),w._uU(9," View your own projects "),w.qZA(),w.TgZ(10,"button",33),w._uU(11," View shared projects "),w.qZA(),w.qZA()),2&t&&(w.xp6(8),w.Q6J("routerLink",w.DdM(4,Oi))("queryParams",w.DdM(5,Fi)),w.xp6(2),w.Q6J("routerLink",w.DdM(6,Oi))("queryParams",w.DdM(7,Ri)))}function zi(t,e){if(1&t){const t=w.EpF();w.TgZ(0,"div",34),w.NdJ("click",function(){const e=w.CHM(t).$implicit;return w.oxw(3).onProjectInfo(e)}),w.TgZ(1,"span",35),w._uU(2),w.qZA(),w.TgZ(3,"h2",36),w._uU(4),w.qZA(),w._UZ(5,"br"),w.TgZ(6,"p",37),w._uU(7),w.qZA(),w.TgZ(8,"div"),w.TgZ(9,"span",38),w._uU(10),w.qZA(),w.TgZ(11,"div",39),w.TgZ(12,"span",40),w._uU(13),w.qZA(),w._UZ(14,"br"),w.TgZ(15,"span",40),w._UZ(16,"i",41),w._uU(17),w.qZA(),w.qZA(),w.qZA(),w.qZA()}if(2&t){const t=e.$implicit;w.xp6(2),w.Oqu(null==t?null:t.id),w.xp6(2),w.Oqu(null==t?null:t.name),w.xp6(3),w.hij(" ",null==t?null:t.desc," "),w.xp6(3),w.hij("Updated at ",null==t||null==t.updatedAt?null:t.updatedAt.calendar(),""),w.xp6(3),w.hij("Owner: ",(null==t||null==t.owner?null:t.owner.name)||"unknown",""),w.xp6(4),w.Oqu(t&&t.packages[0]?t.packages[0].fullname:"")}}const $i=function(){return[2,5,10,30,50,100,300,500]},Hi=function(){return[10,30,50,100,300,500]};function Wi(t,e){if(1&t){const t=w.EpF();w.TgZ(0,"div"),w.TgZ(1,"mat-paginator",23),w.NdJ("page",function(e){return w.CHM(t),w.oxw(2).onPageChange(e)}),w.qZA(),w.YNc(2,Li,10,0,"div",24),w.YNc(3,Di,10,8,"div",24),w.YNc(4,Bi,12,8,"div",24),w.TgZ(5,"div",25),w.NdJ("click",function(){return w.CHM(t),w.oxw(2).onNewProject()}),w._UZ(6,"i",26),w._uU(7,"Create a new project "),w.qZA(),w.YNc(8,zi,18,6,"div",27),w.TgZ(9,"mat-paginator",23),w.NdJ("page",function(e){return w.CHM(t),w.oxw(2).onPageChange(e)}),w.qZA(),w.qZA()}if(2&t){const t=w.oxw(2);w.xp6(1),w.Q6J("length",t.totalCount)("pageSize",t.pageSize)("pageIndex",t.pageIndex)("pageSizeOptions",w.DdM(12,$i)),w.xp6(1),w.Q6J("ngIf","myProjects"===t.listType&&t.projects&&0===t.projects.length),w.xp6(1),w.Q6J("ngIf","sharedProjects"===t.listType&&t.projects&&0===t.projects.length),w.xp6(1),w.Q6J("ngIf","publicProjects"===t.listType&&t.projects&&0===t.projects.length),w.xp6(4),w.Q6J("ngForOf",t.projects),w.xp6(1),w.Q6J("length",t.totalCount)("pageSize",t.pageSize)("pageIndex",t.pageIndex)("pageSizeOptions",w.DdM(13,Hi))}}function Vi(t,e){if(1&t&&(w.TgZ(0,"div",16),w.TgZ(1,"div",17),w.TgZ(2,"nav",18),w.TgZ(3,"a",19),w._UZ(4,"i",20),w._uU(5,"My Projects "),w.qZA(),w.TgZ(6,"a",19),w._UZ(7,"i",21),w._uU(8,"Shared "),w.qZA(),w.TgZ(9,"a",19),w._UZ(10,"i",22),w._uU(11,"Public "),w.qZA(),w.qZA(),w.qZA(),w.TgZ(12,"div",17),w.YNc(13,Wi,10,14,"div",9),w.qZA(),w.qZA()),2&t){const t=w.oxw();w.xp6(3),w.Udp("background-color","myProjects"===t.listType?"#CCE5FE":"initial"),w.ekj("text-primary","myProjects"===t.listType),w.Q6J("routerLink",w.DdM(22,Oi))("queryParams",w.DdM(23,Fi))("active","myProjects"===t.listType),w.xp6(3),w.Udp("background-color","sharedProjects"===t.listType?"#CCE5FE":"initial"),w.ekj("text-primary","sharedProjects"===t.listType),w.Q6J("routerLink",w.DdM(24,Oi))("queryParams",w.DdM(25,Ri))("active","sharedProjects"===t.listType),w.xp6(3),w.Udp("background-color","publicProjects"===t.listType?"#CCE5FE":"initial"),w.ekj("text-primary","publicProjects"===t.listType),w.Q6J("routerLink",w.DdM(26,Oi))("queryParams",w.DdM(27,Ei))("active","publicProjects"===t.listType),w.xp6(4),w.Q6J("ngIf",t.projects&&t.currentUser&&t.currentUser.auths.bdp>=2)}}function Ki(t,e){1&t&&w._UZ(0,"i",54)}function Gi(t,e){1&t&&w._UZ(0,"i",55)}function Xi(t,e){if(1&t){const t=w.EpF();w.TgZ(0,"div",42),w.TgZ(1,"a",43),w.NdJ("click",function(){w.CHM(t);const e=w.oxw();return e.showRightButtonContent=!e.showRightButtonContent}),w.YNc(2,Ki,1,0,"i",44),w.YNc(3,Gi,1,0,"i",45),w.TgZ(4,"span",46),w._uU(5,"MENU"),w.qZA(),w.TgZ(6,"span",47),w._uU(7,"\u276f"),w.qZA(),w.qZA(),w._UZ(8,"br"),w.TgZ(9,"a",48),w._UZ(10,"i",49),w.TgZ(11,"span",50),w._uU(12,"My projects"),w.qZA(),w.TgZ(13,"span",47),w._uU(14,"\u276f"),w.qZA(),w.qZA(),w._UZ(15,"br"),w.TgZ(16,"a",48),w._UZ(17,"i",51),w.TgZ(18,"span",50),w._uU(19,"Shared with me"),w.qZA(),w.TgZ(20,"span",47),w._uU(21,"\u276f"),w.qZA(),w.qZA(),w._UZ(22,"br"),w.TgZ(23,"a",48),w._UZ(24,"i",52),w.TgZ(25,"span",50),w._uU(26,"Public projects"),w.qZA(),w.TgZ(27,"span",47),w._uU(28,"\u276f"),w.qZA(),w.qZA(),w._UZ(29,"br"),w.TgZ(30,"a",43),w.NdJ("click",function(){return w.CHM(t),w.oxw().onNewProject()}),w._UZ(31,"i",53),w.TgZ(32,"span",50),w._uU(33,"New project"),w.qZA(),w.TgZ(34,"span",47),w._uU(35,"\u276f"),w.qZA(),w.qZA(),w._UZ(36,"br"),w.qZA()}if(2&t){const t=w.oxw();w.Q6J("@rightButtonState",t.showRightButtonContent?"active":"inactive"),w.xp6(2),w.Q6J("ngIf",t.showRightButtonContent),w.xp6(1),w.Q6J("ngIf",!t.showRightButtonContent),w.xp6(1),w.ekj("active",t.showRightButtonContent),w.xp6(5),w.ekj("active","myProjects"===t.listType),w.Q6J("routerLink",w.DdM(25,Oi))("queryParams",w.DdM(26,Fi)),w.xp6(2),w.ekj("active",t.showRightButtonContent),w.xp6(5),w.ekj("active","sharedProjects"===t.listType),w.Q6J("routerLink",w.DdM(27,Oi))("queryParams",w.DdM(28,Ri)),w.xp6(2),w.ekj("active",t.showRightButtonContent),w.xp6(5),w.ekj("active","publicProjects"===t.listType),w.Q6J("routerLink",w.DdM(29,Oi))("queryParams",w.DdM(30,Ei)),w.xp6(2),w.ekj("active",t.showRightButtonContent),w.xp6(7),w.ekj("active",t.showRightButtonContent)}}const ts=function(){return["/home"]};let es=(()=>{class t{constructor(t,e,n,i,s){this.projectService=t,this.systemService=e,this.router=n,this.route=i,this.userService=s,this.listType="myProjects",this.pageSize=30,this.pageIndex=0,this.totalCount=0,this.showRightButtonContent=!1,this._subs=new Ai.w}ngOnInit(){this.systemService.toggleNavbar(!0),this.systemService.toggleSidebar(!0),this.systemService.maintainRightSidebarStatus(),this._subs.add(this.userService.currentUser$.subscribe(t=>this.currentUser=t)),this._subs.add(this.route.queryParamMap.pipe((0,Ui.w)(t=>{const e=t.get("pageSize"),n=t.get("pageIndex");return this.listType=t.get("listType")||"myProjects",this.pageSize=e?+e:30,this.pageIndex=n?+n:0,this.currentUser&&this.currentUser.auths.bdp<=1?(0,Ii.of)(new _i.j({errors:[],success:{records:[]}})):"sharedProjects"===this.listType?this.projectService.getSharedProjects(this.pageIndex,this.pageSize):"publicProjects"===this.listType?this.projectService.getPublicProjects(this.pageIndex,this.pageSize):this.projectService.getProjects(this.pageIndex,this.pageSize)})).subscribe(t=>{t.isError||(this.projects=t.success.records,this.totalCount=t.success.totalCount)}))}onNewProject(){this.router.navigate(["/project/create"])}onProjectInfo(t){this.router.navigate(["/project/"+t.id+"/info"])}onPageChange(t){this.router.navigate(["/project/list"],{queryParams:{listType:this.listType,pageSize:t.pageSize,pageIndex:t.pageIndex}})}ngOnDestroy(){this._subs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(w.Y36(W.Y),w.Y36(K.o),w.Y36(P.F0),w.Y36(P.gz),w.Y36(G.B))},t.\u0275cmp=w.Xpm({type:t,selectors:[["project-list"]],decls:18,vars:12,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"breadcrumb-item","active"],["target","_blank",3,"routerLink"],[1,"fas","fa-external-link-alt","ms-3"],[1,"bdp-main-container"],["class","chi-header",4,"ngIf"],[1,"container",2,"padding","10px"],[4,"ngIf"],["class","row",4,"ngIf"],["class","chi-right-menu",4,"ngIf"],[1,"chi-header"],[1,"p-5","mb-4","bg-light","border","rounded-3"],["class","display-1",4,"ngIf"],[1,"display-1"],[1,"row"],[1,"col-12"],["mat-tab-nav-bar",""],["mat-tab-link","",2,"text-decoration","none",3,"routerLink","queryParams","active"],[1,"fas","fa-list","me-3"],[1,"far","fa-handshake","fa-fw","me-2"],[1,"fa","fa-list-alt","fa-fw","me-2"],[2,"background-color","rgba(255,255, 255, 0.7)","border","thin solid darkgray",3,"length","pageSize","pageIndex","pageSizeOptions","page"],["class","p-5 bg-light border rounded-3 my-3",4,"ngIf"],[1,"project","clearfix",2,"text-align","center","line-height","40px","min-height","40px","background-color","rgba(255, 243, 205, 0.4)",3,"click"],[1,"fas","fa-plus-square","fa-fw","me-2"],["class","project clearfix p-4",3,"click",4,"ngFor","ngForOf"],[1,"p-5","bg-light","border","rounded-3","my-3"],[1,"mat-title"],[1,"my-4"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","primary",3,"routerLink","queryParams"],["mat-raised-button","",1,"ms-3",3,"routerLink","queryParams"],[1,"project","clearfix","p-4",3,"click"],[1,"text-muted","float-end",2,"font-size","8pt"],[1,"projectTitle","fw-bold"],[1,"p-2","text-muted"],[1,"text-muted",2,"font-size","10pt"],[1,"clearfix","float-end","text-muted"],[1,"float-end"],[1,"fas","fa-cube","me-2"],[1,"chi-right-menu"],[1,"chi-rbtn",3,"click"],["class","fa fa-angle-right fa-fw",4,"ngIf"],["class","fa fa-angle-left fa-fw",4,"ngIf"],[1,"chi-rbtn-content","ms-2"],[1,"chi-rbtn-arrow"],[1,"chi-rbtn",3,"routerLink","queryParams"],[1,"fas","fa-list","fa-fw"],[1,"chi-rbtn-content"],[1,"far","fa-handshake","fa-fw"],[1,"fa","fa-list-alt","fa-fw"],[1,"fas","fa-plus-square","fa-fw"],[1,"fa","fa-angle-right","fa-fw"],[1,"fa","fa-angle-left","fa-fw"]],template:function(t,e){1&t&&(w.TgZ(0,"ol",0),w.TgZ(1,"li",1),w.TgZ(2,"a",2),w._uU(3,"Home"),w.qZA(),w.qZA(),w.TgZ(4,"li",3),w.TgZ(5,"a",2),w._uU(6," Project List"),w.qZA(),w.TgZ(7,"a",4),w._UZ(8,"i",5),w.qZA(),w.qZA(),w.qZA(),w.TgZ(9,"div",6),w.YNc(10,ji,2,0,"h3",7),w.YNc(11,Pi,2,0,"h3",7),w.YNc(12,Ci,2,0,"h3",7),w._UZ(13,"br"),w.TgZ(14,"div",8),w.YNc(15,Yi,13,6,"div",9),w.YNc(16,Vi,14,28,"div",10),w.qZA(),w.qZA(),w.YNc(17,Xi,37,31,"div",11)),2&t&&(w.xp6(2),w.Q6J("routerLink",w.DdM(9,ts)),w.xp6(3),w.Q6J("routerLink",w.DdM(10,Oi)),w.xp6(2),w.Q6J("routerLink",w.DdM(11,Oi)),w.xp6(3),w.Q6J("ngIf","myProjects"===e.listType),w.xp6(1),w.Q6J("ngIf","sharedProjects"===e.listType),w.xp6(1),w.Q6J("ngIf","publicProjects"===e.listType),w.xp6(3),w.Q6J("ngIf",e.currentUser&&e.currentUser.auths.bdp<=1),w.xp6(1),w.Q6J("ngIf",e.currentUser&&e.currentUser.auths.bdp>=2),w.xp6(1),w.Q6J("ngIf",e.projects&&e.currentUser&&e.currentUser.auths.bdp>=2))},directives:[P.yS,i.O5,Z.BU,Z.Nj,h.NW,i.sg,o.lW,P.rH],styles:[".project[_ngcontent-%COMP%]{min-height:70px;padding:5px;height:auto;margin:5px 0;box-shadow:0 1px 3px #0000001f,0 1px 2px #0000003d;background-color:#ffffff80;cursor:pointer;transition:all .3s cubic-bezier(.25,.8,.25,1)}.project[_ngcontent-%COMP%]:hover{box-shadow:0 14px 28px #00000040,0 10px 10px #00000038;background-color:#fff3cd}.projectTitle[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:100%}.mat-tab-link[_ngcontent-%COMP%]{opacity:1!important}"],data:{animation:[zt.M]}}),t})();var ns=n(78968),is=n(11222),ss=n(2634);function rs(t,e){if(1&t&&(w.TgZ(0,"span"),w._uU(1),w.qZA()),2&t){const t=w.oxw(2);w.xp6(1),w.hij(" ",t.currentProject.name,"")}}const os=function(t){return["/project",t,"info"]};function as(t,e){if(1&t&&(w.TgZ(0,"li",10),w.TgZ(1,"a",3),w._uU(2,"Project"),w.YNc(3,rs,2,1,"span",7),w.qZA(),w.TgZ(4,"a",11),w._UZ(5,"i",12),w.qZA(),w.qZA()),2&t){const t=w.oxw();w.xp6(1),w.Q6J("routerLink",w.VKq(3,os,t.currentProject.id)),w.xp6(2),w.Q6J("ngIf",t.currentProject),w.xp6(1),w.Q6J("routerLink",w.VKq(5,os,t.currentProject.id))}}function cs(t,e){1&t&&(w.TgZ(0,"li",10),w._uU(1,"Project information"),w.qZA())}function us(t,e){1&t&&(w.TgZ(0,"div"),w._uU(1,"Loading ... "),w._UZ(2,"i",13),w.qZA())}function ls(t,e){if(1&t){const t=w.EpF();w.TgZ(0,"mat-form-field",27),w.TgZ(1,"input",28),w.NdJ("ngModelChange",function(e){return w.CHM(t),w.oxw(2).currentProject.name=e}),w.qZA(),w.qZA()}if(2&t){const t=w.oxw(2);w.xp6(1),w.Q6J("ngModel",t.currentProject.name)}}function ps(t,e){if(1&t){const t=w.EpF();w.TgZ(0,"mat-form-field",27),w.TgZ(1,"textarea",29),w.NdJ("ngModelChange",function(e){return w.CHM(t),w.oxw(2).currentProject.desc=e}),w._uU(2),w.qZA(),w.qZA()}if(2&t){const t=w.oxw(2);w.xp6(1),w.Q6J("ngModel",t.currentProject.desc),w.xp6(1),w.Oqu(t.currentProject.desc)}}function gs(t,e){if(1&t){const t=w.EpF();w.TgZ(0,"mat-card",31),w.NdJ("click",function(){return w.CHM(t),w.oxw(3).onClickPackageSelector()}),w.TgZ(1,"mat-card-header"),w.TgZ(2,"div",32),w._UZ(3,"i",33),w.qZA(),w.TgZ(4,"mat-card-title"),w.TgZ(5,"b"),w._uU(6,"Click to add a package"),w.qZA(),w.qZA(),w.qZA(),w.qZA()}}function ds(t,e){if(1&t&&(w.TgZ(0,"div",17),w._uU(1," No package assigned. "),w.YNc(2,gs,7,0,"mat-card",30),w.qZA()),2&t){const t=w.oxw(2);w.xp6(2),w.Q6J("ngIf",t._viewControls.isEditing&&t.currentProject.packages.length<=10)}}function hs(t,e){if(1&t){const t=w.EpF();w.TgZ(0,"mat-card",31),w.NdJ("click",function(){return w.CHM(t),w.oxw(3).onClickPackageSelector()}),w.TgZ(1,"mat-card-header"),w.TgZ(2,"div",32),w._UZ(3,"i",33),w.qZA(),w.TgZ(4,"mat-card-title"),w.TgZ(5,"b"),w._uU(6,"Click to add a package"),w.qZA(),w.qZA(),w.qZA(),w.qZA()}}function fs(t,e){1&t&&w._UZ(0,"i",58)}function ms(t,e){1&t&&w._UZ(0,"i",59)}function Zs(t,e){if(1&t&&(w.ynx(0),w.YNc(1,fs,1,0,"i",56),w.YNc(2,ms,1,0,"i",57),w.BQk()),2&t){const t=w.oxw(2).$implicit;w.xp6(1),w.Q6J("ngIf",null==t.privilege?null:t.privilege.canView),w.xp6(1),w.Q6J("ngIf",!(null!=t.privilege&&t.privilege.canView))}}function xs(t,e){1&t&&w._UZ(0,"i",60)}function vs(t,e){1&t&&(w.TgZ(0,"span",47),w._uU(1,"owner"),w.qZA())}function Ts(t,e){1&t&&(w.TgZ(0,"span",47),w._uU(1,"manager"),w.qZA())}function ks(t,e){1&t&&(w.TgZ(0,"span",47),w._uU(1," viewer"),w.qZA())}function bs(t,e){1&t&&(w.TgZ(0,"span",47),w._uU(1," runner"),w.qZA())}function ws(t,e){if(1&t&&(w.TgZ(0,"div",61),w.YNc(1,vs,2,0,"span",48),w.YNc(2,Ts,2,0,"span",48),w.YNc(3,ks,2,0,"span",48),w.YNc(4,bs,2,0,"span",48),w.qZA()),2&t){const t=w.oxw(2).$implicit;w.xp6(1),w.Q6J("ngIf",t.privilege.isOwner),w.xp6(1),w.Q6J("ngIf",t.privilege.isManager),w.xp6(1),w.Q6J("ngIf",t.privilege.isViewer),w.xp6(1),w.Q6J("ngIf",t.privilege.isRunner)}}function qs(t,e){1&t&&(w.TgZ(0,"div",61),w.TgZ(1,"span",47),w._uU(2,"public"),w.qZA(),w.qZA())}function ys(t,e){1&t&&(w.TgZ(0,"span",62),w._uU(1,"main package"),w.qZA())}function _s(t,e){if(1&t&&(w.TgZ(0,"span",63),w._uU(1),w.qZA()),2&t){const t=e.$implicit;w.xp6(1),w.Oqu(t)}}const As=function(){return["/page"]},Is=function(t,e){return{project:t,pageKey:e}};function Us(t,e){if(1&t&&(w.TgZ(0,"a",66),w._UZ(1,"i",67),w._uU(2),w.qZA()),2&t){const t=e.$implicit,n=w.oxw(3).$implicit,i=w.oxw(3);w.Q6J("routerLink",w.DdM(3,As))("queryParams",w.WLB(4,Is,i.currentProject.id,n.id+":"+t.key)),w.xp6(2),w.hij(" ",t.name," ")}}function js(t,e){if(1&t&&(w.TgZ(0,"div",64),w.TgZ(1,"h3"),w._uU(2,"Available Pages:"),w.qZA(),w.YNc(3,Us,3,7,"a",65),w.qZA()),2&t){const t=w.oxw(2).$implicit;w.xp6(3),w.Q6J("ngForOf",t.pages.indexPages)}}function Ps(t,e){if(1&t){const t=w.EpF();w.TgZ(0,"button",72),w.NdJ("click",function(){w.CHM(t);const e=w.oxw(3).index;return w.oxw(3).movePkgUp(e)}),w._UZ(1,"i",73),w.qZA()}}function Cs(t,e){if(1&t){const t=w.EpF();w.TgZ(0,"button",72),w.NdJ("click",function(){w.CHM(t);const e=w.oxw(3).index;return w.oxw(3).movePkgDown(e)}),w._UZ(1,"i",74),w.qZA()}}function Js(t,e){if(1&t){const t=w.EpF();w.TgZ(0,"mat-card-actions"),w.YNc(1,Ps,2,0,"button",68),w.YNc(2,Cs,2,0,"button",69),w.TgZ(3,"button",70),w.NdJ("click",function(){w.CHM(t);const e=w.oxw(2).index;return w.oxw(3).removePkg(e)}),w._UZ(4,"i",71),w.qZA(),w.qZA()}if(2&t){const t=w.oxw(2).index,e=w.oxw(3);w.xp6(1),w.Q6J("ngIf",0!==t),w.xp6(1),w.Q6J("ngIf",t<e.currentProject.packages.length-1)}}function Ns(t,e){1&t&&(w.TgZ(0,"span",47),w._uU(1," (You)"),w.qZA())}function Qs(t,e){1&t&&(w.TgZ(0,"span",75),w._uU(1,"Under development"),w.qZA())}function Ss(t,e){1&t&&(w.TgZ(0,"span",76),w._uU(1,"Experimenting"),w.qZA())}function Ms(t,e){1&t&&(w.TgZ(0,"span",77),w._uU(1,"Stable"),w.qZA())}function Ys(t,e){1&t&&(w.TgZ(0,"span",78),w._uU(1,"Out of date"),w.qZA())}function Ls(t,e){if(1&t&&(w.TgZ(0,"mat-card",38),w.TgZ(1,"mat-card-header"),w.TgZ(2,"div",32),w.YNc(3,Zs,3,2,"ng-container",7),w.YNc(4,xs,1,0,"i",39),w.qZA(),w.TgZ(5,"mat-card-title"),w.TgZ(6,"b"),w._uU(7),w.qZA(),w.qZA(),w.TgZ(8,"mat-card-subtitle"),w._uU(9),w.ALo(10,"htmlToPlainText"),w.qZA(),w.YNc(11,ws,5,4,"div",40),w.YNc(12,qs,3,0,"div",40),w.qZA(),w.TgZ(13,"mat-card-content"),w.TgZ(14,"div"),w.YNc(15,ys,2,0,"span",41),w.YNc(16,_s,2,1,"span",42),w.qZA(),w.YNc(17,js,4,1,"div",43),w.qZA(),w.YNc(18,Js,5,2,"mat-card-actions",7),w.TgZ(19,"mat-card-footer",44),w.TgZ(20,"div",45),w._UZ(21,"i",46),w.TgZ(22,"span",47),w._uU(23),w.qZA(),w.YNc(24,Ns,2,0,"span",48),w.qZA(),w.qZA(),w.TgZ(25,"mat-card-footer",49),w.TgZ(26,"div",50),w.ynx(27,51),w.YNc(28,Qs,2,0,"span",52),w.YNc(29,Ss,2,0,"span",53),w.YNc(30,Ms,2,0,"span",54),w.YNc(31,Ys,2,0,"span",55),w.BQk(),w.qZA(),w.qZA(),w.qZA()),2&t){const t=w.oxw(),e=t.$implicit,n=t.index,i=w.oxw(3);w.xp6(3),w.Q6J("ngIf",!e.public),w.xp6(1),w.Q6J("ngIf",e.public),w.xp6(3),w.Oqu(e.fullname),w.xp6(2),w.hij(" ",w.lcZ(10,17,e.desc)," "),w.xp6(2),w.Q6J("ngIf",!e.public),w.xp6(1),w.Q6J("ngIf",e.public),w.xp6(3),w.Q6J("ngIf",0===n),w.xp6(1),w.Q6J("ngForOf",e.scope),w.xp6(1),w.Q6J("ngIf",e.pages.indexPages.length>0),w.xp6(1),w.Q6J("ngIf",i._viewControls.isEditing),w.xp6(5),w.Oqu(e.owner?e.owner.name:"unset"),w.xp6(1),w.Q6J("ngIf",(null==e.owner?null:e.owner.id)===(null==i.currentUser?null:i.currentUser.id)),w.xp6(3),w.Q6J("ngSwitch",e.status),w.xp6(1),w.Q6J("ngSwitchCase",0),w.xp6(1),w.Q6J("ngSwitchCase",1),w.xp6(1),w.Q6J("ngSwitchCase",2),w.xp6(1),w.Q6J("ngSwitchCase",3)}}function Os(t,e){if(1&t&&(w.TgZ(0,"div",36),w.YNc(1,Ls,32,19,"mat-card",37),w.qZA()),2&t){const t=e.$implicit,n=w.oxw(3);w.Q6J("cdkDragDisabled",!n._viewControls.isEditing),w.xp6(1),w.Q6J("ngIf",t)}}function Fs(t,e){if(1&t){const t=w.EpF();w.TgZ(0,"div",17),w.YNc(1,hs,7,0,"mat-card",30),w.TgZ(2,"div",34),w.NdJ("cdkDropListDropped",function(e){return w.CHM(t),w.oxw(2).drop(e)}),w.YNc(3,Os,2,2,"div",35),w.qZA(),w.qZA()}if(2&t){const t=w.oxw(2);w.xp6(1),w.Q6J("ngIf",t._viewControls.isEditing&&t.currentProject.packages.length<=10),w.xp6(2),w.Q6J("ngForOf",t.currentProject.packages)}}const Es=function(t){return["/project",t,"dataFile","list"]},Ds=function(t){return["/project",t,"result","list"]};function Rs(t,e){if(1&t){const t=w.EpF();w.TgZ(0,"div",14),w.TgZ(1,"div",15),w.TgZ(2,"div",16),w.TgZ(3,"b"),w._uU(4,"Project name"),w.qZA(),w.qZA(),w.TgZ(5,"div",17),w.TgZ(6,"p",18),w._uU(7),w.qZA(),w.YNc(8,ls,2,1,"mat-form-field",19),w.qZA(),w.qZA(),w.TgZ(9,"div",15),w.TgZ(10,"div",16),w.TgZ(11,"b"),w._uU(12,"Description"),w.qZA(),w.qZA(),w.TgZ(13,"div",17),w.TgZ(14,"p",20),w._uU(15),w.qZA(),w.YNc(16,ps,3,2,"mat-form-field",19),w.qZA(),w.qZA(),w.TgZ(17,"div",15),w.TgZ(18,"div",16),w.TgZ(19,"b"),w._uU(20,"Creation time"),w.qZA(),w.qZA(),w.TgZ(21,"div",17),w.TgZ(22,"p"),w._uU(23),w.qZA(),w.qZA(),w.qZA(),w.TgZ(24,"div",15),w.TgZ(25,"div",16),w.TgZ(26,"b"),w._uU(27,"Last modified"),w.qZA(),w.qZA(),w.TgZ(28,"div",17),w.TgZ(29,"p"),w._uU(30),w.qZA(),w.qZA(),w.qZA(),w.TgZ(31,"div",15),w.TgZ(32,"div",16),w.TgZ(33,"b"),w._uU(34,"Summary"),w.qZA(),w.qZA(),w.TgZ(35,"div",17),w.TgZ(36,"p"),w.TgZ(37,"a",3),w._uU(38),w.qZA(),w._uU(39," and "),w.TgZ(40,"a",3),w._uU(41),w.qZA(),w._uU(42,". "),w.qZA(),w.qZA(),w.qZA(),w.TgZ(43,"div",15),w.TgZ(44,"div",16),w.TgZ(45,"p"),w.TgZ(46,"b"),w._uU(47,"Public project?"),w.qZA(),w.qZA(),w.qZA(),w.TgZ(48,"div",17),w.TgZ(49,"mat-radio-group",21),w.NdJ("ngModelChange",function(e){return w.CHM(t),w.oxw().currentProject.public=e}),w.TgZ(50,"mat-radio-button",22),w._uU(51,"Private"),w.qZA(),w.TgZ(52,"mat-radio-button",23),w._uU(53,"Public"),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w._UZ(54,"mat-divider"),w.TgZ(55,"div",24),w.TgZ(56,"div",16),w.TgZ(57,"p"),w.TgZ(58,"b"),w._uU(59,"Privilege role settings"),w.qZA(),w.qZA(),w.qZA(),w.TgZ(60,"div",17),w.TgZ(61,"table"),w.TgZ(62,"tr"),w.TgZ(63,"td"),w._uU(64,"Owner"),w.qZA(),w.TgZ(65,"td"),w.TgZ(66,"button",25),w.NdJ("click",function(){w.CHM(t);const e=w.oxw();return e.openUserSelectDialog("the project owner","owner",!1,e.currentProject.owner)}),w._uU(67),w.qZA(),w.qZA(),w.qZA(),w.TgZ(68,"tr"),w.TgZ(69,"td"),w._uU(70,"Managers"),w.qZA(),w.TgZ(71,"td"),w.TgZ(72,"button",25),w.NdJ("click",function(){w.CHM(t);const e=w.oxw();return e.openUserSelectDialog("the project managers","managers",!0,e.currentProject.managers)}),w._uU(73),w.qZA(),w.qZA(),w.qZA(),w.TgZ(74,"tr"),w.TgZ(75,"td"),w._uU(76,"Task runners"),w.qZA(),w.TgZ(77,"td"),w.TgZ(78,"button",25),w.NdJ("click",function(){w.CHM(t);const e=w.oxw();return e.openUserSelectDialog("the task runners","runners",!0,e.currentProject.runners)}),w._uU(79),w.qZA(),w.qZA(),w.qZA(),w.TgZ(80,"tr"),w.TgZ(81,"td"),w._uU(82,"Viewers"),w.qZA(),w.TgZ(83,"button",25),w.NdJ("click",function(){w.CHM(t);const e=w.oxw();return e.openUserSelectDialog("the project viewers","viewers",!0,e.currentProject.viewers)}),w._uU(84),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w._UZ(85,"mat-divider"),w.TgZ(86,"div",24),w.TgZ(87,"div",16),w.TgZ(88,"b"),w._uU(89,"Packages"),w.qZA(),w.qZA(),w.YNc(90,ds,3,1,"div",26),w.YNc(91,Fs,4,2,"div",26),w.qZA(),w.qZA()}if(2&t){const t=w.oxw();w.xp6(6),w.Q6J("hidden",t._viewControls.isEditing),w.xp6(1),w.Oqu(null!=t.currentProject&&t.currentProject.name?null==t.currentProject?null:t.currentProject.name:"None"),w.xp6(1),w.Q6J("ngIf",t._viewControls.isEditing),w.xp6(6),w.Q6J("hidden",t._viewControls.isEditing),w.xp6(1),w.Oqu(null!=t.currentProject&&t.currentProject.desc?null==t.currentProject?null:t.currentProject.desc:"(no description)"),w.xp6(1),w.Q6J("ngIf",t._viewControls.isEditing),w.xp6(7),w.Oqu(null==t.currentProject||null==t.currentProject.createdAt?null:t.currentProject.createdAt.calendar()),w.xp6(7),w.Oqu(null==t.currentProject||null==t.currentProject.updatedAt?null:t.currentProject.updatedAt.calendar()),w.xp6(7),w.Q6J("routerLink",w.VKq(22,Es,t.currentProject.id)),w.xp6(1),w.hij("",null==t.currentProject?null:t.currentProject.dataFileNumber," data files"),w.xp6(2),w.Q6J("routerLink",w.VKq(24,Ds,t.currentProject.id)),w.xp6(1),w.hij("",null==t.currentProject?null:t.currentProject.resultNumber," results"),w.xp6(8),w.Q6J("ngModel",t.currentProject.public)("disabled",!t._viewControls.isEditing),w.xp6(1),w.Q6J("value",!1),w.xp6(2),w.Q6J("value",!0),w.xp6(15),w.Oqu(t.currentProject.owner.name?t.currentProject.owner.name:"unset"),w.xp6(6),w.Oqu(null==t.currentProject.managers?null:t.currentProject.managers.length),w.xp6(6),w.Oqu(null==t.currentProject.runners?null:t.currentProject.runners.length),w.xp6(5),w.Oqu(null==t.currentProject.viewers?null:t.currentProject.viewers.length),w.xp6(6),w.Q6J("ngIf",0===t.currentProject.packages.length),w.xp6(1),w.Q6J("ngIf",t.currentProject.packages.length>0&&t.packageSheetNames.length>0)}}function Bs(t,e){1&t&&w._UZ(0,"i",89)}function zs(t,e){1&t&&w._UZ(0,"i",90)}const $s=function(t,e){return{"fa-edit":t,"fa-save":e}};function Hs(t,e){if(1&t){const t=w.EpF();w.ynx(0),w.TgZ(1,"a",80),w.NdJ("click",function(){return w.CHM(t),w.oxw(2).onSave()}),w._UZ(2,"i",91),w.TgZ(3,"span",87),w._uU(4),w.qZA(),w.TgZ(5,"span",84),w._uU(6,"\u276f"),w.qZA(),w.qZA(),w._UZ(7,"br"),w.BQk()}if(2&t){const t=w.oxw(2);w.xp6(1),w.ekj("active",t._viewControls.isEditing),w.xp6(1),w.Q6J("ngClass",w.WLB(6,$s,!t._viewControls.isEditing,t._viewControls.isEditing)),w.xp6(1),w.ekj("active",t._viewControls.isEditing||t.showRightButtonContent),w.xp6(1),w.Oqu(t._viewControls.isEditing?"Click to save info":"Edit project info")}}const Ws=function(t){return{project:t}};function Vs(t,e){if(1&t&&(w.ynx(0),w.TgZ(1,"a",92),w._UZ(2,"i",93),w.TgZ(3,"span",87),w._uU(4,"Pages"),w.qZA(),w.TgZ(5,"span",84),w._uU(6,"\u276f"),w.qZA(),w.qZA(),w._UZ(7,"br"),w.BQk()),2&t){const t=w.oxw(2);w.xp6(1),w.Q6J("routerLink",w.DdM(4,As))("queryParams",w.VKq(5,Ws,t.currentProject.id)),w.xp6(2),w.ekj("active",t.showRightButtonContent)}}const Ks=function(t){return["/project",t,"fileImport"]};function Gs(t,e){if(1&t&&(w.ynx(0),w.TgZ(1,"a",85),w._UZ(2,"i",94),w.TgZ(3,"span",87),w._uU(4,"File Import"),w.qZA(),w.TgZ(5,"span",84),w._uU(6,"\u276f"),w.qZA(),w.qZA(),w._UZ(7,"br"),w.BQk()),2&t){const t=w.oxw(2);w.xp6(1),w.Q6J("routerLink",w.VKq(3,Ks,t.currentProject.id)),w.xp6(2),w.ekj("active",t.showRightButtonContent)}}const Xs=function(t){return["/project",t,"result","creation"]};function tr(t,e){if(1&t&&(w.ynx(0),w.TgZ(1,"a",85),w._UZ(2,"i",95),w.TgZ(3,"span",87),w._uU(4,"Execute tasks"),w.qZA(),w.TgZ(5,"span",84),w._uU(6,"\u276f"),w.qZA(),w.qZA(),w._UZ(7,"br"),w.BQk()),2&t){const t=w.oxw(2);w.xp6(1),w.Q6J("routerLink",w.VKq(3,Xs,t.currentProject.id)),w.xp6(2),w.ekj("active",t.showRightButtonContent)}}function er(t,e){if(1&t){const t=w.EpF();w.ynx(0),w.TgZ(1,"a",80),w.NdJ("click",function(){return w.CHM(t),w.oxw(2).deleteProjectDialog()}),w._UZ(2,"i",96),w.TgZ(3,"span",87),w._uU(4,"Delete"),w.qZA(),w.TgZ(5,"span",84),w._uU(6,"\u276f"),w.qZA(),w.qZA(),w._UZ(7,"br"),w.BQk()}if(2&t){const t=w.oxw(2);w.xp6(3),w.ekj("active",t.showRightButtonContent)}}function nr(t,e){if(1&t){const t=w.EpF();w.TgZ(0,"div",79),w.TgZ(1,"a",80),w.NdJ("click",function(){w.CHM(t);const e=w.oxw();return e.showRightButtonContent=!e.showRightButtonContent}),w.YNc(2,Bs,1,0,"i",81),w.YNc(3,zs,1,0,"i",82),w.TgZ(4,"span",83),w._uU(5,"MENU"),w.qZA(),w.TgZ(6,"span",84),w._uU(7,"\u276f"),w.qZA(),w.qZA(),w._UZ(8,"br"),w.YNc(9,Hs,8,9,"ng-container",7),w.TgZ(10,"a",85),w._UZ(11,"i",86),w.TgZ(12,"span",87),w._uU(13,"Data files"),w.qZA(),w.TgZ(14,"span",84),w._uU(15,"\u276f"),w.qZA(),w.qZA(),w._UZ(16,"br"),w.TgZ(17,"a",85),w._UZ(18,"i",88),w.TgZ(19,"span",87),w._uU(20,"Results"),w.qZA(),w.TgZ(21,"span",84),w._uU(22,"\u276f"),w.qZA(),w.qZA(),w._UZ(23,"br"),w.YNc(24,Vs,8,7,"ng-container",7),w.YNc(25,Gs,8,5,"ng-container",7),w.YNc(26,tr,8,5,"ng-container",7),w.YNc(27,er,8,2,"ng-container",7),w.qZA()}if(2&t){const t=w.oxw();w.Q6J("@rightButtonState",t.showRightButtonContent?"active":"inactive"),w.xp6(2),w.Q6J("ngIf",t.showRightButtonContent),w.xp6(1),w.Q6J("ngIf",!t.showRightButtonContent),w.xp6(1),w.ekj("active",t.showRightButtonContent),w.xp6(5),w.Q6J("ngIf",t.currentProject.privilege.canEdit),w.xp6(1),w.Q6J("routerLink",w.VKq(16,Es,t.currentProject.id)),w.xp6(2),w.ekj("active",t.showRightButtonContent),w.xp6(5),w.Q6J("routerLink",w.VKq(18,Ds,t.currentProject.id)),w.xp6(2),w.ekj("active",t.showRightButtonContent),w.xp6(5),w.Q6J("ngIf",t.currentProject.hasProjectPages()),w.xp6(1),w.Q6J("ngIf",t.currentProject.privilege.canAddFile),w.xp6(1),w.Q6J("ngIf",t.currentProject.privilege.canRun),w.xp6(1),w.Q6J("ngIf",t.currentProject.privilege.canDelete)}}const ir=function(){return["/home"]},sr=function(){return["/project/list"]};function rr(t,e){1&t&&(w.TgZ(0,"div",18),w.TgZ(1,"div",28),w._UZ(2,"i",29),w._uU(3,"Your account hasn't been activated as a Normal User, please contact the System Root."),w.qZA(),w.qZA())}function or(t,e){1&t&&(w.TgZ(0,"b"),w._uU(1,"*Require "),w.TgZ(2,"u"),w._uU(3,"Normal User"),w.qZA(),w.qZA())}function ar(t,e){1&t&&(w.TgZ(0,"b"),w._uU(1,"*Require "),w.TgZ(2,"u"),w._uU(3,"Normal User"),w.qZA(),w.qZA())}function cr(t,e){1&t&&(w.TgZ(0,"b"),w._uU(1,"*Require "),w.TgZ(2,"u"),w._uU(3,"Normal User"),w.qZA(),w.qZA())}const ur=function(){return["/project/create"]},lr=function(){return["/project/list"]};function pr(t,e){1&t&&(w.TgZ(0,"span",30),w._uU(1,"If you don't know where to start, you may "),w.TgZ(2,"a",2),w._uU(3,"create a new project"),w.qZA(),w._uU(4," or select a project from "),w.TgZ(5,"a",2),w._uU(6,"the project lists"),w.qZA(),w._uU(7,"."),w.qZA()),2&t&&(w.xp6(2),w.Q6J("routerLink",w.DdM(2,ur)),w.xp6(3),w.Q6J("routerLink",w.DdM(3,lr)))}const gr=function(){return["/home"]},dr=function(){return["/project/quick-start"]},hr=function(){return["/account/profile"]},fr=function(){return["/result/activities"]},mr=function(t){return["/project",t,"fileImport"]},Zr=function(t){return["/project",t,"result","creation"]},xr=function(t){return["/project",t,"dataFile","list"]},vr=function(t){return["/project",t,"result","list"]},Tr=function(){return["/page"]},kr=function(t){return{project:t}};const br=P.Bz.forChild([{path:"",pathMatch:"full",redirectTo:"list"},{path:"create",component:Bt,data:{path:"project/create"},canActivate:[ns.P]},{path:":pid/info",component:(()=>{class t{constructor(t,e,n,i,s,r,o){this.router=t,this.route=e,this.projectService=n,this.dialog=i,this.systemService=s,this.accountService=r,this.taskService=o,this.currentPackages=[],this.packageSheetNames=[],this.showRightButtonContent=!1,this.packageLists={},this._subs=new Ai.w}ngOnInit(){this.systemService.toggleNavbar(!0),this.systemService.toggleSidebar(!0),this.systemService.maintainRightSidebarStatus(),this._viewControls={isDataFileDeleting:!1,isResultDeleting:!1,dataFileViewMode:"table",resultViewMode:"table",isEditing:!1,isLoading:!0,isProjectDeleting:!1,isHideDataFiles:!1,isHideResults:!1,confirmDelete:"",showPackageInfo:!1},this.packageSheetNames=[],this._subs.add(this.accountService.currentUser$.subscribe(t=>{t&&t.isLoggedIn&&(this.currentUser=t)})),this._subs.add(this.projectService.currentProject$.subscribe(t=>{t&&(this.currentProject=t,t.packages&&(this.currentPackages=t.packages),this._viewControls.isLoading=!1)})),this._subs.add(this.taskService.packageList$.subscribe(t=>{this.packageLists={},this.packageSheetNames=[],t.forEach(t=>{const e=t.sheetName||"Internal Package List";this.packageLists[e]||(this.packageLists[e]=[]),this.packageLists[e].push(t)}),this.packageSheetNames=Object.keys(this.packageLists),this.packageSheetNames=(0,H.X)(this.packageSheetNames);for(const e of this.packageSheetNames)this.packageLists[e]=(0,H.X)(this.packageLists[e],[t=>t.name],["asc"])})),this._subs.add(this.route.queryParamMap.subscribe(t=>{this._viewControls.isEditing="1"===t.get("edit")})),this._subs.add(this.route.paramMap.subscribe(t=>{const e=t.get("pid");e&&this.projectService.setCurrentProject(e)})),this.taskService.loadPackages()}onProjectChange(t){this.currentProject=t}setStatusCSS(t){const e={"fa-circle-o-notch":!1,"fa-spin":!1,"fa-hourglass-half":!1,"fa-check":!1,"fa-times":!1};switch(t){case 0:e["fa-hourglass-half"]=!0;break;case 1:e["fa-circle-o-notch"]=!0,e["fa-spin"]=!0;break;case 2:e["fa-check"]=!0;break;case 3:e["fa-times"]=!0}return e}refresh(){return this.currentProject?this.projectService.setCurrentProject(this.currentProject.id,!0):""}goToFileUploadPage(){this.currentProject&&this.router.navigate(["/project",this.currentProject.id,"fileImport"])}trackByDataFile(t,e){return e.id}goToNewResultPage(){this.currentProject&&this.router.navigate(["/project",this.currentProject.id,"result","creation"])}gotoDataFile(t,e){return this.router.navigate(["/dataFile",t.id,"info"],e?{queryParams:{edit:1}}:{})}gotoResult(t,e){return this.router.navigate(["/result",t.id,"info"],e?{queryParams:{edit:1}}:{})}deleteProject(t){if(!this.currentProject)return;const e=this.projectService.removeProject(this.currentProject).subscribe(t=>(e.unsubscribe(),t.isError?"":this.router.navigate(["/project/list"])))}deleteProjectDialog(){if(!this.currentProject)return;const t=this.dialog.open(is.N,{disableClose:!1});t.componentInstance.setOptions({title:`<h4 class="modal-title text-danger" id="myModalLabel"> Are you sure you want to delete the project\n        <strong>${this.currentProject.name}</strong>?</h4>`,desc:`<span class="text-danger">This will delete the project, name: <b>${this.currentProject.name}</b>,\n         and all the associated results and data files.<br>This cannot be undone.\n         Make sure this is something you really want to do!</span><br>`,confirmWord:"Delete"});const e=t.afterClosed().subscribe(t=>{e.unsubscribe(),t&&this.deleteProject(t)})}onSave(){if(this._viewControls.isEditing&&this.currentProject){this._viewControls.isEditing=!1;const t=this.projectService.updateProjectInfo(this.currentProject,this.currentProject.packages.map(t=>t.id)).subscribe(e=>{t.unsubscribe(),e.isError||this.projectService.setCurrentProject(e.success.id)})}else this._viewControls.isEditing=!0}openUserSelectDialog(t,e,n,i){if(!this.currentProject)return;const s=this.dialog.open(ss.g,{disableClose:!1,width:"95%",height:"95%"});n||(i=i&&i.id?[i]:[]);const r=this.currentProject.privilege,o=r.canSetMember&&!(("owner"===e||"managers"===e)&&r.isManager);s.componentInstance.setOptions({scope:t,isMultiple:n,canEdit:o,userList:i,authField:"bdp",currentUser:this.currentUser});const a=s.afterClosed().subscribe(t=>{if(a.unsubscribe(),o&&t&&t.length>0){if(!this.currentProject)return;const n=this.projectService.setProjectMembers(this.currentProject.id,e,t).subscribe(()=>n.unsubscribe())}})}drop(t){!this.currentProject||(0,b.bA)(this.currentProject.packages,t.previousIndex,t.currentIndex)}movePkgUp(t){if(t<1||!this.currentProject)return;const e=this.currentProject.packages.splice(t,1)[0];this.currentProject.packages.splice(t-1,0,e)}movePkgDown(t){if(!this.currentProject||t>=this.currentProject.packages.length-1)return;const e=this.currentProject.packages.splice(t,1)[0];this.currentProject.packages.splice(t+1,0,e)}removePkg(t){!this.currentProject||this.currentProject.packages.splice(t,1)}onClickPackageSelector(){this.currentProject&&this.dialog.open(z,{disableClose:!1,data:{packageLists:this.packageLists,packageSheetNames:this.packageSheetNames,selectedPackages:this.currentProject.packages}}).afterClosed().subscribe(t=>{!this.currentProject||this.currentProject.packages.push(t)})}ngOnDestroy(){this._subs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(w.Y36(P.F0),w.Y36(P.gz),w.Y36(W.Y),w.Y36(C.uw),w.Y36(K.o),w.Y36(G.B),w.Y36(V.M))},t.\u0275cmp=w.Xpm({type:t,selectors:[["project-info"]],decls:18,vars:9,consts:[["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],["class","breadcrumb-item active",4,"ngIf"],[1,"bdp-main-container"],[1,"chi-header"],[4,"ngIf"],["class","container-fluid",4,"ngIf"],["class","chi-right-menu",4,"ngIf"],[1,"breadcrumb-item","active"],["target","_blank",1,"ms-3",3,"routerLink"],[1,"fas","fa-external-link-alt"],[1,"fas","fa-circle-notch","fa-fw","fa-spin","fa-lg"],[1,"container-fluid"],[1,"row"],[1,"col-md-3","col-lg-2"],[1,"col-md-9","col-lg-10"],[3,"hidden"],["style","width: 100%;",4,"ngIf"],[2,"word-break","break-all",3,"hidden"],[3,"ngModel","disabled","ngModelChange"],[1,"ms-2",3,"value"],[1,"ms-5",3,"value"],[1,"row","my-2"],["mat-button","",3,"click"],["class","col-md-9 col-lg-10",4,"ngIf"],[2,"width","100%"],["matInput","","type","text","maxlength","160","placeholder","The project name (length must be smaller or equal than 160 characters)",3,"ngModel","ngModelChange"],["matInput","","placeholder","Say something about this project. (max length: 1000 characters)","maxlength","1000","rows","3",3,"ngModel","ngModelChange"],["class","link viewable","style","height: auto; width: 100%;",3,"click",4,"ngIf"],[1,"link","viewable",2,"height","auto","width","100%",3,"click"],["mat-card-avatar",""],[1,"far","fa-plus-square","fa-fw","fa-2x"],["cdkDropList","",3,"cdkDropListDropped"],["cdkDrag","",3,"cdkDragDisabled",4,"ngFor","ngForOf"],["cdkDrag","",3,"cdkDragDisabled"],["class","ms-1 my-2","style","height: auto",4,"ngIf"],[1,"ms-1","my-2",2,"height","auto"],["class","fas fa-unlock fa-fw fa-2x",4,"ngIf"],["class","ms-3","style","position: absolute; top: 2px; right: 5px; font-size: 14px;",4,"ngIf"],["class","badge bg-warning m-3",4,"ngIf"],["class","m-3 badge bg-primary",4,"ngFor","ngForOf"],["class","p-2",4,"ngIf"],[2,"text-align","left"],[1,"small","ms-3",2,"font-size","12pt","margin","5px 5px"],[1,"fas","fa-user-circle","text-muted","ms-5","me-2"],[1,"text-muted"],["class","text-muted",4,"ngIf"],[2,"text-align","right"],[1,"small","text-mute",2,"font-size","14pt","margin","5px 5px"],[3,"ngSwitch"],["class","badge bg-danger",4,"ngSwitchCase"],["class","badge bg-warning",4,"ngSwitchCase"],["class","badge bg-success",4,"ngSwitchCase"],["class","badge bg-default",4,"ngSwitchCase"],["class","fas fa-cube fa-fw fa-2x",4,"ngIf"],["class","fas fa-lock fa-fw fa-2x",4,"ngIf"],[1,"fas","fa-cube","fa-fw","fa-2x"],[1,"fas","fa-lock","fa-fw","fa-2x"],[1,"fas","fa-unlock","fa-fw","fa-2x"],[1,"ms-3",2,"position","absolute","top","2px","right","5px","font-size","14px"],[1,"badge","bg-warning","m-3"],[1,"m-3","badge","bg-primary"],[1,"p-2"],["mat-stroked-button","","class","ms-2 mb-2",3,"routerLink","queryParams",4,"ngFor","ngForOf"],["mat-stroked-button","",1,"ms-2","mb-2",3,"routerLink","queryParams"],[1,"me-2","fas","fa-scroll","fa-fw"],["mat-button","","color","primary","style","min-width: 1%;",3,"click",4,"ngIf"],["style","min-width: 1%;","mat-button","","color","primary",3,"click",4,"ngIf"],["mat-button","","color","accent",2,"min-width","1%",3,"click"],[1,"fas","fa-times","fa-fw"],["mat-button","","color","primary",2,"min-width","1%",3,"click"],[1,"fas","fa-arrow-up","fa-fw"],[1,"fas","fa-arrow-down","fa-fw"],[1,"badge","bg-danger"],[1,"badge","bg-warning"],[1,"badge","bg-success"],[1,"badge","bg-default"],[1,"chi-right-menu"],[1,"chi-rbtn",3,"click"],["class","fa fa-angle-right fa-fw",4,"ngIf"],["class","fa fa-angle-left fa-fw",4,"ngIf"],[1,"chi-rbtn-content","ms-2"],[1,"chi-rbtn-arrow"],[1,"chi-rbtn",3,"routerLink"],[1,"far","fa-file","fa-fw"],[1,"chi-rbtn-content"],[1,"far","fa-folder-open","fa-fw"],[1,"fa","fa-angle-right","fa-fw"],[1,"fa","fa-angle-left","fa-fw"],[1,"far","fa-fw",3,"ngClass"],[1,"chi-rbtn",3,"routerLink","queryParams"],[1,"fas","fa-scroll","fa-fw"],[1,"fa","fa-upload","fa-fw"],[1,"fa","fa-play","fa-fw"],[1,"far","fa-trash-alt","fa-fw"]],template:function(t,e){1&t&&(w.TgZ(0,"nav",0),w.TgZ(1,"ol",1),w.TgZ(2,"li",2),w.TgZ(3,"a",3),w._uU(4,"Home"),w.qZA(),w.qZA(),w.TgZ(5,"li",2),w.TgZ(6,"a",3),w._uU(7,"Project List"),w.qZA(),w.qZA(),w.YNc(8,as,6,7,"li",4),w.YNc(9,cs,2,0,"li",4),w.qZA(),w.qZA(),w.TgZ(10,"div",5),w.TgZ(11,"h5",6),w._uU(12,"Project information"),w.qZA(),w._UZ(13,"br"),w._UZ(14,"br"),w.YNc(15,us,3,0,"div",7),w.YNc(16,Rs,92,26,"div",8),w.YNc(17,nr,28,20,"div",9),w.qZA()),2&t&&(w.xp6(3),w.Q6J("routerLink",w.DdM(7,ir)),w.xp6(3),w.Q6J("routerLink",w.DdM(8,sr)),w.xp6(2),w.Q6J("ngIf",e.currentProject),w.xp6(1),w.Q6J("ngIf",!e.currentProject),w.xp6(6),w.Q6J("ngIf",e._viewControls.isLoading),w.xp6(1),w.Q6J("ngIf",!e._viewControls.isLoading&&void 0!==e.currentProject),w.xp6(1),w.Q6J("ngIf",e.currentProject))},directives:[P.yS,i.O5,T.VQ,s.JJ,s.On,T.U0,x.d,o.lW,J.KE,d.Nt,s.Fj,s.nD,c.a8,c.dk,c.kc,c.n5,b.Wj,i.sg,b.Zt,c.$j,c.dn,c.rt,i.RF,i.n9,o.zs,c.hq,i.mk],pipes:[X.e],styles:["td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding:1px}.subsetCard[_ngcontent-%COMP%]{box-shadow:0 1px 3px #0000001f,0 1px 2px #0000003d;min-height:80px;background-color:#ffffff80;padding:10px;margin:10px 0;height:150px;overflow:hidden;text-overflow:ellipsis}.viewable[_ngcontent-%COMP%]:hover{background-color:#fff3cd;border-color:#ffeeba;box-shadow:0 10px 20px #00000030,0 6px 6px #0000003b}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.3}"],data:{animation:[zt.M]}}),t})(),data:{path:"project/info"},canActivate:[ns.P]},{path:":pid/fileImport",component:Ze,data:{path:"project/import"},canActivate:[ns.P]},{path:"list",component:es,data:{path:"project/list"},canActivate:[ns.P]},{path:":pid/result/creation",component:yi,data:{path:"project/resultcreate"},canActivate:[ns.P]},{path:"quick-start",component:(()=>{class t{constructor(t,e,n){this.systemService=t,this.projectService=e,this.accountService=n,this._subs=[]}ngOnInit(){this.systemService.toggleNavbar(!0),this.systemService.toggleSidebar(!0),this.systemService.maintainRightSidebarStatus(),this._subs.push(this.projectService.currentProject$.subscribe(t=>this.currentProject=t)),this._subs.push(this.accountService.currentUser$.subscribe(t=>this.currentUser=t))}ngOnDestroy(){this._subs.map(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(w.Y36(K.o),w.Y36(W.Y),w.Y36(G.B))},t.\u0275cmp=w.Xpm({type:t,selectors:[["quick-start"]],decls:89,vars:84,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"breadcrumb-item","active"],["target","_blank",3,"routerLink"],[1,"fas","fa-external-link-alt","ms-3"],[1,"bdp-main-container"],[1,"chi-header"],[1,"row"],["class","col-12",4,"ngIf"],[1,"col-md-6","col-lg-4","col-xl-3","my-3"],[1,"quick-card","link","p-4",3,"routerLink"],[1,"far","fa-address-card","fa-3x"],[1,"text-muted","px-3","desc"],[1,"far","fa-plus-square","fa-3x"],[4,"ngIf"],[1,"fas","fa-th-list","fa-3x"],[1,"fas","fa-history","fa-3x"],[1,"col-12"],[1,"px-3","py-2"],["class","px-5",4,"ngIf"],[1,"quick-card","p-4",3,"routerLink"],[1,"fas","fa-upload","fa-3x"],[1,"fas","fa-play","fa-3x"],[1,"fas","fa-file","fa-3x"],[1,"fas","fa-folder-open","fa-3x"],[1,"quick-card","link","p-4",3,"routerLink","queryParams"],[1,"fas","fa-scroll","fa-3x"],[1,"alert","alert-danger","m-3"],[1,"fas","fa-exclamation-triangle","fa-fw","me-2"],[1,"px-5"]],template:function(t,e){1&t&&(w.TgZ(0,"ol",0),w.TgZ(1,"li",1),w.TgZ(2,"a",2),w._uU(3,"Home"),w.qZA(),w.qZA(),w.TgZ(4,"li",3),w.TgZ(5,"a",2),w._uU(6," Quick Start"),w.qZA(),w.TgZ(7,"a",4),w._UZ(8,"i",5),w.qZA(),w.qZA(),w.qZA(),w.TgZ(9,"div",6),w.TgZ(10,"h3",7),w._uU(11,"Quick Start"),w.qZA(),w.TgZ(12,"div",8),w.YNc(13,rr,4,0,"div",9),w.TgZ(14,"div",10),w.TgZ(15,"div",11),w._UZ(16,"i",12),w.TgZ(17,"h2"),w._uU(18,"User profile"),w.qZA(),w.TgZ(19,"span",13),w._uU(20," You can change your display name here, so that the other users or System Root can recognize you. "),w.qZA(),w.qZA(),w.qZA(),w.TgZ(21,"div",10),w.TgZ(22,"div",11),w._UZ(23,"i",14),w.TgZ(24,"h2"),w._uU(25,"Create a Project"),w.qZA(),w.YNc(26,or,4,0,"b",15),w.TgZ(27,"span",13),w._uU(28," To create a project, You need to specify data processing or analysis packages for that project. Then, all defined tasks/workflows of those packages can be used in the project. The project can be modified after project creation. "),w.qZA(),w.qZA(),w.qZA(),w.TgZ(29,"div",10),w.TgZ(30,"div",11),w._UZ(31,"i",16),w.TgZ(32,"h2"),w._uU(33,"View Projects"),w.qZA(),w.YNc(34,ar,4,0,"b",15),w.TgZ(35,"span",13),w._uU(36," View your own projects, other project that someone shared with you and public projects. "),w.qZA(),w.qZA(),w.qZA(),w.TgZ(37,"div",10),w.TgZ(38,"div",11),w._UZ(39,"i",17),w.TgZ(40,"h2"),w._uU(41,"Recent Activities"),w.qZA(),w.YNc(42,cr,4,0,"b",15),w.TgZ(43,"span",13),w._uU(44," All-related results of all projects are sorted by time and displayed here. The related results may be from your or shared projects. "),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w._UZ(45,"mat-divider"),w.TgZ(46,"div",8),w.TgZ(47,"div",18),w.TgZ(48,"h2",19),w._uU(49,"The following actions require you to select a project first."),w.qZA(),w.YNc(50,pr,8,4,"span",20),w.qZA(),w.TgZ(51,"div",10),w.TgZ(52,"div",21),w._UZ(53,"i",22),w.TgZ(54,"h2"),w._uU(55,"Import Files"),w.qZA(),w.TgZ(56,"span",13),w._uU(57," Once you have selected a project and you do have privileges to import files to that project. This will be DISABLED if you haven't selected a project or you have NO privileges. "),w.qZA(),w.qZA(),w.qZA(),w.TgZ(58,"div",10),w.TgZ(59,"div",11),w._UZ(60,"i",23),w.TgZ(61,"h2"),w._uU(62,"Execute Tasks"),w.qZA(),w.TgZ(63,"span",13),w._uU(64," To perform defined tasks or workflows of packages in the selected project. The packages need to be chosen for the project. You need to select a project first to execute tasks. "),w.qZA(),w.qZA(),w.qZA(),w.TgZ(65,"div",10),w.TgZ(66,"div",11),w._UZ(67,"i",24),w.TgZ(68,"h2"),w._uU(69,"View DataFiles"),w.qZA(),w.TgZ(70,"span",13),w._uU(71," All imported files and result outputs in this project can be found here. "),w.qZA(),w.qZA(),w.qZA(),w.TgZ(72,"div",10),w.TgZ(73,"div",11),w._UZ(74,"i",25),w.TgZ(75,"h2"),w._uU(76,"View Results"),w.qZA(),w.TgZ(77,"span",13),w._uU(78," All results of executed tasks in this project can be found here. This platform records all provenence of every task run: the input arguments, execution time and the output files. "),w.qZA(),w.qZA(),w.qZA(),w.TgZ(79,"div",10),w.TgZ(80,"div",26),w._UZ(81,"i",27),w.TgZ(82,"h2"),w._uU(83,"Project Pages"),w.qZA(),w.TgZ(84,"span",13),w.TgZ(85,"p"),w.TgZ(86,"b"),w._uU(87,"Page"),w.qZA(),w._uU(88," is the customized web interface whic is developed by package builder. The Project Page may provide documentations as well as guide users to upload files and execute tasks. You can change the packages of this project to view the corresponding Page. If the developers of the packages did not provide the customized Pages, you may see the warning of page not found."),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA()),2&t&&(w.xp6(2),w.Q6J("routerLink",w.DdM(66,gr)),w.xp6(3),w.Q6J("routerLink",w.DdM(67,dr)),w.xp6(2),w.Q6J("routerLink",w.DdM(68,dr)),w.xp6(6),w.Q6J("ngIf",!e.currentUser||!e.currentUser.auths||e.currentUser.auths.bdp<2),w.xp6(2),w.Q6J("routerLink",w.DdM(69,hr)),w.xp6(7),w.ekj("link",e.currentUser&&e.currentUser.auths&&e.currentUser.auths.bdp>=2)("inactive",!e.currentUser||!e.currentUser.auths||e.currentUser.auths.bdp<2)("text-muted",!e.currentUser||!e.currentUser.auths||e.currentUser.auths.bdp<2),w.Q6J("routerLink",e.currentUser&&e.currentUser.auths&&e.currentUser.auths.bdp>=2?w.DdM(70,ur):null),w.xp6(4),w.Q6J("ngIf",!e.currentUser||!e.currentUser.auths||e.currentUser.auths.bdp<2),w.xp6(4),w.ekj("link",e.currentUser&&e.currentUser.auths&&e.currentUser.auths.bdp>=2)("inactive",!e.currentUser||!e.currentUser.auths||e.currentUser.auths.bdp<2)("text-muted",!e.currentUser||!e.currentUser.auths||e.currentUser.auths.bdp<2),w.Q6J("routerLink",e.currentUser&&e.currentUser.auths&&e.currentUser.auths.bdp>=2?w.DdM(71,lr):null),w.xp6(4),w.Q6J("ngIf",!e.currentUser||!e.currentUser.auths||e.currentUser.auths.bdp<2),w.xp6(4),w.ekj("link",e.currentUser&&e.currentUser.auths&&e.currentUser.auths.bdp>=2)("inactive",!e.currentUser||!e.currentUser.auths||e.currentUser.auths.bdp<2)("text-muted",!e.currentUser||!e.currentUser.auths||e.currentUser.auths.bdp<2),w.Q6J("routerLink",e.currentUser&&e.currentUser.auths&&e.currentUser.auths.bdp>=2?w.DdM(72,fr):null),w.xp6(4),w.Q6J("ngIf",!e.currentUser||!e.currentUser.auths||e.currentUser.auths.bdp<2),w.xp6(8),w.Q6J("ngIf",e.currentUser&&e.currentUser.auths&&e.currentUser.auths.bdp>=2),w.xp6(2),w.ekj("link",e.currentProject&&e.currentProject.privilege.canAddFile)("inactive",!e.currentProject||!e.currentProject.privilege.canAddFile)("text-muted",!e.currentProject||!e.currentProject.privilege.canAddFile),w.Q6J("routerLink",e.currentProject&&e.currentProject.privilege.canAddFile?w.VKq(73,mr,e.currentProject.id):null),w.xp6(7),w.ekj("link",e.currentProject&&e.currentProject.privilege.canRun)("inactive",!e.currentProject||!e.currentProject.privilege.canRun)("text-muted",!e.currentProject||!e.currentProject.privilege.canRun),w.Q6J("routerLink",e.currentProject&&e.currentProject.privilege.canRun?w.VKq(75,Zr,e.currentProject.id):null),w.xp6(7),w.ekj("link",e.currentProject&&e.currentProject.privilege.canRun)("inactive",!e.currentProject||!e.currentProject.privilege.canRun)("text-muted",!e.currentProject||!e.currentProject.privilege.canRun),w.Q6J("routerLink",e.currentProject&&e.currentProject.privilege.canRun?w.VKq(77,xr,e.currentProject.id):null),w.xp6(7),w.ekj("link",e.currentProject&&e.currentProject.privilege.canRun)("inactive",!e.currentProject||!e.currentProject.privilege.canRun)("text-muted",!e.currentProject||!e.currentProject.privilege.canRun),w.Q6J("routerLink",e.currentProject&&e.currentProject.privilege.canRun?w.VKq(79,vr,e.currentProject.id):null),w.xp6(7),w.ekj("link",e.currentProject&&e.currentProject.privilege.canRun)("inactive",!e.currentProject||!e.currentProject.privilege.canRun)("text-muted",!e.currentProject||!e.currentProject.privilege.canRun),w.Q6J("routerLink",e.currentProject&&e.currentProject.privilege.canRun?w.DdM(81,Tr):null)("queryParams",w.VKq(82,kr,e.currentProject?e.currentProject.id:null)))},directives:[P.yS,i.O5,P.rH,x.d],styles:[".quick-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;align-content:flex-start;height:100%}.quick-card[_ngcontent-%COMP%]:hover{background-color:#cce5fecc}.inactive.quick-card[_ngcontent-%COMP%]:hover{background-color:#e9e9e9cc}.quick-card.inactive[_ngcontent-%COMP%]{opacity:.8}.desc[_ngcontent-%COMP%]{min-height:180px}"]}),t})(),data:{path:"quickstart"},canActivate:[ns.P]}]),wr=[];var qr=n(76605),yr=n(98626),_r=n(3069);let Ar=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=w.oAB({type:t}),t.\u0275inj=w.cJS({providers:[],imports:[[i.ez,s.u5,P.Bz,J.lN,d.c]]}),t})(),Ir=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=w.oAB({type:t}),t.\u0275inj=w.cJS({providers:[],imports:[[i.ez,s.u5,C.Is,d.c,o.ot,f.LD]]}),t})();var Ur=n(43308),jr=n(9951);let Pr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=w.oAB({type:t}),t.\u0275inj=w.cJS({providers:[wr],imports:[[i.ez,s.u5,o.ot,Z.Nh,g.Ps,c.QW,d.c,f.LD,u.p9,l.Hi,v.ie,T.Fk,yr.w,k.T,m.T5,h.TU,_r.E,a.vV,r.Bb,p.To,x.t,qr.c,Ar,Ir,b._t,Ur.S,jr.m,j,br]]}),t})()}}]);