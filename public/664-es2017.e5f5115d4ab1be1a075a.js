(self.webpackChunkbdp_client=self.webpackChunkbdp_client||[]).push([[664],{4664:function(t,e,i){"use strict";i.r(e),i.d(e,{DataFileModule:function(){return wi}});var n=i(31041),a=i(61116),o=i(79961),s=i(95522),r=i(9550),l=i(13841),c=i(84369),d=i(77307),g=i(39084),u=i(39199),f=i(24311),h=i(5609),p=i(40994),Z=i(36278),m=i(59241),x=i(22740),F=i(64078),T=i(48157),w=i(50144),b=i(90817),v=i(78485),q=i(23759),A=i(51729),C=i(79364),_=i(41403),k=i(99235),U=i(44689),N=i(78512),J=i(40878),j=i(35366),D=i(41160),I=i(52572),y=i(44519),Q=i(92935),P=i(48355),M=i(49368),S=i(13070),E=i(41818),Y=i(87064);const L=["tagInput"];function O(t,e){if(1&t){const t=j.EpF();j.TgZ(0,"a",12),j.NdJ("click",function(e){return j.CHM(t),j.oxw().gotoProject(e)}),j._uU(1,"Project"),j.qZA()}}function H(t,e){if(1&t&&(j.TgZ(0,"span"),j._uU(1),j.qZA()),2&t){const t=j.oxw(2);j.xp6(1),j.hij(": ",t.currentProject.name,"")}}const B=function(t){return["/project",t,"info"]};function $(t,e){if(1&t&&(j.TgZ(0,"a",2),j._uU(1,"Project "),j.YNc(2,H,2,1,"span",9),j.qZA()),2&t){const t=j.oxw();j.Q6J("routerLink",j.VKq(2,B,t.dataFile.project)),j.xp6(2),j.Q6J("ngIf",t.currentProject)}}const R=function(t){return["/project",t,"dataFile","list"]};function z(t,e){if(1&t&&(j.TgZ(0,"li",1),j.TgZ(1,"a",2),j._uU(2,"DataFile List "),j.qZA(),j.qZA()),2&t){const t=j.oxw();j.xp6(1),j.Q6J("routerLink",j.VKq(1,R,t.dataFile.project))}}const V=function(t){return["/dataFile",t,"info"]};function K(t,e){if(1&t&&(j.TgZ(0,"li",13),j.TgZ(1,"a",2),j._uU(2,"File"),j.qZA(),j.TgZ(3,"a",14),j._UZ(4,"i",15),j.qZA(),j.qZA()),2&t){const t=j.oxw();j.xp6(1),j.Q6J("routerLink",j.VKq(2,V,t.dataFile.id)),j.xp6(2),j.Q6J("routerLink",j.VKq(4,V,t.dataFile.id))}}function X(t,e){1&t&&(j.TgZ(0,"li",13),j._uU(1,"File"),j.qZA())}function W(t,e){1&t&&(j.TgZ(0,"div"),j._uU(1," Loading... "),j.qZA())}function G(t,e){if(1&t){const t=j.EpF();j.TgZ(0,"p"),j.TgZ(1,"u",34),j._uU(2),j.qZA(),j._uU(3),j.TgZ(4,"u",34),j._uU(5),j.qZA(),j.TgZ(6,"span",24),j.NdJ("click",function(){return j.CHM(t),j.oxw(3).isEditing=!0}),j.qZA(),j.qZA()}if(2&t){const t=j.oxw(3);j.xp6(2),j.Oqu(null==t.dataFile?null:t.dataFile.prefix),j.xp6(1),j.hij(" ",null==t.dataFile?null:t.dataFile.name," "),j.xp6(2),j.Oqu(null==t.dataFile?null:t.dataFile.suffix)}}function tt(t,e){if(1&t){const t=j.EpF();j.ynx(0),j.TgZ(1,"mat-form-field",35),j.TgZ(2,"input",36),j.NdJ("ngModelChange",function(e){return j.CHM(t),j.oxw(3).dataFile.prefix=e}),j.qZA(),j.qZA(),j.TgZ(3,"mat-form-field",35),j.TgZ(4,"input",37),j.NdJ("ngModelChange",function(e){return j.CHM(t),j.oxw(3).dataFile.suffix=e}),j.qZA(),j.qZA(),j.TgZ(5,"mat-form-field",38),j.TgZ(6,"i",39),j.NdJ("click",function(){return j.CHM(t),j.oxw(3).onSave()}),j.qZA(),j.TgZ(7,"input",40),j.NdJ("ngModelChange",function(e){return j.CHM(t),j.oxw(3).dataFile.name=e}),j.qZA(),j.TgZ(8,"span",41),j._UZ(9,"u",42),j.qZA(),j.TgZ(10,"span",43),j._UZ(11,"u",42),j.qZA(),j.qZA(),j.BQk()}if(2&t){const t=j.oxw(3);j.xp6(2),j.Q6J("ngModel",t.dataFile.prefix),j.xp6(2),j.Q6J("ngModel",t.dataFile.suffix),j.xp6(3),j.Q6J("ngModel",t.dataFile.name),j.xp6(2),j.Q6J("innerHTML",null==t.dataFile?null:t.dataFile.prefix,j.oJD),j.xp6(2),j.Q6J("innerHTML",null==t.dataFile?null:t.dataFile.suffix,j.oJD)}}function et(t,e){if(1&t){const t=j.EpF();j.TgZ(0,"mat-form-field",38),j.TgZ(1,"i",39),j.NdJ("click",function(){return j.CHM(t),j.oxw(3).onSave()}),j.qZA(),j.TgZ(2,"textarea",44),j.NdJ("ngModelChange",function(e){return j.CHM(t),j.oxw(3).dataFile.desc=e}),j._uU(3),j.qZA(),j.qZA()}if(2&t){const t=j.oxw(3);j.xp6(2),j.Q6J("ngModel",t.dataFile.desc),j.xp6(1),j.Oqu(t.dataFile.desc)}}function it(t,e){if(1&t&&(j.TgZ(0,"span",47),j._uU(1),j.qZA()),2&t){const t=j.oxw(4);j.ekj("bg-secondary","Folder"!==(null==t.dataFile?null:t.dataFile.format))("bg-success","Folder"===(null==t.dataFile?null:t.dataFile.format)),j.xp6(1),j.hij("",null==t.dataFile?null:t.dataFile.format," ")}}function nt(t,e){if(1&t){const t=j.EpF();j.TgZ(0,"i",24),j.NdJ("click",function(){return j.CHM(t),j.oxw(4).isEditing=!0}),j.qZA()}}function at(t,e){if(1&t){const t=j.EpF();j.TgZ(0,"i",39),j.NdJ("click",function(){return j.CHM(t),j.oxw(5).onSave()}),j.qZA()}}function ot(t,e){if(1&t){const t=j.EpF();j.TgZ(0,"mat-form-field"),j.YNc(1,at,1,0,"i",48),j.TgZ(2,"input",49),j.NdJ("ngModelChange",function(e){return j.CHM(t),j.oxw(4).dataFile.format=e}),j.qZA(),j.qZA()}if(2&t){const t=j.oxw(4);j.xp6(1),j.Q6J("ngIf",t.isEditing),j.xp6(1),j.Q6J("ngModel",t.dataFile.format)}}function st(t,e){if(1&t&&(j.TgZ(0,"div",21),j.TgZ(1,"p"),j.YNc(2,it,2,5,"span",45),j.YNc(3,nt,1,0,"i",46),j.qZA(),j.YNc(4,ot,3,2,"mat-form-field",9),j.qZA()),2&t){const t=j.oxw(3);j.xp6(2),j.Q6J("ngIf",!t.isEditing||t.currentUser.auths.bdp<2||"Folder"===t.dataFile.format),j.xp6(1),j.Q6J("ngIf",!t.isEditing&&t.currentUser.auths.bdp>=2&&"Folder"!==t.dataFile.format),j.xp6(1),j.Q6J("ngIf",t.isEditing&&t.currentUser.auths.bdp>=2&&"Folder"!==t.dataFile.format)}}function rt(t,e){if(1&t){const t=j.EpF();j.TgZ(0,"bdp-tag-input",50),j.NdJ("tagChange",function(e){return j.CHM(t),j.oxw(3).onTagChanged(e)}),j.qZA()}if(2&t){const t=j.oxw(3);j.Q6J("packages",t.currentProject.packages)("tasks",t.tasks)("tags",t.dataFile.tags)("disabled",!t.isEditing)}}function lt(t,e){if(1&t){const t=j.EpF();j.TgZ(0,"div",51),j.TgZ(1,"div",52),j.TgZ(2,"b"),j._uU(3,"Folder"),j.qZA(),j.qZA(),j.TgZ(4,"div",53),j.TgZ(5,"a",2),j._uU(6),j.qZA(),j.TgZ(7,"span",54),j.NdJ("click",function(){j.CHM(t);const e=j.oxw(3);return e._viewControls.moveToDataFileID="",e.moveDataFileToFolder()}),j._uU(8,"(X)"),j.qZA(),j.qZA(),j.qZA()}if(2&t){const t=j.oxw(3);j.xp6(5),j.Q6J("routerLink",j.VKq(2,V,t.currentFolder.id)),j.xp6(1),j.Oqu(t.currentFolder.name)}}function ct(t,e){if(1&t&&(j.TgZ(0,"mat-option",60),j._uU(1),j.qZA()),2&t){const t=j.oxw(4);j.Q6J("value",""),j.xp6(1),j.hij(" Move out of the folder, ",(null==t.currentFolder?null:t.currentFolder.name)||"(no current folder)"," ")}}function dt(t,e){if(1&t&&(j.TgZ(0,"mat-option",60),j._uU(1),j.qZA()),2&t){const t=j.oxw().$implicit;j.Q6J("value",t.id),j.xp6(1),j.Oqu(t.name)}}function gt(t,e){if(1&t&&j.YNc(0,dt,2,2,"mat-option",57),2&t){const t=e.$implicit,i=j.oxw(4);j.Q6J("ngIf",i.dataFile.parent!==t.id)}}function ut(t,e){if(1&t){const t=j.EpF();j.TgZ(0,"div",51),j._UZ(1,"br"),j.TgZ(2,"div",19),j.TgZ(3,"p"),j.TgZ(4,"b"),j._uU(5,"Folder"),j.qZA(),j.qZA(),j.qZA(),j.TgZ(6,"div",21),j.TgZ(7,"p"),j._uU(8,"Move to folder:"),j.qZA(),j.TgZ(9,"mat-form-field",55),j.TgZ(10,"mat-select",56),j.NdJ("ngModelChange",function(e){return j.CHM(t),j.oxw(3)._viewControls.moveToDataFileID=e}),j.YNc(11,ct,2,2,"mat-option",57),j.YNc(12,gt,1,1,"ng-template",58),j.qZA(),j.qZA(),j.TgZ(13,"button",59),j.NdJ("click",function(){return j.CHM(t),j.oxw(3).moveDataFileToFolder()}),j._uU(14,"Confirm"),j.qZA(),j.qZA(),j.qZA()}if(2&t){const t=j.oxw(3);j.xp6(10),j.Q6J("ngModel",t._viewControls.moveToDataFileID),j.xp6(1),j.Q6J("ngIf",t.dataFile.parent),j.xp6(1),j.Q6J("ngForOf",t.folders)}}function ft(t,e){if(1&t){const t=j.EpF();j.TgZ(0,"div"),j.TgZ(1,"div",61),j.TgZ(2,"b"),j._uU(3,"Export"),j.qZA(),j.qZA(),j.TgZ(4,"div",53),j.TgZ(5,"mat-form-field",62),j._UZ(6,"input",63,64),j.TgZ(8,"mat-hint"),j._uU(9,"(if you would also like to share this file to someone)"),j.qZA(),j.qZA(),j._UZ(10,"br"),j._UZ(11,"br"),j.TgZ(12,"button",65),j.NdJ("click",function(){j.CHM(t);const e=j.MAs(7),i=j.oxw(4);return i.dataExport(i.dataFile,"gdrive",e.value)}),j._UZ(13,"i",66),j._uU(14,"Google Drive "),j.qZA(),j.qZA(),j.qZA()}}function ht(t,e){1&t&&(j.TgZ(0,"span"),j._uU(1,"Loading the data ... "),j._UZ(2,"i",67),j.qZA())}function pt(t,e){if(1&t&&(j.TgZ(0,"div"),j._UZ(1,"img",68),j.qZA()),2&t){const t=j.oxw(4);j.xp6(1),j.Q6J("src","./data/api/dataFile/"+t.dataFile.id+"/view",j.LSH)}}function Zt(t,e){if(1&t&&(j.TgZ(0,"div",18),j._UZ(1,"br"),j.YNc(2,ft,15,0,"div",9),j._UZ(3,"br"),j.YNc(4,ht,3,0,"span",9),j._UZ(5,"hr"),j.YNc(6,pt,2,1,"div",9),j.qZA()),2&t){const t=j.oxw(3);j.xp6(2),j.Q6J("ngIf","csv"==t.dataFile.format&&t._viewControls.showExportAndShare),j.xp6(2),j.Q6J("ngIf",t._viewControls.isDataLoading),j.xp6(2),j.Q6J("ngIf",t.isImage)}}function mt(t,e){if(1&t&&(j.TgZ(0,"span",88),j._uU(1),j.qZA()),2&t){const t=e.$implicit;j.xp6(1),j.Oqu(t)}}function xt(t,e){if(1&t){const t=j.EpF();j.TgZ(0,"tr"),j.TgZ(1,"td"),j.TgZ(2,"a",2),j._uU(3),j.qZA(),j.qZA(),j.TgZ(4,"td"),j.TgZ(5,"span",82),j._uU(6),j.qZA(),j.qZA(),j.TgZ(7,"td"),j.YNc(8,mt,2,1,"span",83),j.qZA(),j.TgZ(9,"td"),j.TgZ(10,"button",84),j.NdJ("click",function(){const e=j.CHM(t).$implicit;return j.oxw(5).onUnTrackFile(e)}),j.TgZ(11,"span",85),j._UZ(12,"i",86),j._UZ(13,"i",87),j.qZA(),j.qZA(),j.qZA(),j.qZA()}if(2&t){const t=e.$implicit;j.xp6(2),j.Q6J("routerLink",j.VKq(4,V,t.id)),j.xp6(1),j.Oqu(t.name),j.xp6(3),j.Oqu(t.format),j.xp6(2),j.Q6J("ngForOf",t.tags)}}function Ft(t,e){if(1&t&&(j.TgZ(0,"span"),j.TgZ(1,"div",79),j.TgZ(2,"table",80),j.TgZ(3,"thead"),j.TgZ(4,"tr"),j.TgZ(5,"th"),j._uU(6,"Name"),j.qZA(),j.TgZ(7,"th"),j._uU(8,"Format"),j.qZA(),j.TgZ(9,"th"),j._uU(10,"Tags"),j.qZA(),j._UZ(11,"th"),j.qZA(),j.qZA(),j.TgZ(12,"tbody"),j.YNc(13,xt,14,6,"ng-template",81),j.qZA(),j.qZA(),j.qZA(),j.qZA()),2&t){const t=j.oxw(4);j.xp6(13),j.Q6J("ngForOf",t.trackingFiles)("ngForTrackBy",t.trackByDataFile)}}function Tt(t,e){1&t&&(j.TgZ(0,"span"),j._uU(1,"Load folder content"),j.qZA())}function wt(t,e){1&t&&(j.TgZ(0,"span"),j._uU(1,"Loading folder content"),j.qZA())}function bt(t,e){if(1&t){const t=j.EpF();j.TgZ(0,"button",89),j.NdJ("click",function(){return j.CHM(t),j.oxw(4).listFiles()}),j.YNc(1,Tt,2,0,"span",9),j.YNc(2,wt,2,0,"span",9),j.qZA()}if(2&t){const t=j.oxw(4);j.Q6J("disabled",t.isLoadingFolderContent),j.xp6(1),j.Q6J("ngIf",!t.isLoadingFolderContent),j.xp6(1),j.Q6J("ngIf",t.isLoadingFolderContent)}}function vt(t,e){1&t&&(j.TgZ(0,"span"),j._uU(1,"The folder is empty"),j.qZA())}function qt(t,e){if(1&t){const t=j.EpF();j.TgZ(0,"mat-tree-node",90),j.TgZ(1,"li",91),j._UZ(2,"button",92),j.TgZ(3,"mat-checkbox",93),j.NdJ("change",function(){const e=j.CHM(t).$implicit;return j.oxw(4).onTrackFileChange(e)}),j._UZ(4,"i",94),j.TgZ(5,"span",95),j._uU(6),j.qZA(),j.qZA(),j.qZA(),j.qZA()}if(2&t){const t=e.$implicit;j.xp6(3),j.Q6J("checked",t.state.selected),j.xp6(2),j.Udp("font-weight",t.state.highlighted?800:400),j.xp6(1),j.Oqu(t.text)}}function At(t,e){if(1&t){const t=j.EpF();j.TgZ(0,"mat-nested-tree-node"),j.TgZ(1,"li"),j.TgZ(2,"div",91),j.TgZ(3,"button",96),j.NdJ("click",function(){const e=j.CHM(t).$implicit;return j.oxw(4).toggleFiles(e)}),j.TgZ(4,"mat-icon",97),j._uU(5),j.qZA(),j.qZA(),j.TgZ(6,"mat-checkbox",98),j.NdJ("change",function(){const e=j.CHM(t).$implicit;return j.oxw(4).onTrackFileChange(e)}),j._UZ(7,"i",99),j.TgZ(8,"span",100),j._uU(9),j.qZA(),j.qZA(),j.qZA(),j.TgZ(10,"ul"),j.GkF(11,101),j.qZA(),j.qZA(),j.qZA()}if(2&t){const t=e.$implicit,i=j.oxw(4);j.xp6(3),j.uIk("aria-label","toggle "+t.text),j.xp6(2),j.hij(" ",i.nestedTreeControl&&i.nestedTreeControl.isExpanded(t)?"expand_more":"chevron_right"," "),j.xp6(1),j.Q6J("checked",t.state.selected)("indeterminate",!t.state.selected&&t.state.highlighted),j.xp6(2),j.Udp("font-weight",t.state.highlighted?800:400),j.xp6(1),j.Oqu(t.text),j.xp6(1),j.ekj("example-tree-invisible",i.nestedTreeControl&&!(null!=i.nestedTreeControl&&i.nestedTreeControl.isExpanded(t)))}}const Ct=function(){return["/page"]},_t=function(t){return{datafile:t,static:"true"}},kt=function(t){return["/data","api","dataFile",t,"static"]},Ut=function(){return[]};function Nt(t,e){if(1&t&&(j.TgZ(0,"div",18),j.TgZ(1,"div",69),j.TgZ(2,"h4"),j._uU(3,"Tracked file(s)"),j.qZA(),j.YNc(4,Ft,14,2,"span",9),j.qZA(),j.TgZ(5,"div",70),j.TgZ(6,"h4"),j.TgZ(7,"a",71),j._UZ(8,"i",72),j._uU(9," Contained files "),j.qZA(),j.TgZ(10,"a",73),j._UZ(11,"i",74),j.qZA(),j.qZA(),j.YNc(12,bt,3,3,"button",75),j.YNc(13,vt,2,0,"span",9),j.TgZ(14,"mat-tree",76),j.YNc(15,qt,7,4,"mat-tree-node",77),j.YNc(16,At,12,9,"mat-nested-tree-node",78),j.qZA(),j.qZA(),j.qZA()),2&t){const t=j.oxw(3);j.xp6(4),j.Q6J("ngIf",t.currentProject&&t.dataFile),j.xp6(3),j.Q6J("routerLink",j.DdM(9,Ct))("queryParams",j.VKq(10,_t,t.dataFile.id)),j.xp6(3),j.Q6J("routerLink",j.VKq(12,kt,t.dataFile.id)),j.xp6(2),j.Q6J("ngIf",!t.folderContentInitialized),j.xp6(1),j.Q6J("ngIf",t.folderContentInitialized&&(null==t.childrenNodes?null:t.childrenNodes.getValue())&&0===((null==t.childrenNodes?null:t.childrenNodes.getValue())||j.DdM(14,Ut)).length),j.xp6(1),j.Q6J("dataSource",t.nestedDataSource)("treeControl",t.nestedTreeControl),j.xp6(2),j.Q6J("matTreeNodeDefWhen",t.hasChildrenNodes)}}function Jt(t,e){if(1&t){const t=j.EpF();j.TgZ(0,"div"),j.TgZ(1,"div",18),j.TgZ(2,"div",19),j.TgZ(3,"b"),j._uU(4,"Name"),j.qZA(),j.qZA(),j.TgZ(5,"div",20),j.NdJ("dblclick",function(){return j.CHM(t),j.oxw(2).isEditing=!0}),j.YNc(6,G,7,3,"p",9),j.YNc(7,tt,12,5,"ng-container",9),j.qZA(),j.qZA(),j.TgZ(8,"div",18),j.TgZ(9,"div",19),j.TgZ(10,"b"),j._uU(11,"Description"),j.qZA(),j.qZA(),j.TgZ(12,"div",21),j.TgZ(13,"div",22),j.TgZ(14,"p",23),j._uU(15),j.TgZ(16,"i",24),j.NdJ("click",function(){return j.CHM(t),j.oxw(2).isEditing=!0}),j.qZA(),j.qZA(),j.qZA(),j.YNc(17,et,4,2,"mat-form-field",25),j.qZA(),j.qZA(),j.TgZ(18,"div",18),j.TgZ(19,"div",19),j.TgZ(20,"b"),j._uU(21,"Owner"),j.qZA(),j.qZA(),j.TgZ(22,"div",21),j.TgZ(23,"p"),j._uU(24),j.qZA(),j.qZA(),j.qZA(),j.TgZ(25,"div",18),j.TgZ(26,"div",19),j.TgZ(27,"b"),j._uU(28,"Creation"),j.qZA(),j.qZA(),j.TgZ(29,"div",21),j.TgZ(30,"p"),j._uU(31),j.qZA(),j.qZA(),j.qZA(),j.TgZ(32,"div",18),j.TgZ(33,"div",19),j.TgZ(34,"b"),j._uU(35,"Format"),j.qZA(),j.qZA(),j.YNc(36,st,5,3,"div",26),j.qZA(),j.TgZ(37,"div",27),j.TgZ(38,"div",19),j.TgZ(39,"p"),j.TgZ(40,"b"),j._uU(41,"Tags"),j.qZA(),j.qZA(),j.qZA(),j.TgZ(42,"div",21),j.YNc(43,rt,1,4,"bdp-tag-input",28),j.qZA(),j.qZA(),j.TgZ(44,"div",18),j.TgZ(45,"div",19),j.TgZ(46,"p"),j.TgZ(47,"b"),j._uU(48,"Server path"),j.qZA(),j.qZA(),j.qZA(),j.TgZ(49,"div",21),j.TgZ(50,"p"),j.TgZ(51,"small",29),j._uU(52),j.qZA(),j.TgZ(53,"button",30),j.NdJ("click",function(){return j.CHM(t),j.oxw(2).copyFilePath()}),j._UZ(54,"i",31),j.qZA(),j.qZA(),j.qZA(),j.qZA(),j._UZ(55,"mat-divider"),j.YNc(56,lt,9,4,"div",32),j.YNc(57,ut,15,3,"div",32),j.YNc(58,Zt,7,3,"div",33),j._UZ(59,"br"),j.YNc(60,Nt,17,15,"div",33),j.qZA()}if(2&t){const t=j.oxw(2);j.xp6(6),j.Q6J("ngIf",!t.isEditing),j.xp6(1),j.Q6J("ngIf",t.isEditing),j.xp6(6),j.Q6J("hidden",t.isEditing),j.xp6(2),j.hij("",(null==t.dataFile?null:t.dataFile.desc)||"None."," "),j.xp6(2),j.Q6J("ngIf",t.isEditing),j.xp6(7),j.Oqu(t.dataFile.owner?t.dataFile.owner.name:"Unknown"),j.xp6(7),j.Oqu(null==t.dataFile||null==t.dataFile.createdAt?null:t.dataFile.createdAt.calendar()),j.xp6(5),j.Q6J("ngIf",t.currentUser),j.xp6(7),j.Q6J("ngIf",t.dataFile&&t.currentProject),j.xp6(9),j.Oqu(t.dataFile.realPath||t.dataFile.path),j.xp6(4),j.Q6J("ngIf",t.dataFile.parent&&t.currentFolder),j.xp6(1),j.Q6J("ngIf",!t.dataFile.parent&&"Folder"!==t.dataFile.format&&t._viewControls.showMoveToFolder),j.xp6(1),j.Q6J("ngIf","Folder"!==t.dataFile.format),j.xp6(2),j.Q6J("ngIf","Folder"==t.dataFile.format)}}function jt(t,e){1&t&&j._UZ(0,"div",102)}function Dt(t,e){if(1&t&&(j.TgZ(0,"div",16),j.YNc(1,Jt,61,14,"div",9),j.YNc(2,jt,1,0,"div",17),j.qZA()),2&t){const t=j.oxw();j.xp6(1),j.Q6J("ngIf",!t.isLoading),j.xp6(1),j.Q6J("ngIf",t.isDeleting)}}function It(t,e){1&t&&j._UZ(0,"i",114)}function yt(t,e){1&t&&j._UZ(0,"i",115)}const Qt=function(t,e){return{"fa-edit":t,"fa-save":e}};function Pt(t,e){if(1&t){const t=j.EpF();j.TgZ(0,"a",104),j.NdJ("click",function(){return j.CHM(t),j.oxw(2).onSave()}),j._UZ(1,"i",116),j.TgZ(2,"span",111),j._uU(3),j.qZA(),j.TgZ(4,"span",108),j._uU(5,"\u276f"),j.qZA(),j.qZA()}if(2&t){const t=j.oxw(2);j.ekj("active",t.isEditing),j.xp6(1),j.Q6J("ngClass",j.WLB(6,Qt,!t.isEditing,t.isEditing)),j.xp6(1),j.ekj("active",t.showRightButtonContent||t.isEditing),j.xp6(1),j.Oqu(t.isEditing?"Save":"Edit")}}function Mt(t,e){if(1&t){const t=j.EpF();j.ynx(0),j.TgZ(1,"a",104),j.NdJ("click",function(){return j.CHM(t),j.oxw(2).importFileDialog()}),j._UZ(2,"i",117),j.TgZ(3,"span",111),j._uU(4,"Import files"),j.qZA(),j.TgZ(5,"span",108),j._uU(6,"\u276f"),j.qZA(),j.qZA(),j._UZ(7,"br"),j.BQk()}if(2&t){const t=j.oxw(2);j.xp6(1),j.ekj("active",!!t._viewControls.showCreateFolder),j.xp6(2),j.ekj("active",t.showRightButtonContent||t._viewControls.showCreateFolder)}}function St(t,e){if(1&t){const t=j.EpF();j.TgZ(0,"a",104),j.NdJ("click",function(){j.CHM(t);const e=j.oxw(2);return e.deleteDataFileDialog(e.dataFile)}),j._UZ(1,"i",118),j.TgZ(2,"span",111),j._uU(3,"Delete"),j.qZA(),j.TgZ(4,"span",108),j._uU(5,"\u276f"),j.qZA(),j.qZA()}if(2&t){const t=j.oxw(2);j.xp6(2),j.ekj("active",t.showRightButtonContent)}}const Et=function(t){return{datafile:t}};function Yt(t,e){if(1&t&&(j.TgZ(0,"a",119),j._UZ(1,"i",120),j.TgZ(2,"span",111),j._uU(3,"File Page"),j.qZA(),j.TgZ(4,"span",108),j._uU(5,"\u276f"),j.qZA(),j.qZA()),2&t){const t=j.oxw(2);j.Q6J("routerLink",j.DdM(4,Ct))("queryParams",j.VKq(5,Et,t.dataFile.id)),j.xp6(2),j.ekj("active",t.showRightButtonContent)}}function Lt(t,e){if(1&t){const t=j.EpF();j.TgZ(0,"a",104),j.NdJ("click",function(){j.CHM(t);const e=j.oxw(2);return e._viewControls.showMoveToFolder=!e._viewControls.showMoveToFolder}),j.TgZ(1,"span",121),j._UZ(2,"i",122),j._UZ(3,"i",123),j.qZA(),j.TgZ(4,"span",111),j._uU(5,"Move to Folder"),j.qZA(),j.TgZ(6,"span",108),j._uU(7,"\u276f"),j.qZA(),j.qZA()}if(2&t){const t=j.oxw(2);j.ekj("active",t._viewControls.showMoveToFolder),j.xp6(4),j.ekj("active",t.showRightButtonContent||t._viewControls.showMoveToFolder)}}function Ot(t,e){if(1&t){const t=j.EpF();j.TgZ(0,"a",104),j.NdJ("click",function(){j.CHM(t);const e=j.oxw(2);return e._viewControls.showExportAndShare=!e._viewControls.showExportAndShare}),j._UZ(1,"i",124),j.TgZ(2,"span",111),j._uU(3,"Export"),j.qZA(),j.TgZ(4,"span",108),j._uU(5,"\u276f"),j.qZA(),j.qZA()}if(2&t){const t=j.oxw(2);j.ekj("active",t._viewControls.showExportAndShare),j.xp6(2),j.ekj("active",t.showRightButtonContent||t._viewControls.showExportAndShare)}}function Ht(t,e){if(1&t){const t=j.EpF();j.TgZ(0,"div",103),j.TgZ(1,"a",104),j.NdJ("click",function(){j.CHM(t);const e=j.oxw();return e.showRightButtonContent=!e.showRightButtonContent}),j.YNc(2,It,1,0,"i",105),j.YNc(3,yt,1,0,"i",106),j.TgZ(4,"span",107),j._uU(5,"MENU"),j.qZA(),j.TgZ(6,"span",108),j._uU(7,"\u276f"),j.qZA(),j.qZA(),j._UZ(8,"br"),j.YNc(9,Pt,6,9,"a",109),j._UZ(10,"br"),j.YNc(11,Mt,8,4,"ng-container",9),j.TgZ(12,"a",104),j.NdJ("click",function(){return j.CHM(t),j.oxw().onDownloadBtn()}),j._UZ(13,"i",110),j.TgZ(14,"span",111),j._uU(15,"Download"),j.qZA(),j.TgZ(16,"span",108),j._uU(17,"\u276f"),j.qZA(),j.qZA(),j._UZ(18,"br"),j.YNc(19,St,6,2,"a",112),j._UZ(20,"br"),j.YNc(21,Yt,6,7,"a",113),j._UZ(22,"br"),j.YNc(23,Lt,8,4,"a",109),j._UZ(24,"br"),j.YNc(25,Ot,6,4,"a",109),j._UZ(26,"br"),j.qZA()}if(2&t){const t=j.oxw();j.Q6J("@rightButtonState",t.showRightButtonContent?"active":"inactive"),j.xp6(2),j.Q6J("ngIf",t.showRightButtonContent),j.xp6(1),j.Q6J("ngIf",!t.showRightButtonContent),j.xp6(1),j.ekj("active",t.showRightButtonContent),j.xp6(5),j.Q6J("ngIf",!t.dataFile.readOnly),j.xp6(2),j.Q6J("ngIf",(null==t.currentProject||null==t.currentProject.privilege?null:t.currentProject.privilege.canAddFile)&&"Folder"===t.dataFile.format),j.xp6(3),j.ekj("active",t.showRightButtonContent),j.xp6(5),j.Q6J("ngIf",!t.dataFile.readOnly),j.xp6(2),j.Q6J("ngIf",t.currentProject&&t.currentProject.getValidFilePageKeys(t.dataFile.tags,t.dataFile.format).length>0),j.xp6(2),j.Q6J("ngIf","Folder"!==t.dataFile.format&&!t.dataFile.parent),j.xp6(2),j.Q6J("ngIf","csv"==t.dataFile.format)}}const Bt=function(){return["/home"]},$t=function(){return["/project/list"]};let Rt=(()=>{class t{constructor(t,e,i,n,a,o,s,r){this.router=t,this.route=e,this.accountService=i,this.projectService=n,this.dataService=a,this.dialogRef=o,this.systemService=s,this.taskService=r,this.isLoading=!0,this.showRightButtonContent=!1,this.isEditing=!1,this.folderContentInitialized=!1,this.isLoadingFolderContent=!1,this.isDeleting=!1,this.nestedTreeControl=new q.VY(t=>t.children),this.nestedDataSource=new g.WX,this.hintTags=[],this.tasks=[],this.tagInputValue="",this.separatorKeysCodes=[k.K5,k.OC],this.validTags=[],this.filteredTags=[],this.textToBeTag="",this.allowedFormats=[],this._subs=[],this.recaptchaKey="",this.pathToName={},this.features=[]}ngOnInit(){this.systemService.toggleNavbar(!0),this.systemService.toggleSidebar(!0),this.systemService.maintainRightSidebarStatus(),this.childrenNodes=new N.X([]),this._viewControls={isDataLoading:!1,viewMode:"",showMoveToFolder:!1,showExportAndShare:!1,moveToDataFileID:"",fileTreeOption:{},confirmDelete:""},this._subs.push(this.taskService.taskList$.subscribe(t=>{t&&(this.tasks=(0,A.X)(t,[t=>t.name],["asc"]),this.validTags=this.getValidTags(t))})),this._subs.push(this.accountService.currentUser$.subscribe(t=>this.currentUser=t)),this._subs.push(this.dataService.incomingData$.subscribe(t=>this.resultData=t.data)),this._subs.push(this.projectService.currentProject$.subscribe(t=>{var e;t&&t.id!==(null===(e=this.currentProject)||void 0===e?void 0:e.id)&&(this.currentProject=t,this.currentProject&&(this.allowedFormats=[...new Set([].concat.apply([],this.currentProject.packages.map(t=>t.allowedFormats)))].map(t=>String(t))),this.updateChildrenNodes(),t.packages&&this.taskService.loadTasks(t.packages.map(t=>t.id)))})),this.route.queryParamMap.subscribe(t=>this.isEditing="1"===t.get("edit")),this.route.paramMap.pipe((0,U.w)(t=>{const e=t.get("dataId");return this.isLoading=!0,this.resultData=void 0,this.dataFile=void 0,this._viewControls.viewMode="",e?this.projectService.loadDataFileInfo(e):(0,J.of)(new v.j({errors:[],success:null}))})).subscribe(t=>{this.dataFile=t.success,this._viewControls.showMoveToFolder=!1,this.isLoading=!1,this.resultData=void 0,this.systemService.toggleNavbar(!0),this.systemService.maintainRightSidebarStatus()}),this._subs.push(this.systemService.sysInfo$.subscribe(t=>{this.sysConfig=t,t&&(this.recaptchaKey=t.reCaptchaSiteKey)})),this.childrenNodes.subscribe(t=>this.nestedDataSource?this.nestedDataSource.data=t:"")}getValidTags(t){const e={};return t.forEach(t=>{const i=t.arguments.filter(t=>"inFile"===t.type||"outFile"===t.type).map(t=>t.tags);[].concat.apply([],i).forEach(t=>e[t]=1)}),Object.keys(e)}loadData(){if(!this.dataFile)return;let t="";this.dataFile&&"csv"===this.dataFile.format?t="table":this.dataFile&&"json"===this.dataFile.format&&(t="json"),this.dataService.getData(this.dataFile.id,t,!1)}get isImage(){return!!this.dataFile&&!!this.dataFile.format.toLowerCase().match(/jpg|jpeg|gif|png/)}get folders(){return this.currentProject&&this.currentProject.dataFiles?this.currentProject.dataFiles.filter(t=>"Folder"===t.format&&!t.hidden):[]}get trackingFiles(){const t=[];if(this.currentProject&&this.dataFile){const e=this.currentProject.dataFiles;for(let i=0;i<e.length;i++)e[i].id!==this.dataFile.id&&(this.dataFile.id===e[i].parent||this.dataFile.parent&&this.dataFile.parent===e[i].parent)&&(t.push(e[i]),this.pathToName[e[i].path]=e[i].name)}return t}get currentFolder(){if(this.currentProject&&this.currentProject.dataFiles)return this.currentProject.dataFiles.filter(t=>"Folder"===t.format&&this.dataFile&&this.dataFile.parent===t.id)[0]}getNameByPath(t){let e="";if(this.currentProject&&this.dataFile)if(this.dataFile.path===t)e=`${this.dataFile.name}.${this.dataFile.format}`;else{const i=this.trackingFiles;for(let n=0;n<i.length;n++)i[n].path!==t&&i[n].realPath!==t||(e=`${i[n].name}.${i[n].format}`)}return e}isTracked(t){let e=0;if(this.currentProject&&this.dataFile)if(this.dataFile.path===t)e=1;else{const i=this.trackingFiles;for(let n=0;n<i.length;n++)i[n].path===t||i[n].realPath===t?e=1:0===i[n].path.indexOf(t)&&(e=2)}return e}setViewMode(t){this._viewControls.viewMode=t}trackByDataFile(t,e){return e.id}onSave(){if(this.isEditing){this.isEditing=!1;const t=this.dataFile;if(!t)return;const e=this.projectService.updateDataFileInfo(t).subscribe(t=>(e.unsubscribe(),!t.isError&&(this.dataFile=t.success)))}else this.isEditing=!0}onDownloadBtn(){this.dataFile&&this.dataService.downloadData(this.dataFile.id)}gotoProject(t){if(!this.dataFile)return;const e=this.dataFile.project;e&&this.router.navigate(["/project",e,"/info"])}gotoResult(){if(!this.dataFile)return;const t=this.dataFile.result;t&&this.router.navigate(["/result/",t,"/info"])}deleteDataFileDialog(t){const e=this.dialogRef.open(_.N,{disableClose:!1});e.componentInstance.setOptions({title:'<h4 class="modal-title text-danger">You are going to delete the data file:\'<strong>'+t.name+"</strong>'?</h4>",desc:'<span class="text-danger">This will delete the data file, name: <b>'+t.name+"</b><br>This cannot be undone. Make sure this is something you really want to do!</span><br>"});const i=e.afterClosed().subscribe(e=>(i.unsubscribe(),e&&this.deleteDataFile(t,e)))}dataExport(t,e,i){this.projectService.exportDataFile(t,e,i),this._viewControls.showExportAndShare=!1}moveDataFileToFolder(){if(!this.dataFile)return;if(!this.dataFile.parent&&""===this._viewControls.moveToDataFileID)return;if(this.dataFile.parent===this._viewControls.moveToDataFileID)return;const t=this.projectService.moveDataFileToFolder(this.dataFile,this._viewControls.moveToDataFileID).subscribe(e=>{t.unsubscribe(),this._viewControls.showMoveToFolder=!1,this._viewControls.moveToDataFileID="",e.isError||(this.dataFile=e.success)})}onTrackFileChange(t){if(!this.dataFile)return;if("Folder"!==this.dataFile.format)return;const e=t.value.path;if(t.state.selected){t.state.selected=!1;const i=this.trackingFiles.filter(t=>t.path===e||t.realPath===e)[0];if(i&&(i.parent===this.dataFile.id||this.dataFile.parent==this.dataFile.parent)){const e=this.projectService.untrackDataFile(i).subscribe(i=>{if(e.unsubscribe(),i.isError)t.state.selected=!0;else{const e=this.isTracked(t.value.path);t.state.highlighted=e>0}})}}else{t.state.highlighted=!0;const i=this.projectService.trackDataFile(e,this.dataFile).subscribe(e=>{i.unsubscribe(),e.isError||(t.state.highlighted=!0,t.state.selected=!0)})}}toggleFiles(t){if(t.state.opened||"directory"!==t.value.type){if(t.state.opened=!t.state.opened,!this.nestedTreeControl)return;t.state.opened?this.nestedTreeControl.expand(t):this.nestedTreeControl.collapse(t)}else{if(t.state.loading=!0,!this.dataFile)return;const e=this.projectService.listFilesInDataFolder(this.dataFile,t.value.path).subscribe(i=>{e.unsubscribe();const n=i.success.map(t=>this._convertTreeData(t));t.children.next(n),t.state.loading=!1,t.state.opened=!t.state.opened,this.nestedTreeControl&&this.nestedTreeControl.expand(t)})}}hasChildrenNodes(t,e){return"directory"===e.value.type}listFiles(){if(this.isLoadingFolderContent=!0,!this.dataFile)return;const t=this.projectService.listFilesInDataFolder(this.dataFile).subscribe(e=>(t.unsubscribe(),this.isLoadingFolderContent=!1,this.folderContentInitialized=!0,!e.isError&&this.childrenNodes&&this.childrenNodes.next(e.success.map(t=>this._convertTreeData(t)))))}updateChildrenNodes(){this.childrenNodes&&this.childrenNodes.next(this.childrenNodes.value.map(t=>this._convertTreeData(t)))}onTrackFile(t,e){if(t.preventDefault(),t.stopPropagation(),this.dataFile&&"Folder"===this.dataFile.format){const t=this.projectService.trackDataFile(e.data.path,this.dataFile).subscribe(e=>(t.unsubscribe(),!e.isError&&this.listFiles()))}}onUnTrackFile(t){if(this.dataFile&&t.parent===this.dataFile.id){const e=this.projectService.untrackDataFile(t).subscribe(t=>(e.unsubscribe(),!t.isError&&this.updateChildrenNodes()))}}onTagChanged(t){this.dataFile&&(this.dataFile.tags=t)}importFileDialog(){this.dataFile&&"Folder"===this.dataFile.format&&(this._viewControls.showCreateFolder=!0,this.dialogRef.open(C.s,{width:"99%",height:"95%",maxWidth:"95vw",maxHeight:"95vh",data:{allowedFormats:this.allowedFormats,project:this.currentProject,sysConfig:this.sysConfig,parentDataFileID:this.dataFile.id,tasks:this.tasks,importType:"local",currentUser:this.currentUser,tags:[]}}).afterClosed().subscribe(()=>{this._viewControls.showCreateFolder=!1}))}copyFilePath(){if(!this.dataFile)return;const t=document.createElement("textarea");t.style.position="fixed",t.style.left="0",t.style.top="0",t.style.opacity="0",t.value=this.dataFile.path||this.dataFile.realPath,document.body.appendChild(t),t.focus(),t.select(),document.execCommand("copy"),document.body.removeChild(t)}ngOnDestroy(){this._subs.forEach(t=>t.unsubscribe())}_convertTreeData(t){const e=this.isTracked(t.path);if(t.state){const e=this.getNameByPath(t.value.path);return t.state.selected=!!e,t.state.highlighted=!!e,t.text=e||t.text,t.children&&t.children.length>0&&(t.children=new N.X(t.children.map(t=>this._convertTreeData(t)))),t}return{text:t.name,value:t,children:new N.X("directory"===t.type?t.children.map(t=>this._convertTreeData(t)):[]),icon:t.children?void 0:"tree-file",state:{opened:!1,selected:1===e,disabled:!1,loading:!1,highlighted:e>0,openable:"directory"===t.type,dropAllowed:!1}}}deleteDataFile(t,e){this.isDeleting=!0,t.status=3;const i=this.projectService.deleteDataFile(t).subscribe(t=>{var e;if(i.unsubscribe(),!this.dataFile&&!this.currentProject)return;const n=this.dataFile?this.dataFile.project:null===(e=this.currentProject)||void 0===e?void 0:e.id;this.router.navigate(["/project",n,"dataFile","list"])})}}return t.\u0275fac=function(e){return new(e||t)(j.Y36(w.F0),j.Y36(w.gz),j.Y36(D.B),j.Y36(I.Y),j.Y36(y.D),j.Y36(Q.uw),j.Y36(P.o),j.Y36(M.M))},t.\u0275cmp=j.Xpm({type:t,selectors:[["datafile-info"]],viewQuery:function(t,e){if(1&t&&j.Gf(L,5),2&t){let t;j.iGM(t=j.CRH())&&(e.tagInput=t.first)}},decls:21,vars:12,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],["class","link",3,"click",4,"ngIf"],[3,"routerLink",4,"ngIf"],["class","breadcrumb-item",4,"ngIf"],["class","breadcrumb-item active",4,"ngIf"],[1,"bdp-main-container"],[1,"chi-header"],[4,"ngIf"],["class","container-fluid","style","height: 100%",4,"ngIf"],["class","chi-right-menu",4,"ngIf"],[1,"link",3,"click"],[1,"breadcrumb-item","active"],["target","_blank",3,"routerLink"],[1,"fas","fa-external-link-alt","ms-3"],[1,"container-fluid",2,"height","100%"],["class","overlay",4,"ngIf"],[1,"row"],[1,"col-md-3","col-lg-2"],[1,"col-md-9","col-lg-10",3,"dblclick"],[1,"col-md-9","col-lg-10"],[3,"hidden"],[2,"word-break","break-all"],[1,"ms-1","link","fa","fa-edit","fa-lg",3,"click"],["style","width: 100%;",4,"ngIf"],["class","col-md-9 col-lg-10",4,"ngIf"],[1,"row",2,"margin-top","10px"],[3,"packages","tasks","tags","disabled","tagChange",4,"ngIf"],[1,"text-muted"],["mat-icon-button","",3,"click"],[1,"far","fa-copy","fa-fw","fa-lg","ms-2"],["class","row my-2",4,"ngIf"],["class","row",4,"ngIf"],[1,"text-muted",2,"white-space","pre"],[2,"width","50%"],["matInput","","type","text","maxlength","36","size","36","placeholder","The prefix for the data file(s)",3,"ngModel","ngModelChange"],["matInput","","type","text","maxlength","36","size","36","placeholder","The suffix for the data file(s)",3,"ngModel","ngModelChange"],[2,"width","100%"],["matPrefix","",1,"link","fa","fa-save","fa-lg","me-1",3,"click"],["matInput","","type","text","maxlength","80","size","80","placeholder","The DataFile name (length must be smaller or equal than 80 characters)",3,"ngModel","ngModelChange"],["matPrefix",""],[1,"text-muted",2,"white-space","pre",3,"innerHTML"],["matSuffix",""],["matInput","","placeholder","Say something about this DataFile. (max length: 300 characters)","maxlength","300","rows","4",3,"ngModel","ngModelChange"],["class","badge m-1",3,"bg-secondary","bg-success",4,"ngIf"],["class","ms-1 link fa fa-edit fa-lg",3,"click",4,"ngIf"],[1,"badge","m-1"],["matPrefix","","class","link fa fa-save fa-lg me-1",3,"click",4,"ngIf"],["matInput","","type","text","maxlength","16","size","16","placeholder","The data file format",3,"ngModel","ngModelChange"],[3,"packages","tasks","tags","disabled","tagChange"],[1,"row","my-2"],[1,"col-md-2"],[1,"col-md-10"],[1,"link",2,"text-decoration","underline",3,"click"],[2,"width","320px"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngIf"],["ngFor","",3,"ngForOf"],["mat-raised-button","","type","button","color","primary",3,"click"],[3,"value"],[1,"col-md-2",2,"line-height","1.42857143"],[2,"width","350px"],["matInput","","type","text","placeholder","[Optional] Put the email to share"],["shareEmail",""],["mat-raised-button","","type","button",1,"btn","btn-danger","btn-xs",3,"click"],[1,"fab","fa-google-drive","me-2"],[1,"fas","fa-circle-o-notch","fa-spin","fa-fw"],[1,"img-responsive",3,"src"],[1,"col-md-6",2,"border-right","1px solid black","min-height","350px"],[1,"col-md-6"],[3,"routerLink","queryParams"],[1,"fas","fa-folder","me-2","fa-fw"],["target","_blank",1,"ms-3",3,"routerLink"],[1,"link","fas","fa-external-link-alt","fa-fx"],["mat-button","",3,"disabled","click",4,"ngIf"],[1,"example-tree",3,"dataSource","treeControl"],["matTreeNodeToggle","",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],[1,"container-fluid",2,"overflow","auto"],[1,"table","table-condensed"],["ngFor","",3,"ngForOf","ngForTrackBy"],[1,"badge","bg-secondary"],["class","badge bg-primary",4,"ngFor","ngForOf"],["mat-icon-button","","color","accent",3,"click"],[1,"fa-stack"],[1,"fas","fa-thumbtack","fa-stack-1x"],[1,"fas","fa-slash","fa-stack-1x","text-danger"],[1,"badge","bg-primary"],["mat-button","",3,"disabled","click"],["matTreeNodeToggle",""],[1,"mat-tree-node"],["mat-icon-button","","disabled",""],[3,"checked","change"],[1,"far","fa-file-alt","fa-lg","fa-fw","me-2"],[2,"font-size","1rem"],["mat-icon-button","","matTreeNodeToggle","",3,"click"],[1,"mat-icon-rtl-mirror"],[3,"checked","indeterminate","change"],[1,"fas","fa-folder-open","fa-lg","fa-fw","me-2"],[2,"font-size","1.2rem"],["matTreeNodeOutlet",""],[1,"overlay"],[1,"chi-right-menu"],[1,"chi-rbtn",3,"click"],["class","fa fa-angle-right fa-fw",4,"ngIf"],["class","fa fa-angle-left fa-fw",4,"ngIf"],[1,"chi-rbtn-content","ms-2"],[1,"chi-rbtn-arrow"],["class","chi-rbtn",3,"active","click",4,"ngIf"],[1,"fas","fa-file-download","fa-fw"],[1,"chi-rbtn-content"],["class","chi-rbtn",3,"click",4,"ngIf"],["class","chi-rbtn",3,"routerLink","queryParams",4,"ngIf"],[1,"fa","fa-angle-right","fa-fw"],[1,"fa","fa-angle-left","fa-fw"],["aria-hidden","true",1,"fas","fa-fw",3,"ngClass"],[1,"fa","fa-upload","fa-fw"],["aria-hidden","true",1,"fas","fa-trash","fa-fw"],[1,"chi-rbtn",3,"routerLink","queryParams"],["aria-hidden","true",1,"fas","fa-scroll","fa-fw"],[1,"fa-stack","fa-2x","fa-fw",2,"font-size","9px"],[1,"far","fa-folder","fa-stack-2x","fa-fw"],[1,"fas","fa-arrow-right","fa-stack-1x","fa-fw"],[1,"fas","fa-cloud-upload-alt"]],template:function(t,e){1&t&&(j.TgZ(0,"ol",0),j.TgZ(1,"li",1),j.TgZ(2,"a",2),j._uU(3,"Home"),j.qZA(),j.qZA(),j.TgZ(4,"li",1),j.TgZ(5,"a",2),j._uU(6,"Project List"),j.qZA(),j.qZA(),j.TgZ(7,"li",1),j.YNc(8,O,2,0,"a",3),j.YNc(9,$,3,4,"a",4),j.qZA(),j.YNc(10,z,3,3,"li",5),j.YNc(11,K,5,6,"li",6),j.YNc(12,X,2,0,"li",6),j.qZA(),j.TgZ(13,"div",7),j.TgZ(14,"h4",8),j._uU(15,"Data information"),j.qZA(),j.YNc(16,W,2,0,"div",9),j._UZ(17,"br"),j._UZ(18,"br"),j.YNc(19,Dt,3,2,"div",10),j.qZA(),j.YNc(20,Ht,27,13,"div",11)),2&t&&(j.xp6(2),j.Q6J("routerLink",j.DdM(10,Bt)),j.xp6(3),j.Q6J("routerLink",j.DdM(11,$t)),j.xp6(3),j.Q6J("ngIf",!e.dataFile),j.xp6(1),j.Q6J("ngIf",e.dataFile&&(null==e.dataFile?null:e.dataFile.project)),j.xp6(1),j.Q6J("ngIf",e.dataFile),j.xp6(1),j.Q6J("ngIf",e.dataFile),j.xp6(1),j.Q6J("ngIf",!e.dataFile),j.xp6(4),j.Q6J("ngIf",e.isLoading),j.xp6(3),j.Q6J("ngIf",e.dataFile),j.xp6(1),j.Q6J("ngIf",e.dataFile))},directives:[w.yS,a.O5,c.lW,Z.d,S.KE,r.Nt,n.Fj,n.nD,n.JJ,n.On,S.qo,S.R9,E.y,l.gD,a.sg,Y.ey,S.bx,g.gi,g.fQ,g.uo,g.eu,p.oG,g.GZ,d.Hw,g.Ar,a.mk],styles:[".mat-option.mat-active[_ngcontent-%COMP%]{background:rgba(0,123,255,.4)}.mat-option[_ngcontent-%COMP%]:hover{background:rgba(0,123,255,.2)}.example-tree[_ngcontent-%COMP%]{background-color:transparent;transform-origin:0 0}.example-tree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .example-tree[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;list-style-type:none}.mat-tree-node[_ngcontent-%COMP%]{min-height:unset}.example-tree-invisible[_ngcontent-%COMP%]{display:none}"],data:{animation:[b.M]}}),t})();var zt=i(20868),Vt=i(99713),Kt=i(29609);function Xt(t,e){if(1&t&&(j.TgZ(0,"span"),j._uU(1),j.qZA()),2&t){const t=j.oxw(2);j.xp6(1),j.hij(": ",t.currentProject.name,"")}}const Wt=function(t){return["/project",t,"info"]};function Gt(t,e){if(1&t&&(j.TgZ(0,"a",2),j._uU(1,"Project "),j.YNc(2,Xt,2,1,"span",7),j.qZA()),2&t){const t=j.oxw();j.Q6J("routerLink",j.VKq(2,Wt,t.currentProject.id)),j.xp6(2),j.Q6J("ngIf",t.currentProject)}}const te=function(t){return["/project",t,"dataFile","list"]};function ee(t,e){if(1&t&&(j.TgZ(0,"li",11),j.TgZ(1,"a",2),j._uU(2,"DataFile List"),j.qZA(),j.TgZ(3,"a",12),j._UZ(4,"i",13),j.qZA(),j.qZA()),2&t){const t=j.oxw();j.xp6(1),j.Q6J("routerLink",j.VKq(2,te,t.currentProject.id)),j.xp6(2),j.Q6J("routerLink",j.VKq(4,te,t.currentProject.id))}}function ie(t,e){1&t&&(j.TgZ(0,"li",11),j._uU(1,"DataFile List"),j.qZA())}function ne(t,e){1&t&&(j.TgZ(0,"div"),j._uU(1,"Loading... "),j._UZ(2,"i",14),j.qZA())}function ae(t,e){if(1&t&&(j.ynx(0),j.TgZ(1,"div",15),j.TgZ(2,"div",16),j.TgZ(3,"b"),j._uU(4,"Project name"),j.qZA(),j.qZA(),j.TgZ(5,"div",17),j.TgZ(6,"p"),j._uU(7),j.qZA(),j.qZA(),j.qZA(),j.TgZ(8,"div",15),j.TgZ(9,"div",16),j.TgZ(10,"b"),j._uU(11,"Project description"),j.qZA(),j.qZA(),j.TgZ(12,"div",17),j.TgZ(13,"p"),j._uU(14),j.qZA(),j.qZA(),j.qZA(),j.TgZ(15,"div",15),j.TgZ(16,"div",16),j.TgZ(17,"b"),j._uU(18,"Data file number"),j.qZA(),j.qZA(),j.TgZ(19,"div",17),j.TgZ(20,"p"),j._uU(21),j.qZA(),j.qZA(),j.qZA(),j.BQk()),2&t){const t=j.oxw();j.xp6(7),j.Oqu(null!=t.currentProject&&t.currentProject.name?null==t.currentProject?null:t.currentProject.name:"(no name)"),j.xp6(7),j.Oqu(null!=t.currentProject&&t.currentProject.desc?null==t.currentProject?null:t.currentProject.desc:"(no description)"),j.xp6(7),j.AsE("",null==t.currentProject?null:t.currentProject.dataFileNumber," record(s), (",(null==t.currentProject||null==t.currentProject.dataFiles?null:t.currentProject.dataFiles.length)||0," including intermediate files)")}}function oe(t,e){if(1&t){const t=j.EpF();j.TgZ(0,"span",51),j.NdJ("click",function(){const e=j.CHM(t).$implicit;return j.oxw(2).toggleTag(e)}),j._uU(1),j.qZA()}if(2&t){const t=e.$implicit,i=j.oxw(2);j.ekj("bg-primary",i._viewControls.filteredTags.indexOf(t)>=0)("bg-secondary",-1===i._viewControls.filteredTags.indexOf(t)),j.xp6(1),j.Oqu(t)}}function se(t,e){1&t&&(j.ynx(0),j._uU(1,"s"),j.BQk())}function re(t,e){if(1&t){const t=j.EpF();j.TgZ(0,"button",53),j.NdJ("click",function(){return j.CHM(t),j.oxw(3).onDownloadSelected()}),j._UZ(1,"i",57),j.qZA()}}function le(t,e){if(1&t){const t=j.EpF();j.TgZ(0,"button",58),j.NdJ("click",function(){return j.CHM(t),j.oxw(3).deleteDataFileDialog()}),j.TgZ(1,"mat-icon"),j._uU(2,"delete"),j.qZA(),j.qZA()}}function ce(t,e){if(1&t&&(j.TgZ(0,"mat-option",67),j._uU(1),j.qZA()),2&t){const t=j.oxw().$implicit;j.Q6J("value",t),j.xp6(1),j.hij(" ",t.name+" (owner: "+t.owner+")"," ")}}function de(t,e){if(1&t&&(j.ynx(0),j.YNc(1,ce,2,2,"mat-option",66),j.BQk()),2&t){const t=e.$implicit,i=j.oxw(4);j.xp6(1),j.Q6J("ngIf",t.id!==i.currentProject.id&&t.privilege.canAddFile)}}function ge(t,e){if(1&t){const t=j.EpF();j.TgZ(0,"div",19),j.TgZ(1,"mat-form-field",59),j.TgZ(2,"mat-select",60,61),j.YNc(4,de,2,1,"ng-container",62),j.qZA(),j.qZA(),j.TgZ(5,"mat-checkbox",null,63),j._uU(7,"Make a full copy"),j.qZA(),j.TgZ(8,"small",64),j._uU(9,"*If checked, the file/folder content will be copied."),j.qZA(),j._UZ(10,"br"),j.TgZ(11,"button",65),j.NdJ("click",function(){j.CHM(t);const e=j.MAs(3),i=j.MAs(6);return j.oxw(3).importToProject(e.value,i.checked),e.value=void 0}),j._uU(12,"Export files to selected project"),j.qZA(),j.qZA()}if(2&t){const t=j.MAs(3),e=j.oxw(3);j.xp6(4),j.Q6J("ngForOf",e.projectList),j.xp6(7),j.Q6J("disabled",!t.value)}}function ue(t,e){if(1&t){const t=j.EpF();j.TgZ(0,"div",15),j.TgZ(1,"div",19),j.TgZ(2,"span"),j._uU(3),j.YNc(4,se,2,0,"ng-container",7),j.qZA(),j._UZ(5,"i",52),j.TgZ(6,"button",53),j.NdJ("click",function(){return j.CHM(t),j.oxw(2).onToggleFileImport()}),j.TgZ(7,"mat-icon"),j._uU(8,"move_to_inbox"),j.qZA(),j.qZA(),j.YNc(9,re,2,0,"button",54),j.YNc(10,le,3,0,"button",55),j.qZA(),j.YNc(11,ge,13,2,"div",56),j.qZA()}if(2&t){const t=j.oxw(2);j.xp6(3),j.hij("Selected ",t.selectedList.length," data file"),j.xp6(1),j.Q6J("ngIf",t.selectedList.length>1),j.xp6(5),j.Q6J("ngIf",t.currentProject.privilege.canView),j.xp6(1),j.Q6J("ngIf",t.currentProject.privilege.canDeleteFile),j.xp6(1),j.Q6J("ngIf",t.toggleFileImport)}}function fe(t,e){if(1&t){const t=j.EpF();j.TgZ(0,"th",68),j.TgZ(1,"mat-checkbox",69,70),j.NdJ("change",function(e){return j.CHM(t),j.oxw(2).onAllCheckBoxChange(e)}),j.qZA(),j.qZA()}if(2&t){const t=j.oxw(2);j.xp6(1),j.Q6J("checked",t.selectedList.length===t.pageSize||t.selectedList.length===t.dataFiles.length)("indeterminate",t.selectedList.length>0&&t.selectedList.length<t.pageSize&&t.selectedList.length<t.dataFiles.length)}}function he(t,e){if(1&t){const t=j.EpF();j.TgZ(0,"td",71),j.TgZ(1,"mat-checkbox",72),j.NdJ("change",function(e){const i=j.CHM(t).$implicit;return j.oxw(2).onFileCheckBoxChange(e,i.id)})("click",function(t){return t.stopPropagation()}),j.qZA(),j.qZA()}if(2&t){const t=e.$implicit,i=j.oxw(2);j.uIk("rowspan",i.expandedDataFiles.has(t.id)||i.isEditing?2:1),j.xp6(1),j.Q6J("checked",i.selectedList.indexOf(t.id)>=0)}}function pe(t,e){1&t&&(j.TgZ(0,"th",73),j._uU(1,"Prefix"),j.qZA())}function Ze(t,e){if(1&t&&(j.TgZ(0,"u",77),j._uU(1),j.qZA()),2&t){const t=j.oxw().$implicit;j.xp6(1),j.Oqu(t.prefix)}}function me(t,e){if(1&t){const t=j.EpF();j.TgZ(0,"mat-form-field",59),j.TgZ(1,"input",78),j.NdJ("ngModelChange",function(e){return j.CHM(t),j.oxw().$implicit.prefix=e}),j.qZA(),j.qZA()}if(2&t){const t=j.oxw().$implicit;j.xp6(1),j.Q6J("ngModel",t.prefix)}}function xe(t,e){if(1&t&&(j.TgZ(0,"td",74),j.YNc(1,Ze,2,1,"u",75),j.YNc(2,me,2,1,"mat-form-field",76),j.qZA()),2&t){const t=j.oxw(2);j.xp6(1),j.Q6J("ngIf",!t.isEditing),j.xp6(1),j.Q6J("ngIf",t.isEditing)}}function Fe(t,e){1&t&&(j.TgZ(0,"th",73),j.TgZ(1,"span",79),j._uU(2,"DataFile Name"),j.qZA(),j.qZA())}const Te=function(){return["/page"]},we=function(t){return{datafile:t}};function be(t,e){if(1&t&&(j.TgZ(0,"a",86),j._UZ(1,"i",87),j.qZA()),2&t){const t=j.oxw(2).$implicit;j.Q6J("routerLink",j.DdM(2,Te))("queryParams",j.VKq(3,we,t.id))}}const ve=function(t){return{datafile:t,static:"true"}};function qe(t,e){if(1&t&&(j.TgZ(0,"a",88),j._UZ(1,"i",89),j.qZA()),2&t){const t=j.oxw(2).$implicit;j.Q6J("routerLink",j.DdM(2,Te))("queryParams",j.VKq(3,ve,t.id))}}const Ae=function(t){return["/dataFile",t,"info"]};function Ce(t,e){if(1&t&&(j.ynx(0),j.YNc(1,be,2,5,"a",81),j.YNc(2,qe,2,5,"a",82),j.TgZ(3,"a",83),j._uU(4),j.qZA(),j.TgZ(5,"a",84),j._UZ(6,"span",85),j.qZA(),j.BQk()),2&t){const t=j.oxw().$implicit,e=j.oxw(2);j.xp6(1),j.Q6J("ngIf",e.currentProject.getValidFilePageKeys(t.tags,t.format).length>0),j.xp6(1),j.Q6J("ngIf","Folder"===t.format),j.xp6(1),j.Q6J("routerLink",j.VKq(5,Ae,t.id)),j.xp6(1),j.hij(" ",(null==t?null:t.name)||"(no-name)"," "),j.xp6(1),j.Q6J("routerLink",j.VKq(7,Ae,t.id))}}function _e(t,e){if(1&t){const t=j.EpF();j.TgZ(0,"mat-form-field",59),j.TgZ(1,"input",90),j.NdJ("ngModelChange",function(e){return j.CHM(t),j.oxw().$implicit.name=e}),j.qZA(),j.qZA()}if(2&t){const t=j.oxw().$implicit;j.xp6(1),j.Q6J("ngModel",t.name)}}function ke(t,e){if(1&t&&(j.TgZ(0,"td",80),j.YNc(1,Ce,7,9,"ng-container",7),j.YNc(2,_e,2,1,"mat-form-field",76),j.qZA()),2&t){const t=j.oxw(2);j.xp6(1),j.Q6J("ngIf",!t.isEditing),j.xp6(1),j.Q6J("ngIf",t.isEditing)}}function Ue(t,e){1&t&&(j.TgZ(0,"th",73),j._uU(1,"Suffix"),j.qZA())}function Ne(t,e){if(1&t&&(j.TgZ(0,"u",77),j._uU(1),j.qZA()),2&t){const t=j.oxw().$implicit;j.xp6(1),j.Oqu(t.suffix)}}function Je(t,e){if(1&t){const t=j.EpF();j.TgZ(0,"mat-form-field",59),j.TgZ(1,"input",91),j.NdJ("ngModelChange",function(e){return j.CHM(t),j.oxw().$implicit.suffix=e}),j.qZA(),j.qZA()}if(2&t){const t=j.oxw().$implicit;j.xp6(1),j.Q6J("ngModel",t.suffix)}}function je(t,e){if(1&t&&(j.TgZ(0,"td",80),j.YNc(1,Ne,2,1,"u",75),j.YNc(2,Je,2,1,"mat-form-field",76),j.qZA()),2&t){const t=j.oxw(2);j.xp6(1),j.Q6J("ngIf",!t.isEditing),j.xp6(1),j.Q6J("ngIf",t.isEditing)}}function De(t,e){1&t&&(j.TgZ(0,"th",73),j._uU(1,"Status"),j.qZA())}function Ie(t,e){1&t&&j._UZ(0,"i",99)}function ye(t,e){1&t&&(j.TgZ(0,"p",100),j._UZ(1,"i",101),j.qZA())}function Qe(t,e){1&t&&j._UZ(0,"i",102)}function Pe(t,e){1&t&&j._UZ(0,"i",103)}function Me(t,e){1&t&&j._UZ(0,"i",104)}function Se(t,e){if(1&t&&(j.TgZ(0,"td",92),j.TgZ(1,"div",93),j.YNc(2,Ie,1,0,"i",94),j.YNc(3,ye,2,0,"p",95),j.YNc(4,Qe,1,0,"i",96),j.YNc(5,Pe,1,0,"i",97),j.YNc(6,Me,1,0,"i",98),j.qZA(),j.qZA()),2&t){const t=e.$implicit;j.xp6(1),j.Q6J("ngSwitch",null==t?null:t.status),j.xp6(1),j.Q6J("ngSwitchCase",0),j.xp6(1),j.Q6J("ngSwitchCase",1),j.xp6(1),j.Q6J("ngSwitchCase",2),j.xp6(1),j.Q6J("ngSwitchCase",3),j.xp6(1),j.Q6J("ngSwitchCase",4)}}function Ee(t,e){1&t&&(j.TgZ(0,"th",73),j._uU(1,"Creation time"),j.qZA())}function Ye(t,e){if(1&t&&(j.TgZ(0,"td",92),j._uU(1),j.qZA()),2&t){const t=e.$implicit;j.xp6(1),j.Oqu(null==t||null==t.createdAt?null:t.createdAt.format("YYYY/MM/DD HH:mm:ss"))}}function Le(t,e){1&t&&(j.TgZ(0,"th",73),j._uU(1,"Owner"),j.qZA())}function Oe(t,e){if(1&t&&(j.TgZ(0,"td",92),j.TgZ(1,"span"),j._uU(2),j.qZA(),j.qZA()),2&t){const t=e.$implicit;j.xp6(2),j.Oqu(null==t||null==t.owner?null:t.owner.name)}}function He(t,e){1&t&&(j.TgZ(0,"th",105),j._uU(1,"Tags"),j.qZA())}function Be(t,e){if(1&t){const t=j.EpF();j.TgZ(0,"td",106),j.TgZ(1,"bdp-tag-input",107),j.NdJ("tagChange",function(e){const i=j.CHM(t).$implicit;return j.oxw(2).onTagChanged(e,i)})("tagClicked",function(e){return j.CHM(t),j.oxw(2).onTagClicked(e)}),j.qZA(),j.qZA()}if(2&t){const t=e.$implicit,i=j.oxw(2);j.xp6(1),j.Q6J("packages",i.currentProject.packages)("tasks",i.tasks)("tags",t.tags)("disabled",!i.isEditing)("highlightTags",i._viewControls.filteredTags)}}function $e(t,e){if(1&t&&(j.TgZ(0,"span",117),j._uU(1),j.qZA()),2&t){const t=e.$implicit;j.ekj("bg-primary","Folder"!==t)("bg-success","Folder"===t),j.xp6(1),j.Oqu(t)}}function Re(t,e){1&t&&(j.TgZ(0,"span",118),j._uU(1,"No Tags"),j.qZA())}const ze=function(t){return{"fa-folder":t}};function Ve(t,e){if(1&t&&(j.ynx(0),j.TgZ(1,"tr"),j.TgZ(2,"td"),j.TgZ(3,"a",2),j._UZ(4,"i",112),j.TgZ(5,"b"),j._uU(6),j.qZA(),j.qZA(),j.qZA(),j.TgZ(7,"td"),j.YNc(8,$e,2,5,"span",113),j.YNc(9,Re,2,0,"span",114),j.qZA(),j.TgZ(10,"td",115),j._uU(11),j.qZA(),j.qZA(),j.TgZ(12,"tr"),j.TgZ(13,"td",116),j._UZ(14,"span",110),j._uU(15),j.qZA(),j.qZA(),j.BQk()),2&t){const t=e.$implicit;j.xp6(3),j.Q6J("routerLink",j.VKq(9,Ae,t.id)),j.xp6(1),j.Q6J("ngClass",j.VKq(11,ze,"Folder"===t.format)),j.xp6(1),j.ekj("text-success","Folder"===t.format),j.xp6(1),j.Oqu(t.name),j.xp6(2),j.Q6J("ngForOf",t.tags),j.xp6(1),j.Q6J("ngIf",!t.tags||0===t.tags.length),j.xp6(2),j.Oqu(null==t||null==t.createdAt?null:t.createdAt.format("YYYY/MM/DD HH:mm:ss")),j.xp6(4),j.hij("Description: ",t.desc||"no descriptions","")}}function Ke(t,e){if(1&t&&(j.TgZ(0,"div"),j.TgZ(1,"b"),j._UZ(2,"i",110),j._uU(3,"Contained tracked files"),j.qZA(),j._uU(4,": "),j.TgZ(5,"div",27),j.TgZ(6,"table",111),j.YNc(7,Ve,16,13,"ng-container",62),j.qZA(),j.qZA(),j.qZA()),2&t){const t=j.oxw(2).$implicit,e=j.oxw(2);j.xp6(7),j.Q6J("ngForOf",e.containedFiles(t.id))}}function Xe(t,e){if(1&t&&(j.TgZ(0,"div"),j.TgZ(1,"b"),j._UZ(2,"i",110),j._uU(3,"Description"),j.qZA(),j._uU(4,": "),j.TgZ(5,"p"),j._uU(6),j.qZA(),j.YNc(7,Ke,8,1,"div",7),j.qZA()),2&t){const t=j.oxw().$implicit;j.xp6(6),j.Oqu(t.desc?t.desc:"No description"),j.xp6(1),j.Q6J("ngIf",t.tags.indexOf("Folder")>=0)}}function We(t,e){if(1&t&&(j.TgZ(0,"td",108),j.TgZ(1,"div",109),j.YNc(2,Xe,8,2,"div",7),j.qZA(),j.qZA()),2&t){const t=e.$implicit,i=j.oxw(2);j.uIk("colspan",i.expandedDataFiles.has(t.id)||i.isEditing?7:8),j.xp6(1),j.Q6J("@detailExpand",i.expandedDataFiles.has(t.id)||i.isEditing?"expanded":"collapsed"),j.xp6(1),j.Q6J("ngIf",i.expandedDataFiles.has(t.id)||i.isEditing)}}function Ge(t,e){1&t&&j._UZ(0,"tr",119)}function ti(t,e){if(1&t){const t=j.EpF();j.TgZ(0,"tr",120),j.NdJ("click",function(){const e=j.CHM(t).$implicit;return j.oxw(2).toggleRow(e.id)}),j.qZA()}if(2&t){const t=e.$implicit,i=j.oxw(2);j.ekj("table-primary",i.expandedDataFiles.has(t.id))}}function ei(t,e){1&t&&j._UZ(0,"tr",121)}const ii=function(){return[5,10,30,50,100,300,500]},ni=function(){return["dataFileCheckbox","dataFilePrefix","dataFileName","dataFileSuffix","dataFileTags","dataFileStatus","dataFileCreationTime","dataFileOwner"]},ai=function(){return["dataFileDetail"]};function oi(t,e){if(1&t){const t=j.EpF();j.TgZ(0,"div",18),j.TgZ(1,"div",15),j.TgZ(2,"div",19),j.TgZ(3,"span",20),j._UZ(4,"i",21),j._uU(5,"Tags filter "),j.qZA(),j.TgZ(6,"span",22),j.NdJ("click",function(){j.CHM(t);const e=j.oxw();return e._viewControls.filteredTags=e.allPossibleTags}),j._uU(7,"All"),j.qZA(),j.TgZ(8,"span",23),j.NdJ("click",function(){return j.CHM(t),j.oxw()._viewControls.filteredTags=[]}),j._uU(9,"None"),j.qZA(),j.YNc(10,oe,2,5,"span",24),j.qZA(),j.qZA(),j.YNc(11,ue,12,5,"div",25),j._UZ(12,"br"),j.TgZ(13,"div",15),j.TgZ(14,"div",19),j.TgZ(15,"mat-paginator",26),j.NdJ("page",function(e){return j.CHM(t),j.oxw().onPageChange(e)}),j.qZA(),j.TgZ(16,"div",27),j.TgZ(17,"table",28),j.NdJ("matSortChange",function(e){return j.CHM(t),j.oxw().sortData(e)}),j.ALo(18,"slice"),j.ynx(19,29),j.YNc(20,fe,3,2,"th",30),j.YNc(21,he,2,2,"td",31),j.BQk(),j.ynx(22,32),j.YNc(23,pe,2,0,"th",33),j.YNc(24,xe,3,2,"td",34),j.BQk(),j.ynx(25,35),j.YNc(26,Fe,3,0,"th",33),j.YNc(27,ke,3,2,"td",36),j.BQk(),j.ynx(28,37),j.YNc(29,Ue,2,0,"th",33),j.YNc(30,je,3,2,"td",36),j.BQk(),j.ynx(31,38),j.YNc(32,De,2,0,"th",33),j.YNc(33,Se,7,6,"td",39),j.BQk(),j.ynx(34,40),j.YNc(35,Ee,2,0,"th",41),j.YNc(36,Ye,2,1,"td",39),j.BQk(),j.ynx(37,42),j.YNc(38,Le,2,0,"th",41),j.YNc(39,Oe,3,1,"td",39),j.BQk(),j.ynx(40,43),j.YNc(41,He,2,0,"th",44),j.YNc(42,Be,2,5,"td",45),j.BQk(),j.ynx(43,46),j.YNc(44,We,3,3,"td",47),j.BQk(),j.YNc(45,Ge,1,0,"tr",48),j.YNc(46,ti,1,2,"tr",49),j.YNc(47,ei,1,0,"tr",50),j.qZA(),j.qZA(),j.TgZ(48,"mat-paginator",26),j.NdJ("page",function(e){return j.CHM(t),j.oxw().onPageChange(e)}),j.qZA(),j.qZA(),j.qZA(),j.qZA()}if(2&t){const t=j.oxw();j.xp6(10),j.Q6J("ngForOf",t.allPossibleTags),j.xp6(1),j.Q6J("ngIf",t.selectedList.length>0),j.xp6(4),j.Q6J("length",t.dataFiles.length)("pageSize",t.pageSize)("pageIndex",t.pageIndex)("pageSizeOptions",j.DdM(18,ii)),j.xp6(2),j.Q6J("dataSource",j.Dn7(18,14,t.dataFiles,t.pageIndex*t.pageSize,(t.pageIndex+1)*t.pageSize)),j.xp6(28),j.Q6J("matHeaderRowDef",j.DdM(19,ni)),j.xp6(1),j.Q6J("matRowDefColumns",j.DdM(20,ni)),j.xp6(1),j.Q6J("matRowDefColumns",j.DdM(21,ai)),j.xp6(1),j.Q6J("length",t.dataFiles.length)("pageSize",t.pageSize)("pageIndex",t.pageIndex)("pageSizeOptions",j.DdM(22,ii))}}function si(t,e){1&t&&j._UZ(0,"i",132)}function ri(t,e){1&t&&j._UZ(0,"i",133)}const li=function(t,e){return{"fa-edit":t,"fa-save":e}};function ci(t,e){if(1&t){const t=j.EpF();j.TgZ(0,"a",123),j.NdJ("click",function(){return j.CHM(t),j.oxw(2).onSave()}),j._UZ(1,"i",134),j.TgZ(2,"span",131),j._uU(3),j.qZA(),j.TgZ(4,"span",127),j._uU(5,"\u276f"),j.qZA(),j.qZA()}if(2&t){const t=j.oxw(2);j.ekj("active",t.isEditing),j.xp6(1),j.Q6J("ngClass",j.WLB(6,li,!t.isEditing,t.isEditing)),j.xp6(1),j.ekj("active",t.showRightButtonContent||t.isEditing),j.xp6(1),j.Oqu(t.isEditing?"Save":"Modify file info")}}function di(t,e){if(1&t){const t=j.EpF();j.ynx(0),j.TgZ(1,"a",123),j.NdJ("click",function(){return j.CHM(t),j.oxw(2).onCancel()}),j._UZ(2,"i",135),j.TgZ(3,"span",131),j._uU(4,"Cancel"),j.qZA(),j.TgZ(5,"span",127),j._uU(6,"\u276f"),j.qZA(),j.qZA(),j._UZ(7,"br"),j.BQk()}if(2&t){const t=j.oxw(2);j.xp6(1),j.ekj("active",t.isEditing),j.xp6(2),j.ekj("active",t.showRightButtonContent||t.isEditing)}}const gi=function(t,e){return{"fa-arrows-alt-v":t,"fa-angle-double-up":e}};function ui(t,e){if(1&t){const t=j.EpF();j.TgZ(0,"a",123),j.NdJ("click",function(){return j.CHM(t),j.oxw(2).toggleExpansion()}),j._UZ(1,"i",134),j.TgZ(2,"span",131),j._uU(3),j.qZA(),j.TgZ(4,"span",127),j._uU(5,"\u276f"),j.qZA(),j.qZA()}if(2&t){const t=j.oxw(2);j.ekj("active",t._viewControls.allExpanded),j.xp6(1),j.Q6J("ngClass",j.WLB(6,gi,!t._viewControls.allExpanded,t._viewControls.allExpanded)),j.xp6(1),j.ekj("active",t.showRightButtonContent),j.xp6(1),j.Oqu(t._viewControls.allExpanded?"Collapse info":"Expand info")}}function fi(t,e){if(1&t){const t=j.EpF();j.ynx(0),j.TgZ(1,"a",123),j.NdJ("click",function(){return j.CHM(t),j.oxw(2).importFileDialog()}),j._UZ(2,"i",136),j.TgZ(3,"span",131),j._uU(4,"Import files"),j.qZA(),j.TgZ(5,"span",127),j._uU(6,"\u276f"),j.qZA(),j.qZA(),j._UZ(7,"br"),j.BQk()}if(2&t){const t=j.oxw(2);j.xp6(1),j.ekj("active",!!t._viewControls.showCreateFolder),j.xp6(2),j.ekj("active",t.showRightButtonContent||t._viewControls.showCreateFolder)}}const hi=function(t){return["/project",t,"result","list"]};function pi(t,e){if(1&t){const t=j.EpF();j.TgZ(0,"div",122),j.TgZ(1,"a",123),j.NdJ("click",function(){j.CHM(t);const e=j.oxw();return e.showRightButtonContent=!e.showRightButtonContent}),j.YNc(2,si,1,0,"i",124),j.YNc(3,ri,1,0,"i",125),j.TgZ(4,"span",126),j._uU(5,"MENU"),j.qZA(),j.TgZ(6,"span",127),j._uU(7,"\u276f"),j.qZA(),j.qZA(),j._UZ(8,"br"),j.YNc(9,ci,6,9,"a",128),j._UZ(10,"br"),j.YNc(11,di,8,4,"ng-container",7),j.YNc(12,ui,6,9,"a",128),j._UZ(13,"br"),j.YNc(14,fi,8,4,"ng-container",7),j.TgZ(15,"a",129),j._UZ(16,"i",130),j.TgZ(17,"span",131),j._uU(18,"Results"),j.qZA(),j.TgZ(19,"span",127),j._uU(20,"\u276f"),j.qZA(),j.qZA(),j._UZ(21,"br"),j.qZA()}if(2&t){const t=j.oxw();j.Q6J("@rightButtonState",t.showRightButtonContent?"active":"inactive"),j.xp6(2),j.Q6J("ngIf",t.showRightButtonContent),j.xp6(1),j.Q6J("ngIf",!t.showRightButtonContent),j.xp6(1),j.ekj("active",t.showRightButtonContent),j.xp6(5),j.Q6J("ngIf",t.currentProject.privilege.canEditFile),j.xp6(2),j.Q6J("ngIf",t.currentProject.privilege.canEditFile&&t.isEditing),j.xp6(1),j.Q6J("ngIf",t.currentProject.privilege.canEditFile),j.xp6(2),j.Q6J("ngIf",t.currentProject.privilege.canAddFile),j.xp6(1),j.Q6J("routerLink",j.VKq(12,hi,t.currentProject.id)),j.xp6(2),j.ekj("active",t.showRightButtonContent)}}const Zi=function(){return["/home"]},mi=function(){return["/project/list"]},xi=w.Bz.forChild([{path:"list",component:(()=>{class t{constructor(t,e,i,n,a,o,s,r){this.projectService=t,this.router=e,this.route=i,this.dialogRef=n,this.userService=a,this.systemService=o,this.taskService=s,this.dataService=r,this.pageIndex=0,this.pageSize=30,this.totalLength=0,this.showRightButtonContent=!1,this.toggleFileImport=!1,this.selectedList=[],this.projectList=[],this.projectID=null,this.expandedDataFiles=new Set,this.allowedFormats=[],this.tasks=[],this.isEditing=!1,this._subs=[],this._dataFiles=[]}ngOnInit(){this.systemService.toggleNavbar(!0),this.systemService.toggleSidebar(!0),this.systemService.maintainRightSidebarStatus(),this._viewControls={sortField:"createdAt",sortDirection:"desc",filteredTags:[],showFilter:!0,showCreateFolder:!1,confirmDelete:"",allExpanded:!1},this._subs.push(this.projectService.currentProject$.subscribe(t=>{setTimeout(()=>{var e;t&&t.id!==(null===(e=this.currentProject)||void 0===e?void 0:e.id)&&(this.currentProject=t,this._viewControls.filteredTags=this.allPossibleTags,this.allowedFormats=[...new Set([].concat.apply([],this.currentProject.packages.map(t=>t.allowedFormats)))].map(t=>t.toString()),this.taskService.loadTasks(this.currentProject.packages.map(t=>t.id)),this.dataFileTable&&this.dataFileTable.renderRows())},100)})),this.route.paramMap.subscribe(t=>{this.projectID=t.get("pid"),this.projectID&&this.projectService.setCurrentProject(this.projectID)}),this._subs.push(this.systemService.sysInfo$.subscribe(t=>{this.sysConfig=t,t&&(this.recaptchaKey=t.reCaptchaSiteKey)})),this._subs.push(this.userService.currentUser$.subscribe(t=>this.currentUser=t)),this._subs.push(this.taskService.taskList$.subscribe(t=>{Array.isArray(t)&&(this.tasks=t)}))}getProjectList(){const t=this.projectService.searchProjectList("").subscribe(e=>{t.unsubscribe(),this.projectList=e.isError?[]:e.success})}importToProject(t,e){const i=this.projectService.importFilesToProject(t.id,this.selectedList,e).subscribe(t=>i.unsubscribe())}toggleRow(t){this.isEditing||(this.expandedDataFiles.has(t)?this.expandedDataFiles.delete(t):this.expandedDataFiles.add(t))}displayProjectListFn(t){return t&&t.name?t.name:""}onToggleFileImport(){this.toggleFileImport=!this.toggleFileImport,this.toggleFileImport&&this.getProjectList()}get allPossibleTags(){if(this.currentProject){const t={},e=this.currentProject.dataFiles;if(!e)return[];for(let i=0;i<e.length;i++){const n=e[i];if(!n.hidden&&!n.parent){const e=n.tags;if(e)for(let i=0;i<e.length;i++)t[e[i]]++}}return Object.keys(t)}return[]}toggleTag(t){const e=this._viewControls.filteredTags.length!==this.allPossibleTags.length,i=this._viewControls.filteredTags.indexOf(t);-1===i?this._viewControls.filteredTags.push(t):e?1===this._viewControls.filteredTags.length?this._viewControls.filteredTags=this.allPossibleTags:this._viewControls.filteredTags.splice(i,1):this._viewControls.filteredTags=[t]}get dataFiles(){if(this.currentProject&&this.currentProject.dataFiles){const t=this._viewControls.filteredTags;let e=this.currentProject.dataFiles.slice(0).filter(e=>{for(let i=0;i<t.length;i++)if(e.tags&&e.tags.indexOf(t[i])>=0)return!0;return!e.tags||0===e.tags.length});const i=this._viewControls.sortField;return"createdAt"===i?(e.sort((t,e)=>Kt(t[i]).isBefore(e[i])?-1:1),"desc"===this._viewControls.sortDirection&&e.reverse()):e=(0,A.X)(e,"owner"===i?[t=>t.owner&&t.owner.name?t.owner.name:""]:[t=>t[i]],this._viewControls.sortDirection),e.filter(t=>!t.hidden&&!t.parent)}return[]}containedFiles(t){return this.currentProject&&Array.isArray(this.currentProject.dataFiles)?this.currentProject.dataFiles.filter(e=>e.parent===t):[]}sortColumn(t){this._viewControls.sortField===t?this._viewControls.sortDirection="desc"===this._viewControls.sortDirection?"asc":"desc":(this._viewControls.sortField=t,this._viewControls.sortDirection="asc")}onFocusedDataFile(t){this.focusedDataFile=t}deleteDataFile(t,e){t&&(t.status=2);const i=this.projectService.deleteDataFile(t).subscribe(()=>i.unsubscribe())}batchDeleteFiles(t){var e;const i=[];if(this.dataFiles.forEach(e=>{t.indexOf(e.id)>=0&&(e.status=2,i.push(e.id))}),!(null===(e=this.currentProject)||void 0===e?void 0:e.id))return;const n=this.projectService.batchDeleteDataFile(i,this.currentProject.id).subscribe(()=>{this.selectedList=[],n.unsubscribe()})}deleteDataFileDialog(t){const e=this.dialogRef.open(_.N,{disableClose:!1});void 0!==t?(e.componentInstance.setOptions({title:`<h4 class="modal-title text-danger">Are you sure you want to delete the data file <strong>${t.name}</strong>?</h4>`,desc:`<span class="text-danger">This will delete the data file, name: <b>${t.name}</b><br>This cannot be undone. Make sure this is something you really want to do!</span><br>`}),e.afterClosed().subscribe(e=>{e&&this.deleteDataFile(t,e)})):(e.componentInstance.setOptions({title:`<h4 class="text-danger">You are going to remove ${this.selectedList.length}  data files</h4>`,desc:'<span class="text-danger">These records will be deleted and this cannot be undone. Make sure this is something you really want to do!</span><br>'}),e.afterClosed().subscribe(t=>{t&&this.batchDeleteFiles(this.selectedList)}))}gotoDataFile(t,e){this.router.navigate(["/dataFile",t.id,"info"],e?{queryParams:{edit:1}}:{})}goToFileUploadPage(){var t;(null===(t=this.currentProject)||void 0===t?void 0:t.id)&&this.router.navigate(["/project",this.currentProject.id,"fileImport"])}onPageChange(t){this.pageIndex=t.pageIndex,this.pageSize=t.pageSize,this.selectedList=[]}onAllCheckBoxChange(t){this.selectedList=t.checked?this.dataFiles.slice(this.pageIndex*this.pageSize,(this.pageIndex+1)*this.pageSize).map(t=>t.id):[]}onFileCheckBoxChange(t,e){if(t.checked&&this.selectedList.indexOf(e)<0)this.selectedList.push(e);else if(!t.checked){const t=this.selectedList.indexOf(e);t>=0&&this.selectedList.splice(t,1)}}onDownloadSelected(){this.projectID&&this.dataService.downloadFiles(this.projectID,this.selectedList)}importFileDialog(){this._viewControls.showCreateFolder=!0,this.dialogRef.open(C.s,{width:"99%",height:"95%",maxWidth:"95vw",maxHeight:"95vh",data:{allowedFormats:this.allowedFormats,project:this.currentProject,sysConfig:this.sysConfig,tasks:this.tasks,importType:"local",currentUser:this.currentUser,tags:[]}}).afterClosed().subscribe(()=>this._viewControls.showCreateFolder=!1)}sortData(t){let e="createdAt";switch(t.active){case"dataFileName":e="name";break;case"dataFilePrefix":e="prefix";break;case"dataFileSuffix":e="suffix";break;case"dataFileStatus":e="status";break;case"dataFileCreationTime":e="createdAt";break;case"dataFileOwner":e="owner"}t.direction?(this._viewControls.sortDirection=t.direction,this._viewControls.sortField=e):(this._viewControls.sortDirection="desc",this._viewControls.sortField="createdAt")}onTagClicked(t){this.toggleTag(t)}onTagChanged(t,e){this.isEditing&&(e.tags=t)}toggleExpansion(){if(this._viewControls.allExpanded)this.expandedDataFiles.clear(),this._viewControls.allExpanded=!1;else{for(let t=0;t<this.dataFiles.length;t++)this.dataFiles[t].id&&this.expandedDataFiles.add(this.dataFiles[t].id);this._viewControls.allExpanded=!0}}onSave(){if(this.isEditing){this.isEditing=!1;const t=this.projectService.updateDataFiles(this.dataFiles).subscribe(e=>{t.unsubscribe()})}else this.isEditing=!0}onCancel(){this.isEditing=!1,this.projectID&&this.projectService.setCurrentProject(this.projectID,!0)}ngOnDestroy(){this._subs.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(j.Y36(I.Y),j.Y36(w.F0),j.Y36(w.gz),j.Y36(Q.uw),j.Y36(D.B),j.Y36(P.o),j.Y36(M.M),j.Y36(y.D))},t.\u0275cmp=j.Xpm({type:t,selectors:[["project-datafile-list"]],viewQuery:function(t,e){if(1&t&&j.Gf(u.BZ,5),2&t){let t;j.iGM(t=j.CRH())&&(e.dataFileTable=t.first)}},decls:21,vars:11,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[3,"routerLink",4,"ngIf"],["class","breadcrumb-item active",4,"ngIf"],[1,"bdp-main-container"],[1,"chi-header"],[4,"ngIf"],[1,"my-3"],["class","container-fluid",4,"ngIf"],["class","chi-right-menu",4,"ngIf"],[1,"breadcrumb-item","active"],["target","_blank",3,"routerLink"],[1,"fas","fa-external-link-alt","ms-3"],[1,"fas","fa-circle-notch","fa-fw","fa-spin","fa-lg"],[1,"row"],[1,"col-md-3","col-lg-2"],[1,"col-md-9","col-lg-10"],[1,"container-fluid"],[1,"col-12"],[1,"me-3",2,"float","left"],[1,"fas","fa-filter","me-2"],[1,"badge","link","bg-success",2,"float","left",3,"click"],[1,"badge","link","bg-danger",2,"float","left",3,"click"],["class","badge link","style","float:left;",3,"bg-primary","bg-secondary","click",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],[2,"background-color","rgba(255,255, 255, 0.7)","border","thin solid darkgray",3,"length","pageSize","pageIndex","pageSizeOptions","page"],[1,"table-responsive"],["mat-table","","multiTemplateDataRows","","matSort","",1,"table","table-hover","table-striped","table-bordered",3,"dataSource","matSortChange"],["matColumnDef","dataFileCheckbox"],["mat-header-cell","","class","align-middle text-center","style","padding: 2px;",4,"matHeaderCellDef"],["mat-cell","","class","align-middle text-center","style","padding: 2px;",4,"matCellDef"],["matColumnDef","dataFilePrefix"],["mat-header-cell","","mat-sort-header","","class","align-middle text-center",4,"matHeaderCellDef"],["mat-cell","","class","align-middle text-end px-2",4,"matCellDef"],["matColumnDef","dataFileName"],["mat-cell","","class","align-middle text-start px-2",4,"matCellDef"],["matColumnDef","dataFileSuffix"],["matColumnDef","dataFileStatus"],["mat-cell","","class","align-middle text-center",4,"matCellDef"],["matColumnDef","dataFileCreationTime"],["mat-header-cell","","mat-sort-header","","class","align-middle  text-center",4,"matHeaderCellDef"],["matColumnDef","dataFileOwner"],["matColumnDef","dataFileTags"],["mat-header-cell","","class","align-middle text-center",4,"matHeaderCellDef"],["mat-cell","","class","align-middle text-start p-3",4,"matCellDef"],["matColumnDef","dataFileDetail"],["mat-cell","","style","background-color: rgba(122, 168, 255, 0.1);","class","px-3",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"table-primary","click",4,"matRowDef","matRowDefColumns"],["mat-row","","class","datafile-detail-row",4,"matRowDef","matRowDefColumns"],[1,"badge","link",2,"float","left",3,"click"],[1,"fa","fa-angle-double-right","ms-4","fa-lg"],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","primary",3,"click",4,"ngIf"],["mat-icon-button","","color","warn",3,"click",4,"ngIf"],["class","col-12",4,"ngIf"],[1,"fas","fa-download","fa-lg","fa-fw"],["mat-icon-button","","color","warn",3,"click"],[2,"width","100%"],["placeholder","select a project to import"],["projectSelect",""],[4,"ngFor","ngForOf"],["isCopying",""],[1,"text-muted","m1-3"],["mat-raised-button","",3,"disabled","click"],[3,"value",4,"ngIf"],[3,"value"],["mat-header-cell","",1,"align-middle","text-center",2,"padding","2px"],[3,"checked","indeterminate","change"],["allCheckBox",""],["mat-cell","",1,"align-middle","text-center",2,"padding","2px"],["color","primary",3,"checked","change","click"],["mat-header-cell","","mat-sort-header","",1,"align-middle","text-center"],["mat-cell","",1,"align-middle","text-end","px-2"],["class","text-muted",4,"ngIf"],["style","width: 100%;",4,"ngIf"],[1,"text-muted"],["matInput","","type","text","maxlength","36","size","36","placeholder","The prefix",3,"ngModel","ngModelChange"],[2,"align-self","center"],["mat-cell","",1,"align-middle","text-start","px-2"],["mat-icon-button","","color","primary","matTooltip","DataFile Page",3,"routerLink","queryParams",4,"ngIf"],["mat-icon-button","","color","primary","matTooltip","View Folder Content",3,"routerLink","queryParams",4,"ngIf"],[1,"ms-3",3,"routerLink"],["target","_blank",1,"ms-3",3,"routerLink"],[1,"fas","fa-external-link-alt"],["mat-icon-button","","color","primary","matTooltip","DataFile Page",3,"routerLink","queryParams"],[1,"fas","fa-scroll","fa-fw","fa-lg"],["mat-icon-button","","color","primary","matTooltip","View Folder Content",3,"routerLink","queryParams"],[1,"fas","fa-folder","fa-fw","fa-lg"],["matInput","","type","text","maxlength","80","size","80","placeholder","The DataFile name (length must be smaller or equal than 80 characters)",3,"ngModel","ngModelChange"],["matInput","","type","text","maxlength","36","size","36","placeholder","The suffix",3,"ngModel","ngModelChange"],["mat-cell","",1,"align-middle","text-center"],[3,"ngSwitch"],["class","fas fa-circle-notch fa-spin text-primary",4,"ngSwitchCase"],["class","text-success",4,"ngSwitchCase"],["class","fas fa-hourglass-half text-secondary",4,"ngSwitchCase"],["class","fas fa-trash-alt fa-fw text-warning",4,"ngSwitchCase"],["class","fas fa-times fa-fw text-danger",4,"ngSwitchCase"],[1,"fas","fa-circle-notch","fa-spin","text-primary"],[1,"text-success"],[1,"fas","fa-check","fa-fw"],[1,"fas","fa-hourglass-half","text-secondary"],[1,"fas","fa-trash-alt","fa-fw","text-warning"],[1,"fas","fa-times","fa-fw","text-danger"],["mat-header-cell","",1,"align-middle","text-center"],["mat-cell","",1,"align-middle","text-start","p-3"],[3,"packages","tasks","tags","disabled","highlightTags","tagChange","tagClicked"],["mat-cell","",1,"px-3",2,"background-color","rgba(122, 168, 255, 0.1)"],[1,"datafile-details","my-3"],[1,"fas","fa-angle-right","me-2"],[1,"table","table-sm","table-hover","table-bordered","table-striped"],[1,"fa","text-success",2,"font-size","14px",3,"ngClass"],["class","badge link",3,"bg-primary","bg-success",4,"ngFor","ngForOf"],["class","badge bg-warning",4,"ngIf"],[1,"text-center"],["colspan","3"],[1,"badge","link"],[1,"badge","bg-warning"],["mat-header-row",""],["mat-row","",3,"click"],["mat-row","",1,"datafile-detail-row"],[1,"chi-right-menu"],[1,"chi-rbtn",3,"click"],["class","fa fa-angle-right fa-fw",4,"ngIf"],["class","fa fa-angle-left fa-fw",4,"ngIf"],[1,"chi-rbtn-content","ms-2"],[1,"chi-rbtn-arrow"],["class","chi-rbtn",3,"active","click",4,"ngIf"],[1,"chi-rbtn",3,"routerLink"],[1,"far","fa-folder-open"],[1,"chi-rbtn-content"],[1,"fa","fa-angle-right","fa-fw"],[1,"fa","fa-angle-left","fa-fw"],["aria-hidden","true",1,"fas","fa-fw",3,"ngClass"],["aria-hidden","true",1,"far","fa-fw","fa-window-close"],[1,"fa","fa-upload","fa-fw"]],template:function(t,e){1&t&&(j.TgZ(0,"ol",0),j.TgZ(1,"li",1),j.TgZ(2,"a",2),j._uU(3,"Home"),j.qZA(),j.qZA(),j.TgZ(4,"li",1),j.TgZ(5,"a",2),j._uU(6,"Project List"),j.qZA(),j.qZA(),j.TgZ(7,"li",1),j.YNc(8,Gt,3,4,"a",3),j.qZA(),j.YNc(9,ee,5,6,"li",4),j.YNc(10,ie,2,0,"li",4),j.qZA(),j.TgZ(11,"div",5),j.TgZ(12,"h3",6),j._uU(13,"Data Files in the Project "),j.qZA(),j._UZ(14,"br"),j._UZ(15,"br"),j.YNc(16,ne,3,0,"div",7),j.YNc(17,ae,22,4,"ng-container",7),j._UZ(18,"mat-divider",8),j.YNc(19,oi,49,23,"div",9),j.qZA(),j.YNc(20,pi,22,14,"div",10)),2&t&&(j.xp6(2),j.Q6J("routerLink",j.DdM(9,Zi)),j.xp6(3),j.Q6J("routerLink",j.DdM(10,mi)),j.xp6(3),j.Q6J("ngIf",e.currentProject),j.xp6(1),j.Q6J("ngIf",e.currentProject),j.xp6(1),j.Q6J("ngIf",!e.currentProject),j.xp6(6),j.Q6J("ngIf",!e.currentProject),j.xp6(1),j.Q6J("ngIf",e.currentProject),j.xp6(2),j.Q6J("ngIf",e.currentProject),j.xp6(1),j.Q6J("ngIf",e.currentProject))},directives:[w.yS,a.O5,Z.d,a.sg,h.NW,u.BZ,m.YE,u.w1,u.fO,u.Dz,u.as,u.nj,c.lW,d.Hw,S.KE,l.gD,p.oG,Y.ey,u.ge,u.ev,m.nU,r.Nt,n.Fj,n.nD,n.JJ,n.On,c.zs,f.gM,a.RF,a.n9,E.y,a.mk,u.XQ,u.Gk],pipes:[a.OU],styles:[".badge[_ngcontent-%COMP%]{margin:2px}.datafile-details[_ngcontent-%COMP%]{overflow:hidden;display:none}tr.datafile-detail-row[_ngcontent-%COMP%]{height:0;max-height:0}[_nghost-%COMP%]     .mat-sort-header-container{display:flex;justify-content:center}"],data:{animation:[b.M,(0,Vt.X$)("detailExpand",[(0,Vt.SB)("collapsed",(0,Vt.oB)({height:"0px",minHeight:"0",display:"none"})),(0,Vt.SB)("expanded",(0,Vt.oB)({height:"*",display:"block"})),(0,Vt.eR)("expanded <=> collapsed",(0,Vt.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),t})(),canActivate:[zt.P]},{path:":dataId/info",component:Rt,canActivate:[zt.P]}]),Fi=[];var Ti=i(83733);let wi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=j.oAB({type:t}),t.\u0275inj=j.cJS({providers:[Fi],imports:[[n.u5,a.ez,r.c,c.ot,l.LD,s.Hi,d.Ps,o.Bb,Z.t,g.dp,u.p0,f.AV,p.p9,h.TU,m.JX,F.w,T.m,Ti.w,x.T,xi]]}),t})()}}]);