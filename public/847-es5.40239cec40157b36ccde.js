!function(){"use strict";function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,i){if(!e)return;if("string"==typeof e)return t(e,i);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return t(e,i)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,a=new Array(t);i<t;i++)a[i]=e[i];return a}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function n(e,t,i){return t&&a(e.prototype,t),i&&a(e,i),e}(self.webpackChunkbdp_client=self.webpackChunkbdp_client||[]).push([[847],{77847:function(t,a,r){r.r(a),r.d(a,{DataFileModule:function(){return ki}});var o=r(3679),l=r(38583),s=r(21554),c=r(58341),d=r(49983),u=r(67441),g=r(51095),f=r(76627),p=r(1933),h=r(32789),Z=r(11436),v=r(99692),m=r(7539),x=r(1769),F=r(11494),T=r(85855),w=r(70133),b=r(9951),q=r(58846),k=r(39418),A=r(19918),C=r(52796),_=r(94494),y=r(50291),U=r(11222),j=r(36461),N=r(43190),J=r(26215),D=r(25917),I=r(37716),Q=r(89876),P=r(354),M=r(52468),S=r(22238),E=r(15128),Y=r(38864),L=r(98295),O=r(27100),H=r(72458),B=["tagInput"];function R(e,t){if(1&e){var i=I.EpF();I.TgZ(0,"a",12),I.NdJ("click",function(e){return I.CHM(i),I.oxw().gotoProject(e)}),I._uU(1,"Project"),I.qZA()}}function $(e,t){if(1&e&&(I.TgZ(0,"span"),I._uU(1),I.qZA()),2&e){var i=I.oxw(2);I.xp6(1),I.hij(": ",i.currentProject.name,"")}}var z=function(e){return["/project",e,"info"]};function V(e,t){if(1&e&&(I.TgZ(0,"a",2),I._uU(1,"Project "),I.YNc(2,$,2,1,"span",9),I.qZA()),2&e){var i=I.oxw();I.Q6J("routerLink",I.VKq(2,z,i.dataFile.project)),I.xp6(2),I.Q6J("ngIf",i.currentProject)}}var K=function(e){return["/project",e,"dataFile","list"]};function X(e,t){if(1&e&&(I.TgZ(0,"li",1),I.TgZ(1,"a",2),I._uU(2,"DataFile List "),I.qZA(),I.qZA()),2&e){var i=I.oxw();I.xp6(1),I.Q6J("routerLink",I.VKq(1,K,i.dataFile.project))}}var W=function(e){return["/dataFile",e,"info"]};function G(e,t){if(1&e&&(I.TgZ(0,"li",13),I.TgZ(1,"a",2),I._uU(2,"File"),I.qZA(),I.TgZ(3,"a",14),I._UZ(4,"i",15),I.qZA(),I.qZA()),2&e){var i=I.oxw();I.xp6(1),I.Q6J("routerLink",I.VKq(2,W,i.dataFile.id)),I.xp6(2),I.Q6J("routerLink",I.VKq(4,W,i.dataFile.id))}}function ee(e,t){1&e&&(I.TgZ(0,"li",13),I._uU(1,"File"),I.qZA())}function te(e,t){1&e&&(I.TgZ(0,"div"),I._uU(1," Loading... "),I.qZA())}function ie(e,t){if(1&e){var i=I.EpF();I.TgZ(0,"p"),I.TgZ(1,"u",34),I._uU(2),I.qZA(),I._uU(3),I.TgZ(4,"u",34),I._uU(5),I.qZA(),I.TgZ(6,"span",24),I.NdJ("click",function(){return I.CHM(i),I.oxw(3).isEditing=!0}),I.qZA(),I.qZA()}if(2&e){var a=I.oxw(3);I.xp6(2),I.Oqu(null==a.dataFile?null:a.dataFile.prefix),I.xp6(1),I.hij(" ",null==a.dataFile?null:a.dataFile.name," "),I.xp6(2),I.Oqu(null==a.dataFile?null:a.dataFile.suffix)}}function ae(e,t){if(1&e){var i=I.EpF();I.ynx(0),I.TgZ(1,"mat-form-field",35),I.TgZ(2,"input",36),I.NdJ("ngModelChange",function(e){return I.CHM(i),I.oxw(3).dataFile.prefix=e}),I.qZA(),I.qZA(),I.TgZ(3,"mat-form-field",35),I.TgZ(4,"input",37),I.NdJ("ngModelChange",function(e){return I.CHM(i),I.oxw(3).dataFile.suffix=e}),I.qZA(),I.qZA(),I.TgZ(5,"mat-form-field",38),I.TgZ(6,"i",39),I.NdJ("click",function(){return I.CHM(i),I.oxw(3).onSave()}),I.qZA(),I.TgZ(7,"input",40),I.NdJ("ngModelChange",function(e){return I.CHM(i),I.oxw(3).dataFile.name=e}),I.qZA(),I.TgZ(8,"span",41),I._UZ(9,"u",42),I.qZA(),I.TgZ(10,"span",43),I._UZ(11,"u",42),I.qZA(),I.qZA(),I.BQk()}if(2&e){var a=I.oxw(3);I.xp6(2),I.Q6J("ngModel",a.dataFile.prefix),I.xp6(2),I.Q6J("ngModel",a.dataFile.suffix),I.xp6(3),I.Q6J("ngModel",a.dataFile.name),I.xp6(2),I.Q6J("innerHTML",null==a.dataFile?null:a.dataFile.prefix,I.oJD),I.xp6(2),I.Q6J("innerHTML",null==a.dataFile?null:a.dataFile.suffix,I.oJD)}}function ne(e,t){if(1&e){var i=I.EpF();I.TgZ(0,"mat-form-field",38),I.TgZ(1,"i",39),I.NdJ("click",function(){return I.CHM(i),I.oxw(3).onSave()}),I.qZA(),I.TgZ(2,"textarea",44),I.NdJ("ngModelChange",function(e){return I.CHM(i),I.oxw(3).dataFile.desc=e}),I._uU(3),I.qZA(),I.qZA()}if(2&e){var a=I.oxw(3);I.xp6(2),I.Q6J("ngModel",a.dataFile.desc),I.xp6(1),I.Oqu(a.dataFile.desc)}}function re(e,t){if(1&e&&(I.TgZ(0,"span",47),I._uU(1),I.qZA()),2&e){var i=I.oxw(4);I.ekj("bg-secondary","Folder"!==(null==i.dataFile?null:i.dataFile.format))("bg-success","Folder"===(null==i.dataFile?null:i.dataFile.format)),I.xp6(1),I.hij("",null==i.dataFile?null:i.dataFile.format," ")}}function oe(e,t){if(1&e){var i=I.EpF();I.TgZ(0,"i",24),I.NdJ("click",function(){return I.CHM(i),I.oxw(4).isEditing=!0}),I.qZA()}}function le(e,t){if(1&e){var i=I.EpF();I.TgZ(0,"i",39),I.NdJ("click",function(){return I.CHM(i),I.oxw(5).onSave()}),I.qZA()}}function se(e,t){if(1&e){var i=I.EpF();I.TgZ(0,"mat-form-field"),I.YNc(1,le,1,0,"i",48),I.TgZ(2,"input",49),I.NdJ("ngModelChange",function(e){return I.CHM(i),I.oxw(4).dataFile.format=e}),I.qZA(),I.qZA()}if(2&e){var a=I.oxw(4);I.xp6(1),I.Q6J("ngIf",a.isEditing),I.xp6(1),I.Q6J("ngModel",a.dataFile.format)}}function ce(e,t){if(1&e&&(I.TgZ(0,"div",21),I.TgZ(1,"p"),I.YNc(2,re,2,5,"span",45),I.YNc(3,oe,1,0,"i",46),I.qZA(),I.YNc(4,se,3,2,"mat-form-field",9),I.qZA()),2&e){var i=I.oxw(3);I.xp6(2),I.Q6J("ngIf",!i.isEditing||i.currentUser.auths.bdp<2||"Folder"===i.dataFile.format),I.xp6(1),I.Q6J("ngIf",!i.isEditing&&i.currentUser.auths.bdp>=2&&"Folder"!==i.dataFile.format),I.xp6(1),I.Q6J("ngIf",i.isEditing&&i.currentUser.auths.bdp>=2&&"Folder"!==i.dataFile.format)}}function de(e,t){if(1&e){var i=I.EpF();I.TgZ(0,"bdp-tag-input",50),I.NdJ("tagChange",function(e){return I.CHM(i),I.oxw(3).onTagChanged(e)}),I.qZA()}if(2&e){var a=I.oxw(3);I.Q6J("packages",a.currentProject.packages)("tasks",a.tasks)("tags",a.dataFile.tags)("disabled",!a.isEditing)}}function ue(e,t){if(1&e){var i=I.EpF();I.TgZ(0,"div",51),I.TgZ(1,"div",52),I.TgZ(2,"b"),I._uU(3,"Folder"),I.qZA(),I.qZA(),I.TgZ(4,"div",53),I.TgZ(5,"a",2),I._uU(6),I.qZA(),I.TgZ(7,"span",54),I.NdJ("click",function(){I.CHM(i);var e=I.oxw(3);return e._viewControls.moveToDataFileID="",e.moveDataFileToFolder()}),I._uU(8,"(X)"),I.qZA(),I.qZA(),I.qZA()}if(2&e){var a=I.oxw(3);I.xp6(5),I.Q6J("routerLink",I.VKq(2,W,a.currentFolder.id)),I.xp6(1),I.Oqu(a.currentFolder.name)}}function ge(e,t){if(1&e&&(I.TgZ(0,"mat-option",60),I._uU(1),I.qZA()),2&e){var i=I.oxw(4);I.Q6J("value",""),I.xp6(1),I.hij(" Move out of the folder, ",(null==i.currentFolder?null:i.currentFolder.name)||"(no current folder)"," ")}}function fe(e,t){if(1&e&&(I.TgZ(0,"mat-option",60),I._uU(1),I.qZA()),2&e){var i=I.oxw().$implicit;I.Q6J("value",i.id),I.xp6(1),I.Oqu(i.name)}}function pe(e,t){if(1&e&&I.YNc(0,fe,2,2,"mat-option",57),2&e){var i=t.$implicit,a=I.oxw(4);I.Q6J("ngIf",a.dataFile.parent!==i.id)}}function he(e,t){if(1&e){var i=I.EpF();I.TgZ(0,"div",51),I._UZ(1,"br"),I.TgZ(2,"div",19),I.TgZ(3,"p"),I.TgZ(4,"b"),I._uU(5,"Folder"),I.qZA(),I.qZA(),I.qZA(),I.TgZ(6,"div",21),I.TgZ(7,"p"),I._uU(8,"Move to folder:"),I.qZA(),I.TgZ(9,"mat-form-field",55),I.TgZ(10,"mat-select",56),I.NdJ("ngModelChange",function(e){return I.CHM(i),I.oxw(3)._viewControls.moveToDataFileID=e}),I.YNc(11,ge,2,2,"mat-option",57),I.YNc(12,pe,1,1,"ng-template",58),I.qZA(),I.qZA(),I.TgZ(13,"button",59),I.NdJ("click",function(){return I.CHM(i),I.oxw(3).moveDataFileToFolder()}),I._uU(14,"Confirm"),I.qZA(),I.qZA(),I.qZA()}if(2&e){var a=I.oxw(3);I.xp6(10),I.Q6J("ngModel",a._viewControls.moveToDataFileID),I.xp6(1),I.Q6J("ngIf",a.dataFile.parent),I.xp6(1),I.Q6J("ngForOf",a.folders)}}function Ze(e,t){if(1&e){var i=I.EpF();I.TgZ(0,"div"),I.TgZ(1,"div",61),I.TgZ(2,"b"),I._uU(3,"Export"),I.qZA(),I.qZA(),I.TgZ(4,"div",53),I.TgZ(5,"mat-form-field",62),I._UZ(6,"input",63,64),I.TgZ(8,"mat-hint"),I._uU(9,"(if you would also like to share this file to someone)"),I.qZA(),I.qZA(),I._UZ(10,"br"),I._UZ(11,"br"),I.TgZ(12,"button",65),I.NdJ("click",function(){I.CHM(i);var e=I.MAs(7),t=I.oxw(4);return t.dataExport(t.dataFile,"gdrive",e.value)}),I._UZ(13,"i",66),I._uU(14,"Google Drive "),I.qZA(),I.qZA(),I.qZA()}}function ve(e,t){1&e&&(I.TgZ(0,"span"),I._uU(1,"Loading the data ... "),I._UZ(2,"i",67),I.qZA())}function me(e,t){if(1&e&&(I.TgZ(0,"div"),I._UZ(1,"img",68),I.qZA()),2&e){var i=I.oxw(4);I.xp6(1),I.Q6J("src","./data/api/dataFile/"+i.dataFile.id+"/view",I.LSH)}}function xe(e,t){if(1&e&&(I.TgZ(0,"div",18),I._UZ(1,"br"),I.YNc(2,Ze,15,0,"div",9),I._UZ(3,"br"),I.YNc(4,ve,3,0,"span",9),I._UZ(5,"hr"),I.YNc(6,me,2,1,"div",9),I.qZA()),2&e){var i=I.oxw(3);I.xp6(2),I.Q6J("ngIf","csv"==i.dataFile.format&&i._viewControls.showExportAndShare),I.xp6(2),I.Q6J("ngIf",i._viewControls.isDataLoading),I.xp6(2),I.Q6J("ngIf",i.isImage)}}function Fe(e,t){if(1&e&&(I.TgZ(0,"span",88),I._uU(1),I.qZA()),2&e){var i=t.$implicit;I.xp6(1),I.Oqu(i)}}function Te(e,t){if(1&e){var i=I.EpF();I.TgZ(0,"tr"),I.TgZ(1,"td"),I.TgZ(2,"a",2),I._uU(3),I.qZA(),I.qZA(),I.TgZ(4,"td"),I.TgZ(5,"span",82),I._uU(6),I.qZA(),I.qZA(),I.TgZ(7,"td"),I.YNc(8,Fe,2,1,"span",83),I.qZA(),I.TgZ(9,"td"),I.TgZ(10,"button",84),I.NdJ("click",function(){var e=I.CHM(i).$implicit;return I.oxw(5).onUnTrackFile(e)}),I.TgZ(11,"span",85),I._UZ(12,"i",86),I._UZ(13,"i",87),I.qZA(),I.qZA(),I.qZA(),I.qZA()}if(2&e){var a=t.$implicit;I.xp6(2),I.Q6J("routerLink",I.VKq(4,W,a.id)),I.xp6(1),I.Oqu(a.name),I.xp6(3),I.Oqu(a.format),I.xp6(2),I.Q6J("ngForOf",a.tags)}}function we(e,t){if(1&e&&(I.TgZ(0,"span"),I.TgZ(1,"div",79),I.TgZ(2,"table",80),I.TgZ(3,"thead"),I.TgZ(4,"tr"),I.TgZ(5,"th"),I._uU(6,"Name"),I.qZA(),I.TgZ(7,"th"),I._uU(8,"Format"),I.qZA(),I.TgZ(9,"th"),I._uU(10,"Tags"),I.qZA(),I._UZ(11,"th"),I.qZA(),I.qZA(),I.TgZ(12,"tbody"),I.YNc(13,Te,14,6,"ng-template",81),I.qZA(),I.qZA(),I.qZA(),I.qZA()),2&e){var i=I.oxw(4);I.xp6(13),I.Q6J("ngForOf",i.trackingFiles)("ngForTrackBy",i.trackByDataFile)}}function be(e,t){1&e&&(I.TgZ(0,"span"),I._uU(1,"Load folder content"),I.qZA())}function qe(e,t){1&e&&(I.TgZ(0,"span"),I._uU(1,"Loading folder content"),I.qZA())}function ke(e,t){if(1&e){var i=I.EpF();I.TgZ(0,"button",89),I.NdJ("click",function(){return I.CHM(i),I.oxw(4).listFiles()}),I.YNc(1,be,2,0,"span",9),I.YNc(2,qe,2,0,"span",9),I.qZA()}if(2&e){var a=I.oxw(4);I.Q6J("disabled",a.isLoadingFolderContent),I.xp6(1),I.Q6J("ngIf",!a.isLoadingFolderContent),I.xp6(1),I.Q6J("ngIf",a.isLoadingFolderContent)}}function Ae(e,t){1&e&&(I.TgZ(0,"span"),I._uU(1,"The folder is empty"),I.qZA())}function Ce(e,t){if(1&e){var i=I.EpF();I.TgZ(0,"mat-tree-node",90),I.TgZ(1,"li",91),I._UZ(2,"button",92),I.TgZ(3,"mat-checkbox",93),I.NdJ("change",function(){var e=I.CHM(i).$implicit;return I.oxw(4).onTrackFileChange(e)}),I._UZ(4,"i",94),I.TgZ(5,"span",95),I._uU(6),I.qZA(),I.qZA(),I.qZA(),I.qZA()}if(2&e){var a=t.$implicit;I.xp6(3),I.Q6J("checked",a.state.selected),I.xp6(2),I.Udp("font-weight",a.state.highlighted?800:400),I.xp6(1),I.Oqu(a.text)}}function _e(e,t){if(1&e){var i=I.EpF();I.TgZ(0,"mat-nested-tree-node"),I.TgZ(1,"li"),I.TgZ(2,"div",91),I.TgZ(3,"button",96),I.NdJ("click",function(){var e=I.CHM(i).$implicit;return I.oxw(4).toggleFiles(e)}),I.TgZ(4,"mat-icon",97),I._uU(5),I.qZA(),I.qZA(),I.TgZ(6,"mat-checkbox",98),I.NdJ("change",function(){var e=I.CHM(i).$implicit;return I.oxw(4).onTrackFileChange(e)}),I._UZ(7,"i",99),I.TgZ(8,"span",100),I._uU(9),I.qZA(),I.qZA(),I.qZA(),I.TgZ(10,"ul"),I.GkF(11,101),I.qZA(),I.qZA(),I.qZA()}if(2&e){var a=t.$implicit,n=I.oxw(4);I.xp6(3),I.uIk("aria-label","toggle "+a.text),I.xp6(2),I.hij(" ",n.nestedTreeControl&&n.nestedTreeControl.isExpanded(a)?"expand_more":"chevron_right"," "),I.xp6(1),I.Q6J("checked",a.state.selected)("indeterminate",!a.state.selected&&a.state.highlighted),I.xp6(2),I.Udp("font-weight",a.state.highlighted?800:400),I.xp6(1),I.Oqu(a.text),I.xp6(1),I.ekj("example-tree-invisible",n.nestedTreeControl&&!(null!=n.nestedTreeControl&&n.nestedTreeControl.isExpanded(a)))}}var ye=function(){return["/page"]},Ue=function(e){return{datafile:e,static:"true"}},je=function(e){return["/data","api","dataFile",e,"static"]},Ne=function(){return[]};function Je(e,t){if(1&e&&(I.TgZ(0,"div",18),I.TgZ(1,"div",69),I.TgZ(2,"h4"),I._uU(3,"Tracked file(s)"),I.qZA(),I.YNc(4,we,14,2,"span",9),I.qZA(),I.TgZ(5,"div",70),I.TgZ(6,"h4"),I.TgZ(7,"a",71),I._UZ(8,"i",72),I._uU(9," Contained files "),I.qZA(),I.TgZ(10,"a",73),I._UZ(11,"i",74),I.qZA(),I.qZA(),I.YNc(12,ke,3,3,"button",75),I.YNc(13,Ae,2,0,"span",9),I.TgZ(14,"mat-tree",76),I.YNc(15,Ce,7,4,"mat-tree-node",77),I.YNc(16,_e,12,9,"mat-nested-tree-node",78),I.qZA(),I.qZA(),I.qZA()),2&e){var i=I.oxw(3);I.xp6(4),I.Q6J("ngIf",i.currentProject&&i.dataFile),I.xp6(3),I.Q6J("routerLink",I.DdM(9,ye))("queryParams",I.VKq(10,Ue,i.dataFile.id)),I.xp6(3),I.Q6J("routerLink",I.VKq(12,je,i.dataFile.id)),I.xp6(2),I.Q6J("ngIf",!i.folderContentInitialized),I.xp6(1),I.Q6J("ngIf",i.folderContentInitialized&&(null==i.childrenNodes?null:i.childrenNodes.getValue())&&0===((null==i.childrenNodes?null:i.childrenNodes.getValue())||I.DdM(14,Ne)).length),I.xp6(1),I.Q6J("dataSource",i.nestedDataSource)("treeControl",i.nestedTreeControl),I.xp6(2),I.Q6J("matTreeNodeDefWhen",i.hasChildrenNodes)}}function De(e,t){if(1&e){var i=I.EpF();I.TgZ(0,"div"),I.TgZ(1,"div",18),I.TgZ(2,"div",19),I.TgZ(3,"b"),I._uU(4,"Name"),I.qZA(),I.qZA(),I.TgZ(5,"div",20),I.NdJ("dblclick",function(){return I.CHM(i),I.oxw(2).isEditing=!0}),I.YNc(6,ie,7,3,"p",9),I.YNc(7,ae,12,5,"ng-container",9),I.qZA(),I.qZA(),I.TgZ(8,"div",18),I.TgZ(9,"div",19),I.TgZ(10,"b"),I._uU(11,"Description"),I.qZA(),I.qZA(),I.TgZ(12,"div",21),I.TgZ(13,"div",22),I.TgZ(14,"p",23),I._uU(15),I.TgZ(16,"i",24),I.NdJ("click",function(){return I.CHM(i),I.oxw(2).isEditing=!0}),I.qZA(),I.qZA(),I.qZA(),I.YNc(17,ne,4,2,"mat-form-field",25),I.qZA(),I.qZA(),I.TgZ(18,"div",18),I.TgZ(19,"div",19),I.TgZ(20,"b"),I._uU(21,"Owner"),I.qZA(),I.qZA(),I.TgZ(22,"div",21),I.TgZ(23,"p"),I._uU(24),I.qZA(),I.qZA(),I.qZA(),I.TgZ(25,"div",18),I.TgZ(26,"div",19),I.TgZ(27,"b"),I._uU(28,"Creation"),I.qZA(),I.qZA(),I.TgZ(29,"div",21),I.TgZ(30,"p"),I._uU(31),I.qZA(),I.qZA(),I.qZA(),I.TgZ(32,"div",18),I.TgZ(33,"div",19),I.TgZ(34,"b"),I._uU(35,"Format"),I.qZA(),I.qZA(),I.YNc(36,ce,5,3,"div",26),I.qZA(),I.TgZ(37,"div",27),I.TgZ(38,"div",19),I.TgZ(39,"p"),I.TgZ(40,"b"),I._uU(41,"Tags"),I.qZA(),I.qZA(),I.qZA(),I.TgZ(42,"div",21),I.YNc(43,de,1,4,"bdp-tag-input",28),I.qZA(),I.qZA(),I.TgZ(44,"div",18),I.TgZ(45,"div",19),I.TgZ(46,"p"),I.TgZ(47,"b"),I._uU(48,"Server path"),I.qZA(),I.qZA(),I.qZA(),I.TgZ(49,"div",21),I.TgZ(50,"p"),I.TgZ(51,"small",29),I._uU(52),I.qZA(),I.TgZ(53,"button",30),I.NdJ("click",function(){return I.CHM(i),I.oxw(2).copyFilePath()}),I._UZ(54,"i",31),I.qZA(),I.qZA(),I.qZA(),I.qZA(),I._UZ(55,"mat-divider"),I.YNc(56,ue,9,4,"div",32),I.YNc(57,he,15,3,"div",32),I.YNc(58,xe,7,3,"div",33),I._UZ(59,"br"),I.YNc(60,Je,17,15,"div",33),I.qZA()}if(2&e){var a=I.oxw(2);I.xp6(6),I.Q6J("ngIf",!a.isEditing),I.xp6(1),I.Q6J("ngIf",a.isEditing),I.xp6(6),I.Q6J("hidden",a.isEditing),I.xp6(2),I.hij("",(null==a.dataFile?null:a.dataFile.desc)||"None."," "),I.xp6(2),I.Q6J("ngIf",a.isEditing),I.xp6(7),I.Oqu(a.dataFile.owner?a.dataFile.owner.name:"Unknown"),I.xp6(7),I.Oqu(null==a.dataFile||null==a.dataFile.createdAt?null:a.dataFile.createdAt.calendar()),I.xp6(5),I.Q6J("ngIf",a.currentUser),I.xp6(7),I.Q6J("ngIf",a.dataFile&&a.currentProject),I.xp6(9),I.Oqu(a.dataFile.realPath||a.dataFile.path),I.xp6(4),I.Q6J("ngIf",a.dataFile.parent&&a.currentFolder),I.xp6(1),I.Q6J("ngIf",!a.dataFile.parent&&"Folder"!==a.dataFile.format&&a._viewControls.showMoveToFolder),I.xp6(1),I.Q6J("ngIf","Folder"!==a.dataFile.format),I.xp6(2),I.Q6J("ngIf","Folder"==a.dataFile.format)}}function Ie(e,t){1&e&&I._UZ(0,"div",102)}function Qe(e,t){if(1&e&&(I.TgZ(0,"div",16),I.YNc(1,De,61,14,"div",9),I.YNc(2,Ie,1,0,"div",17),I.qZA()),2&e){var i=I.oxw();I.xp6(1),I.Q6J("ngIf",!i.isLoading),I.xp6(1),I.Q6J("ngIf",i.isDeleting)}}function Pe(e,t){1&e&&I._UZ(0,"i",114)}function Me(e,t){1&e&&I._UZ(0,"i",115)}var Se=function(e,t){return{"fa-edit":e,"fa-save":t}};function Ee(e,t){if(1&e){var i=I.EpF();I.TgZ(0,"a",104),I.NdJ("click",function(){return I.CHM(i),I.oxw(2).onSave()}),I._UZ(1,"i",116),I.TgZ(2,"span",111),I._uU(3),I.qZA(),I.TgZ(4,"span",108),I._uU(5,"\u276f"),I.qZA(),I.qZA()}if(2&e){var a=I.oxw(2);I.ekj("active",a.isEditing),I.xp6(1),I.Q6J("ngClass",I.WLB(6,Se,!a.isEditing,a.isEditing)),I.xp6(1),I.ekj("active",a.showRightButtonContent||a.isEditing),I.xp6(1),I.Oqu(a.isEditing?"Save":"Edit")}}function Ye(e,t){if(1&e){var i=I.EpF();I.ynx(0),I.TgZ(1,"a",104),I.NdJ("click",function(){return I.CHM(i),I.oxw(2).importFileDialog()}),I._UZ(2,"i",117),I.TgZ(3,"span",111),I._uU(4,"Import files"),I.qZA(),I.TgZ(5,"span",108),I._uU(6,"\u276f"),I.qZA(),I.qZA(),I._UZ(7,"br"),I.BQk()}if(2&e){var a=I.oxw(2);I.xp6(1),I.ekj("active",!!a._viewControls.showCreateFolder),I.xp6(2),I.ekj("active",a.showRightButtonContent||a._viewControls.showCreateFolder)}}function Le(e,t){if(1&e){var i=I.EpF();I.TgZ(0,"a",104),I.NdJ("click",function(){I.CHM(i);var e=I.oxw(2);return e.deleteDataFileDialog(e.dataFile)}),I._UZ(1,"i",118),I.TgZ(2,"span",111),I._uU(3,"Delete"),I.qZA(),I.TgZ(4,"span",108),I._uU(5,"\u276f"),I.qZA(),I.qZA()}if(2&e){var a=I.oxw(2);I.xp6(2),I.ekj("active",a.showRightButtonContent)}}var Oe=function(e){return{datafile:e}};function He(e,t){if(1&e&&(I.TgZ(0,"a",119),I._UZ(1,"i",120),I.TgZ(2,"span",111),I._uU(3,"File Page"),I.qZA(),I.TgZ(4,"span",108),I._uU(5,"\u276f"),I.qZA(),I.qZA()),2&e){var i=I.oxw(2);I.Q6J("routerLink",I.DdM(4,ye))("queryParams",I.VKq(5,Oe,i.dataFile.id)),I.xp6(2),I.ekj("active",i.showRightButtonContent)}}function Be(e,t){if(1&e){var i=I.EpF();I.TgZ(0,"a",104),I.NdJ("click",function(){I.CHM(i);var e=I.oxw(2);return e._viewControls.showMoveToFolder=!e._viewControls.showMoveToFolder}),I.TgZ(1,"span",121),I._UZ(2,"i",122),I._UZ(3,"i",123),I.qZA(),I.TgZ(4,"span",111),I._uU(5,"Move to Folder"),I.qZA(),I.TgZ(6,"span",108),I._uU(7,"\u276f"),I.qZA(),I.qZA()}if(2&e){var a=I.oxw(2);I.ekj("active",a._viewControls.showMoveToFolder),I.xp6(4),I.ekj("active",a.showRightButtonContent||a._viewControls.showMoveToFolder)}}function Re(e,t){if(1&e){var i=I.EpF();I.TgZ(0,"a",104),I.NdJ("click",function(){I.CHM(i);var e=I.oxw(2);return e._viewControls.showExportAndShare=!e._viewControls.showExportAndShare}),I._UZ(1,"i",124),I.TgZ(2,"span",111),I._uU(3,"Export"),I.qZA(),I.TgZ(4,"span",108),I._uU(5,"\u276f"),I.qZA(),I.qZA()}if(2&e){var a=I.oxw(2);I.ekj("active",a._viewControls.showExportAndShare),I.xp6(2),I.ekj("active",a.showRightButtonContent||a._viewControls.showExportAndShare)}}function $e(e,t){if(1&e){var i=I.EpF();I.TgZ(0,"div",103),I.TgZ(1,"a",104),I.NdJ("click",function(){I.CHM(i);var e=I.oxw();return e.showRightButtonContent=!e.showRightButtonContent}),I.YNc(2,Pe,1,0,"i",105),I.YNc(3,Me,1,0,"i",106),I.TgZ(4,"span",107),I._uU(5,"MENU"),I.qZA(),I.TgZ(6,"span",108),I._uU(7,"\u276f"),I.qZA(),I.qZA(),I._UZ(8,"br"),I.YNc(9,Ee,6,9,"a",109),I._UZ(10,"br"),I.YNc(11,Ye,8,4,"ng-container",9),I.TgZ(12,"a",104),I.NdJ("click",function(){return I.CHM(i),I.oxw().onDownloadBtn()}),I._UZ(13,"i",110),I.TgZ(14,"span",111),I._uU(15,"Download"),I.qZA(),I.TgZ(16,"span",108),I._uU(17,"\u276f"),I.qZA(),I.qZA(),I._UZ(18,"br"),I.YNc(19,Le,6,2,"a",112),I._UZ(20,"br"),I.YNc(21,He,6,7,"a",113),I._UZ(22,"br"),I.YNc(23,Be,8,4,"a",109),I._UZ(24,"br"),I.YNc(25,Re,6,4,"a",109),I._UZ(26,"br"),I.qZA()}if(2&e){var a=I.oxw();I.Q6J("@rightButtonState",a.showRightButtonContent?"active":"inactive"),I.xp6(2),I.Q6J("ngIf",a.showRightButtonContent),I.xp6(1),I.Q6J("ngIf",!a.showRightButtonContent),I.xp6(1),I.ekj("active",a.showRightButtonContent),I.xp6(5),I.Q6J("ngIf",!a.dataFile.readOnly),I.xp6(2),I.Q6J("ngIf",(null==a.currentProject||null==a.currentProject.privilege?null:a.currentProject.privilege.canAddFile)&&"Folder"===a.dataFile.format),I.xp6(3),I.ekj("active",a.showRightButtonContent),I.xp6(5),I.Q6J("ngIf",!a.dataFile.readOnly),I.xp6(2),I.Q6J("ngIf",a.currentProject&&a.currentProject.getValidFilePageKeys(a.dataFile.tags,a.dataFile.format).length>0),I.xp6(2),I.Q6J("ngIf","Folder"!==a.dataFile.format&&!a.dataFile.parent),I.xp6(2),I.Q6J("ngIf","csv"==a.dataFile.format)}}var ze,Ve=function(){return["/home"]},Ke=function(){return["/project/list"]},Xe=((ze=function(){function t(e,a,n,r,o,l,s,c){i(this,t),this.router=e,this.route=a,this.accountService=n,this.projectService=r,this.dataService=o,this.dialogRef=l,this.systemService=s,this.taskService=c,this.isLoading=!0,this.showRightButtonContent=!1,this.isEditing=!1,this.folderContentInitialized=!1,this.isLoadingFolderContent=!1,this.isDeleting=!1,this.nestedTreeControl=new C.VY(function(e){return e.children}),this.nestedDataSource=new p.WX,this.hintTags=[],this.tasks=[],this.tagInputValue="",this.separatorKeysCodes=[j.K5,j.OC],this.validTags=[],this.filteredTags=[],this.textToBeTag="",this.allowedFormats=[],this._subs=[],this.recaptchaKey="",this.pathToName={},this.features=[]}return n(t,[{key:"ngOnInit",value:function(){var t=this;this.systemService.toggleNavbar(!0),this.systemService.toggleSidebar(!0),this.systemService.maintainRightSidebarStatus(),this.childrenNodes=new J.X([]),this._viewControls={isDataLoading:!1,viewMode:"",showMoveToFolder:!1,showExportAndShare:!1,moveToDataFileID:"",fileTreeOption:{},confirmDelete:""},this._subs.push(this.taskService.taskList$.subscribe(function(e){!e||(t.tasks=(0,_.X)(e,[function(e){return e.name}],["asc"]),t.validTags=t.getValidTags(e))})),this._subs.push(this.accountService.currentUser$.subscribe(function(e){return t.currentUser=e})),this._subs.push(this.dataService.incomingData$.subscribe(function(e){return t.resultData=e.data})),this._subs.push(this.projectService.currentProject$.subscribe(function(i){var a;i&&i.id!==(null===(a=t.currentProject)||void 0===a?void 0:a.id)&&(t.currentProject=i,t.currentProject&&(t.allowedFormats=e(new Set([].concat.apply([],t.currentProject.packages.map(function(e){return e.allowedFormats})))).map(function(e){return String(e)})),t.updateChildrenNodes(),i.packages&&t.taskService.loadTasks(i.packages.map(function(e){return e.id})))})),this.route.queryParamMap.subscribe(function(e){return t.isEditing="1"===e.get("edit")}),this.route.paramMap.pipe((0,N.w)(function(e){var i=e.get("dataId");return t.isLoading=!0,t.resultData=void 0,t.dataFile=void 0,t._viewControls.viewMode="",i?t.projectService.loadDataFileInfo(i):(0,D.of)(new A.j({errors:[],success:null}))})).subscribe(function(e){t.dataFile=e.success,t._viewControls.showMoveToFolder=!1,t.isLoading=!1,t.resultData=void 0,t.systemService.toggleNavbar(!0),t.systemService.maintainRightSidebarStatus()}),this._subs.push(this.systemService.sysInfo$.subscribe(function(e){t.sysConfig=e,e&&(t.recaptchaKey=e.reCaptchaSiteKey)})),this.childrenNodes.subscribe(function(e){return t.nestedDataSource?t.nestedDataSource.data=e:""})}},{key:"getValidTags",value:function(e){var t={};return e.forEach(function(e){var i=e.arguments.filter(function(e){return"inFile"===e.type||"outFile"===e.type}).map(function(e){return e.tags});[].concat.apply([],i).forEach(function(e){return t[e]=1})}),Object.keys(t)}},{key:"loadData",value:function(){if(this.dataFile){var e="";this.dataFile&&"csv"===this.dataFile.format?e="table":this.dataFile&&"json"===this.dataFile.format&&(e="json"),this.dataService.getData(this.dataFile.id,e,!1)}}},{key:"isImage",get:function(){return!!this.dataFile&&!!this.dataFile.format.toLowerCase().match(/jpg|jpeg|gif|png/)}},{key:"folders",get:function(){return this.currentProject&&this.currentProject.dataFiles?this.currentProject.dataFiles.filter(function(e){return"Folder"===e.format&&!e.hidden}):[]}},{key:"trackingFiles",get:function(){var e=[];if(this.currentProject&&this.dataFile)for(var t=this.currentProject.dataFiles,i=0;i<t.length;i++)t[i].id!==this.dataFile.id&&(this.dataFile.id===t[i].parent||this.dataFile.parent&&this.dataFile.parent===t[i].parent)&&(e.push(t[i]),this.pathToName[t[i].path]=t[i].name);return e}},{key:"currentFolder",get:function(){var e=this;if(this.currentProject&&this.currentProject.dataFiles)return this.currentProject.dataFiles.filter(function(t){return"Folder"===t.format&&e.dataFile&&e.dataFile.parent===t.id})[0]}},{key:"getNameByPath",value:function(e){var t="";if(this.currentProject&&this.dataFile)if(this.dataFile.path===e)t="".concat(this.dataFile.name,".").concat(this.dataFile.format);else for(var i=this.trackingFiles,a=0;a<i.length;a++)(i[a].path===e||i[a].realPath===e)&&(t="".concat(i[a].name,".").concat(i[a].format));return t}},{key:"isTracked",value:function(e){var t=0;if(this.currentProject&&this.dataFile)if(this.dataFile.path===e)t=1;else for(var i=this.trackingFiles,a=0;a<i.length;a++)i[a].path===e||i[a].realPath===e?t=1:0===i[a].path.indexOf(e)&&(t=2);return t}},{key:"setViewMode",value:function(e){this._viewControls.viewMode=e}},{key:"trackByDataFile",value:function(e,t){return t.id}},{key:"onSave",value:function(){var e=this;if(this.isEditing){this.isEditing=!1;var t=this.dataFile;if(!t)return;var i=this.projectService.updateDataFileInfo(t).subscribe(function(t){return i.unsubscribe(),!t.isError&&(e.dataFile=t.success)})}else this.isEditing=!0}},{key:"onDownloadBtn",value:function(){!this.dataFile||this.dataService.downloadData(this.dataFile.id)}},{key:"gotoProject",value:function(e){if(this.dataFile){var t=this.dataFile.project;t&&this.router.navigate(["/project",t,"/info"])}}},{key:"gotoResult",value:function(){if(this.dataFile){var e=this.dataFile.result;e&&this.router.navigate(["/result/",e,"/info"])}}},{key:"deleteDataFileDialog",value:function(e){var t=this,i=this.dialogRef.open(U.N,{disableClose:!1});i.componentInstance.setOptions({title:'<h4 class="modal-title text-danger">You are going to delete the data file:\'<strong>'+e.name+"</strong>'?</h4>",desc:'<span class="text-danger">This will delete the data file, name: <b>'+e.name+"</b><br>This cannot be undone. Make sure this is something you really want to do!</span><br>"});var a=i.afterClosed().subscribe(function(i){return a.unsubscribe(),i&&t.deleteDataFile(e,i)})}},{key:"dataExport",value:function(e,t,i){this.projectService.exportDataFile(e,t,i),this._viewControls.showExportAndShare=!1}},{key:"moveDataFileToFolder",value:function(){var e=this;if(this.dataFile&&(this.dataFile.parent||""!==this._viewControls.moveToDataFileID)&&this.dataFile.parent!==this._viewControls.moveToDataFileID)var t=this.projectService.moveDataFileToFolder(this.dataFile,this._viewControls.moveToDataFileID).subscribe(function(i){t.unsubscribe(),e._viewControls.showMoveToFolder=!1,e._viewControls.moveToDataFileID="",i.isError||(e.dataFile=i.success)})}},{key:"onTrackFileChange",value:function(e){var t=this;if(this.dataFile&&"Folder"===this.dataFile.format){var i=e.value.path;if(e.state.selected){e.state.selected=!1;var a=this.trackingFiles.filter(function(e){return e.path===i||e.realPath===i})[0];if(a&&(a.parent===this.dataFile.id||this.dataFile.parent==this.dataFile.parent))var n=this.projectService.untrackDataFile(a).subscribe(function(i){if(n.unsubscribe(),i.isError)e.state.selected=!0;else{var a=t.isTracked(e.value.path);e.state.highlighted=a>0}})}else{e.state.highlighted=!0;var r=this.projectService.trackDataFile(i,this.dataFile).subscribe(function(t){r.unsubscribe(),t.isError||(e.state.highlighted=!0,e.state.selected=!0)})}}}},{key:"toggleFiles",value:function(e){var t=this;if(e.state.opened||"directory"!==e.value.type){if(e.state.opened=!e.state.opened,!this.nestedTreeControl)return;e.state.opened?this.nestedTreeControl.expand(e):this.nestedTreeControl.collapse(e)}else{if(e.state.loading=!0,!this.dataFile)return;var i=this.projectService.listFilesInDataFolder(this.dataFile,e.value.path).subscribe(function(a){i.unsubscribe();var n=a.success.map(function(e){return t._convertTreeData(e)});e.children.next(n),e.state.loading=!1,e.state.opened=!e.state.opened,t.nestedTreeControl&&t.nestedTreeControl.expand(e)})}}},{key:"hasChildrenNodes",value:function(e,t){return"directory"===t.value.type}},{key:"listFiles",value:function(){var e=this;if(this.isLoadingFolderContent=!0,this.dataFile)var t=this.projectService.listFilesInDataFolder(this.dataFile).subscribe(function(i){return t.unsubscribe(),e.isLoadingFolderContent=!1,e.folderContentInitialized=!0,!i.isError&&e.childrenNodes&&e.childrenNodes.next(i.success.map(function(t){return e._convertTreeData(t)}))})}},{key:"updateChildrenNodes",value:function(){var e=this;this.childrenNodes&&this.childrenNodes.next(this.childrenNodes.value.map(function(t){return e._convertTreeData(t)}))}},{key:"onTrackFile",value:function(e,t){var i=this;if(e.preventDefault(),e.stopPropagation(),this.dataFile&&"Folder"===this.dataFile.format)var a=this.projectService.trackDataFile(t.data.path,this.dataFile).subscribe(function(e){return a.unsubscribe(),!e.isError&&i.listFiles()})}},{key:"onUnTrackFile",value:function(e){var t=this;if(this.dataFile&&e.parent===this.dataFile.id)var i=this.projectService.untrackDataFile(e).subscribe(function(e){return i.unsubscribe(),!e.isError&&t.updateChildrenNodes()})}},{key:"onTagChanged",value:function(e){this.dataFile&&(this.dataFile.tags=e)}},{key:"importFileDialog",value:function(){var e=this;this.dataFile&&"Folder"===this.dataFile.format&&(this._viewControls.showCreateFolder=!0,this.dialogRef.open(y.s,{width:"99%",height:"95%",maxWidth:"95vw",maxHeight:"95vh",data:{allowedFormats:this.allowedFormats,project:this.currentProject,sysConfig:this.sysConfig,parentDataFileID:this.dataFile.id,tasks:this.tasks,importType:"local",currentUser:this.currentUser,tags:[]}}).afterClosed().subscribe(function(){e._viewControls.showCreateFolder=!1}))}},{key:"copyFilePath",value:function(){if(this.dataFile){var e=document.createElement("textarea");e.style.position="fixed",e.style.left="0",e.style.top="0",e.style.opacity="0",e.value=this.dataFile.path||this.dataFile.realPath,document.body.appendChild(e),e.focus(),e.select(),document.execCommand("copy"),document.body.removeChild(e)}}},{key:"ngOnDestroy",value:function(){this._subs.forEach(function(e){return e.unsubscribe()})}},{key:"_convertTreeData",value:function(e){var t=this,i=this.isTracked(e.path);if(e.state){var a=this.getNameByPath(e.value.path);return e.state.selected=!!a,e.state.highlighted=!!a,e.text=a||e.text,e.children&&e.children.length>0&&(e.children=new J.X(e.children.map(function(e){return t._convertTreeData(e)}))),e}return{text:e.name,value:e,children:new J.X("directory"===e.type?e.children.map(function(e){return t._convertTreeData(e)}):[]),icon:e.children?void 0:"tree-file",state:{opened:!1,selected:1===i,disabled:!1,loading:!1,highlighted:i>0,openable:"directory"===e.type,dropAllowed:!1}}}},{key:"deleteDataFile",value:function(e,t){var i=this;this.isDeleting=!0,e.status=3;var a=this.projectService.deleteDataFile(e).subscribe(function(e){var t;if(a.unsubscribe(),i.dataFile||i.currentProject){var n=i.dataFile?i.dataFile.project:null===(t=i.currentProject)||void 0===t?void 0:t.id;i.router.navigate(["/project",n,"dataFile","list"])}})}}]),t}()).\u0275fac=function(e){return new(e||ze)(I.Y36(q.F0),I.Y36(q.gz),I.Y36(Q.B),I.Y36(P.Y),I.Y36(M.D),I.Y36(S.uw),I.Y36(E.o),I.Y36(Y.M))},ze.\u0275cmp=I.Xpm({type:ze,selectors:[["datafile-info"]],viewQuery:function(e,t){var i;1&e&&I.Gf(B,5),2&e&&I.iGM(i=I.CRH())&&(t.tagInput=i.first)},decls:21,vars:12,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],["class","link",3,"click",4,"ngIf"],[3,"routerLink",4,"ngIf"],["class","breadcrumb-item",4,"ngIf"],["class","breadcrumb-item active",4,"ngIf"],[1,"bdp-main-container"],[1,"chi-header"],[4,"ngIf"],["class","container-fluid","style","height: 100%",4,"ngIf"],["class","chi-right-menu",4,"ngIf"],[1,"link",3,"click"],[1,"breadcrumb-item","active"],["target","_blank",3,"routerLink"],[1,"fas","fa-external-link-alt","ms-3"],[1,"container-fluid",2,"height","100%"],["class","overlay",4,"ngIf"],[1,"row"],[1,"col-md-3","col-lg-2"],[1,"col-md-9","col-lg-10",3,"dblclick"],[1,"col-md-9","col-lg-10"],[3,"hidden"],[2,"word-break","break-all"],[1,"ms-1","link","fa","fa-edit","fa-lg",3,"click"],["style","width: 100%;",4,"ngIf"],["class","col-md-9 col-lg-10",4,"ngIf"],[1,"row",2,"margin-top","10px"],[3,"packages","tasks","tags","disabled","tagChange",4,"ngIf"],[1,"text-muted"],["mat-icon-button","",3,"click"],[1,"far","fa-copy","fa-fw","fa-lg","ms-2"],["class","row my-2",4,"ngIf"],["class","row",4,"ngIf"],[1,"text-muted",2,"white-space","pre"],[2,"width","50%"],["matInput","","type","text","maxlength","36","size","36","placeholder","The prefix for the data file(s)",3,"ngModel","ngModelChange"],["matInput","","type","text","maxlength","36","size","36","placeholder","The suffix for the data file(s)",3,"ngModel","ngModelChange"],[2,"width","100%"],["matPrefix","",1,"link","fa","fa-save","fa-lg","me-1",3,"click"],["matInput","","type","text","maxlength","80","size","80","placeholder","The DataFile name (length must be smaller or equal than 80 characters)",3,"ngModel","ngModelChange"],["matPrefix",""],[1,"text-muted",2,"white-space","pre",3,"innerHTML"],["matSuffix",""],["matInput","","placeholder","Say something about this DataFile. (max length: 300 characters)","maxlength","300","rows","4",3,"ngModel","ngModelChange"],["class","badge m-1",3,"bg-secondary","bg-success",4,"ngIf"],["class","ms-1 link fa fa-edit fa-lg",3,"click",4,"ngIf"],[1,"badge","m-1"],["matPrefix","","class","link fa fa-save fa-lg me-1",3,"click",4,"ngIf"],["matInput","","type","text","maxlength","16","size","16","placeholder","The data file format",3,"ngModel","ngModelChange"],[3,"packages","tasks","tags","disabled","tagChange"],[1,"row","my-2"],[1,"col-md-2"],[1,"col-md-10"],[1,"link",2,"text-decoration","underline",3,"click"],[2,"width","320px"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngIf"],["ngFor","",3,"ngForOf"],["mat-raised-button","","type","button","color","primary",3,"click"],[3,"value"],[1,"col-md-2",2,"line-height","1.42857143"],[2,"width","350px"],["matInput","","type","text","placeholder","[Optional] Put the email to share"],["shareEmail",""],["mat-raised-button","","type","button",1,"btn","btn-danger","btn-xs",3,"click"],[1,"fab","fa-google-drive","me-2"],[1,"fas","fa-circle-o-notch","fa-spin","fa-fw"],[1,"img-responsive",3,"src"],[1,"col-md-6",2,"border-right","1px solid black","min-height","350px"],[1,"col-md-6"],[3,"routerLink","queryParams"],[1,"fas","fa-folder","me-2","fa-fw"],["target","_blank",1,"ms-3",3,"routerLink"],[1,"link","fas","fa-external-link-alt","fa-fx"],["mat-button","",3,"disabled","click",4,"ngIf"],[1,"example-tree",3,"dataSource","treeControl"],["matTreeNodeToggle","",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],[1,"container-fluid",2,"overflow","auto"],[1,"table","table-condensed"],["ngFor","",3,"ngForOf","ngForTrackBy"],[1,"badge","bg-secondary"],["class","badge bg-primary",4,"ngFor","ngForOf"],["mat-icon-button","","color","accent",3,"click"],[1,"fa-stack"],[1,"fas","fa-thumbtack","fa-stack-1x"],[1,"fas","fa-slash","fa-stack-1x","text-danger"],[1,"badge","bg-primary"],["mat-button","",3,"disabled","click"],["matTreeNodeToggle",""],[1,"mat-tree-node"],["mat-icon-button","","disabled",""],[3,"checked","change"],[1,"far","fa-file-alt","fa-lg","fa-fw","me-2"],[2,"font-size","1rem"],["mat-icon-button","","matTreeNodeToggle","",3,"click"],[1,"mat-icon-rtl-mirror"],[3,"checked","indeterminate","change"],[1,"fas","fa-folder-open","fa-lg","fa-fw","me-2"],[2,"font-size","1.2rem"],["matTreeNodeOutlet",""],[1,"overlay"],[1,"chi-right-menu"],[1,"chi-rbtn",3,"click"],["class","fa fa-angle-right fa-fw",4,"ngIf"],["class","fa fa-angle-left fa-fw",4,"ngIf"],[1,"chi-rbtn-content","ms-2"],[1,"chi-rbtn-arrow"],["class","chi-rbtn",3,"active","click",4,"ngIf"],[1,"fas","fa-file-download","fa-fw"],[1,"chi-rbtn-content"],["class","chi-rbtn",3,"click",4,"ngIf"],["class","chi-rbtn",3,"routerLink","queryParams",4,"ngIf"],[1,"fa","fa-angle-right","fa-fw"],[1,"fa","fa-angle-left","fa-fw"],["aria-hidden","true",1,"fas","fa-fw",3,"ngClass"],[1,"fa","fa-upload","fa-fw"],["aria-hidden","true",1,"fas","fa-trash","fa-fw"],[1,"chi-rbtn",3,"routerLink","queryParams"],["aria-hidden","true",1,"fas","fa-scroll","fa-fw"],[1,"fa-stack","fa-2x","fa-fw",2,"font-size","9px"],[1,"far","fa-folder","fa-stack-2x","fa-fw"],[1,"fas","fa-arrow-right","fa-stack-1x","fa-fw"],[1,"fas","fa-cloud-upload-alt"]],template:function(e,t){1&e&&(I.TgZ(0,"ol",0),I.TgZ(1,"li",1),I.TgZ(2,"a",2),I._uU(3,"Home"),I.qZA(),I.qZA(),I.TgZ(4,"li",1),I.TgZ(5,"a",2),I._uU(6,"Project List"),I.qZA(),I.qZA(),I.TgZ(7,"li",1),I.YNc(8,R,2,0,"a",3),I.YNc(9,V,3,4,"a",4),I.qZA(),I.YNc(10,X,3,3,"li",5),I.YNc(11,G,5,6,"li",6),I.YNc(12,ee,2,0,"li",6),I.qZA(),I.TgZ(13,"div",7),I.TgZ(14,"h4",8),I._uU(15,"Data information"),I.qZA(),I.YNc(16,te,2,0,"div",9),I._UZ(17,"br"),I._UZ(18,"br"),I.YNc(19,Qe,3,2,"div",10),I.qZA(),I.YNc(20,$e,27,13,"div",11)),2&e&&(I.xp6(2),I.Q6J("routerLink",I.DdM(10,Ve)),I.xp6(3),I.Q6J("routerLink",I.DdM(11,Ke)),I.xp6(3),I.Q6J("ngIf",!t.dataFile),I.xp6(1),I.Q6J("ngIf",t.dataFile&&(null==t.dataFile?null:t.dataFile.project)),I.xp6(1),I.Q6J("ngIf",t.dataFile),I.xp6(1),I.Q6J("ngIf",t.dataFile),I.xp6(1),I.Q6J("ngIf",!t.dataFile),I.xp6(4),I.Q6J("ngIf",t.isLoading),I.xp6(3),I.Q6J("ngIf",t.dataFile),I.xp6(1),I.Q6J("ngIf",t.dataFile))},directives:[q.yS,l.O5,g.lW,x.d,L.KE,d.Nt,o.Fj,o.nD,o.JJ,o.On,L.qo,L.R9,O.y,u.gD,l.sg,H.ey,L.bx,p.gi,p.fQ,p.uo,p.eu,m.oG,p.GZ,f.Hw,p.Ar,l.mk],styles:[".mat-option.mat-active[_ngcontent-%COMP%]{background:rgba(0,123,255,.4)}.mat-option[_ngcontent-%COMP%]:hover{background:rgba(0,123,255,.2)}.example-tree[_ngcontent-%COMP%]{background-color:transparent;transform-origin:0px 0px}.example-tree[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .example-tree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;list-style-type:none}.mat-tree-node[_ngcontent-%COMP%]{min-height:unset}.example-tree-invisible[_ngcontent-%COMP%]{display:none}"],data:{animation:[k.M]}}),ze),We=r(78968),Ge=r(17238),et=r(16738);function tt(e,t){if(1&e&&(I.TgZ(0,"span"),I._uU(1),I.qZA()),2&e){var i=I.oxw(2);I.xp6(1),I.hij(": ",i.currentProject.name,"")}}var it=function(e){return["/project",e,"info"]};function at(e,t){if(1&e&&(I.TgZ(0,"a",2),I._uU(1,"Project "),I.YNc(2,tt,2,1,"span",7),I.qZA()),2&e){var i=I.oxw();I.Q6J("routerLink",I.VKq(2,it,i.currentProject.id)),I.xp6(2),I.Q6J("ngIf",i.currentProject)}}var nt=function(e){return["/project",e,"dataFile","list"]};function rt(e,t){if(1&e&&(I.TgZ(0,"li",11),I.TgZ(1,"a",2),I._uU(2,"DataFile List"),I.qZA(),I.TgZ(3,"a",12),I._UZ(4,"i",13),I.qZA(),I.qZA()),2&e){var i=I.oxw();I.xp6(1),I.Q6J("routerLink",I.VKq(2,nt,i.currentProject.id)),I.xp6(2),I.Q6J("routerLink",I.VKq(4,nt,i.currentProject.id))}}function ot(e,t){1&e&&(I.TgZ(0,"li",11),I._uU(1,"DataFile List"),I.qZA())}function lt(e,t){1&e&&(I.TgZ(0,"div"),I._uU(1,"Loading... "),I._UZ(2,"i",14),I.qZA())}function st(e,t){if(1&e&&(I.ynx(0),I.TgZ(1,"div",15),I.TgZ(2,"div",16),I.TgZ(3,"b"),I._uU(4,"Project name"),I.qZA(),I.qZA(),I.TgZ(5,"div",17),I.TgZ(6,"p"),I._uU(7),I.qZA(),I.qZA(),I.qZA(),I.TgZ(8,"div",15),I.TgZ(9,"div",16),I.TgZ(10,"b"),I._uU(11,"Project description"),I.qZA(),I.qZA(),I.TgZ(12,"div",17),I.TgZ(13,"p"),I._uU(14),I.qZA(),I.qZA(),I.qZA(),I.TgZ(15,"div",15),I.TgZ(16,"div",16),I.TgZ(17,"b"),I._uU(18,"Data file number"),I.qZA(),I.qZA(),I.TgZ(19,"div",17),I.TgZ(20,"p"),I._uU(21),I.qZA(),I.qZA(),I.qZA(),I.BQk()),2&e){var i=I.oxw();I.xp6(7),I.Oqu(null!=i.currentProject&&i.currentProject.name?null==i.currentProject?null:i.currentProject.name:"(no name)"),I.xp6(7),I.Oqu(null!=i.currentProject&&i.currentProject.desc?null==i.currentProject?null:i.currentProject.desc:"(no description)"),I.xp6(7),I.AsE("",null==i.currentProject?null:i.currentProject.dataFileNumber," record(s), (",(null==i.currentProject||null==i.currentProject.dataFiles?null:i.currentProject.dataFiles.length)||0," including intermediate files)")}}function ct(e,t){if(1&e){var i=I.EpF();I.TgZ(0,"span",51),I.NdJ("click",function(){var e=I.CHM(i).$implicit;return I.oxw(2).toggleTag(e)}),I._uU(1),I.qZA()}if(2&e){var a=t.$implicit,n=I.oxw(2);I.ekj("bg-primary",n._viewControls.filteredTags.indexOf(a)>=0)("bg-secondary",-1===n._viewControls.filteredTags.indexOf(a)),I.xp6(1),I.Oqu(a)}}function dt(e,t){1&e&&(I.ynx(0),I._uU(1,"s"),I.BQk())}function ut(e,t){if(1&e){var i=I.EpF();I.TgZ(0,"button",53),I.NdJ("click",function(){return I.CHM(i),I.oxw(3).onDownloadSelected()}),I._UZ(1,"i",57),I.qZA()}}function gt(e,t){if(1&e){var i=I.EpF();I.TgZ(0,"button",58),I.NdJ("click",function(){return I.CHM(i),I.oxw(3).deleteDataFileDialog()}),I.TgZ(1,"mat-icon"),I._uU(2,"delete"),I.qZA(),I.qZA()}}function ft(e,t){if(1&e&&(I.TgZ(0,"mat-option",67),I._uU(1),I.qZA()),2&e){var i=I.oxw().$implicit;I.Q6J("value",i),I.xp6(1),I.hij(" ",i.name+" (owner: "+i.owner+")"," ")}}function pt(e,t){if(1&e&&(I.ynx(0),I.YNc(1,ft,2,2,"mat-option",66),I.BQk()),2&e){var i=t.$implicit,a=I.oxw(4);I.xp6(1),I.Q6J("ngIf",i.id!==a.currentProject.id&&i.privilege.canAddFile)}}function ht(e,t){if(1&e){var i=I.EpF();I.TgZ(0,"div",19),I.TgZ(1,"mat-form-field",59),I.TgZ(2,"mat-select",60,61),I.YNc(4,pt,2,1,"ng-container",62),I.qZA(),I.qZA(),I.TgZ(5,"mat-checkbox",null,63),I._uU(7,"Make a full copy"),I.qZA(),I.TgZ(8,"small",64),I._uU(9,"*If checked, the file/folder content will be copied."),I.qZA(),I._UZ(10,"br"),I.TgZ(11,"button",65),I.NdJ("click",function(){I.CHM(i);var e=I.MAs(3),t=I.MAs(6);return I.oxw(3).importToProject(e.value,t.checked),e.value=void 0}),I._uU(12,"Export files to selected project"),I.qZA(),I.qZA()}if(2&e){var a=I.MAs(3),n=I.oxw(3);I.xp6(4),I.Q6J("ngForOf",n.projectList),I.xp6(7),I.Q6J("disabled",!a.value)}}function Zt(e,t){if(1&e){var i=I.EpF();I.TgZ(0,"div",15),I.TgZ(1,"div",19),I.TgZ(2,"span"),I._uU(3),I.YNc(4,dt,2,0,"ng-container",7),I.qZA(),I._UZ(5,"i",52),I.TgZ(6,"button",53),I.NdJ("click",function(){return I.CHM(i),I.oxw(2).onToggleFileImport()}),I.TgZ(7,"mat-icon"),I._uU(8,"move_to_inbox"),I.qZA(),I.qZA(),I.YNc(9,ut,2,0,"button",54),I.YNc(10,gt,3,0,"button",55),I.qZA(),I.YNc(11,ht,13,2,"div",56),I.qZA()}if(2&e){var a=I.oxw(2);I.xp6(3),I.hij("Selected ",a.selectedList.length," data file"),I.xp6(1),I.Q6J("ngIf",a.selectedList.length>1),I.xp6(5),I.Q6J("ngIf",a.currentProject.privilege.canView),I.xp6(1),I.Q6J("ngIf",a.currentProject.privilege.canDeleteFile),I.xp6(1),I.Q6J("ngIf",a.toggleFileImport)}}function vt(e,t){if(1&e){var i=I.EpF();I.TgZ(0,"th",68),I.TgZ(1,"mat-checkbox",69,70),I.NdJ("change",function(e){return I.CHM(i),I.oxw(2).onAllCheckBoxChange(e)}),I.qZA(),I.qZA()}if(2&e){var a=I.oxw(2);I.xp6(1),I.Q6J("checked",a.selectedList.length===a.pageSize||a.selectedList.length===a.dataFiles.length)("indeterminate",a.selectedList.length>0&&a.selectedList.length<a.pageSize&&a.selectedList.length<a.dataFiles.length)}}function mt(e,t){if(1&e){var i=I.EpF();I.TgZ(0,"td",71),I.TgZ(1,"mat-checkbox",72),I.NdJ("change",function(e){var t=I.CHM(i).$implicit;return I.oxw(2).onFileCheckBoxChange(e,t.id)})("click",function(e){return e.stopPropagation()}),I.qZA(),I.qZA()}if(2&e){var a=t.$implicit,n=I.oxw(2);I.uIk("rowspan",n.expandedDataFiles.has(a.id)||n.isEditing?2:1),I.xp6(1),I.Q6J("checked",n.selectedList.indexOf(a.id)>=0)}}function xt(e,t){1&e&&(I.TgZ(0,"th",73),I._uU(1,"Prefix"),I.qZA())}function Ft(e,t){if(1&e&&(I.TgZ(0,"u",77),I._uU(1),I.qZA()),2&e){var i=I.oxw().$implicit;I.xp6(1),I.Oqu(i.prefix)}}function Tt(e,t){if(1&e){var i=I.EpF();I.TgZ(0,"mat-form-field",59),I.TgZ(1,"input",78),I.NdJ("ngModelChange",function(e){return I.CHM(i),I.oxw().$implicit.prefix=e}),I.qZA(),I.qZA()}if(2&e){var a=I.oxw().$implicit;I.xp6(1),I.Q6J("ngModel",a.prefix)}}function wt(e,t){if(1&e&&(I.TgZ(0,"td",74),I.YNc(1,Ft,2,1,"u",75),I.YNc(2,Tt,2,1,"mat-form-field",76),I.qZA()),2&e){var i=I.oxw(2);I.xp6(1),I.Q6J("ngIf",!i.isEditing),I.xp6(1),I.Q6J("ngIf",i.isEditing)}}function bt(e,t){1&e&&(I.TgZ(0,"th",73),I.TgZ(1,"span",79),I._uU(2,"DataFile Name"),I.qZA(),I.qZA())}var qt=function(){return["/page"]},kt=function(e){return{datafile:e}};function At(e,t){if(1&e&&(I.TgZ(0,"a",86),I._UZ(1,"i",87),I.qZA()),2&e){var i=I.oxw(2).$implicit;I.Q6J("routerLink",I.DdM(2,qt))("queryParams",I.VKq(3,kt,i.id))}}var Ct=function(e){return{datafile:e,static:"true"}};function _t(e,t){if(1&e&&(I.TgZ(0,"a",88),I._UZ(1,"i",89),I.qZA()),2&e){var i=I.oxw(2).$implicit;I.Q6J("routerLink",I.DdM(2,qt))("queryParams",I.VKq(3,Ct,i.id))}}var yt=function(e){return["/dataFile",e,"info"]};function Ut(e,t){if(1&e&&(I.ynx(0),I.YNc(1,At,2,5,"a",81),I.YNc(2,_t,2,5,"a",82),I.TgZ(3,"a",83),I._uU(4),I.qZA(),I.TgZ(5,"a",84),I._UZ(6,"span",85),I.qZA(),I.BQk()),2&e){var i=I.oxw().$implicit,a=I.oxw(2);I.xp6(1),I.Q6J("ngIf",a.currentProject.getValidFilePageKeys(i.tags,i.format).length>0),I.xp6(1),I.Q6J("ngIf","Folder"===i.format),I.xp6(1),I.Q6J("routerLink",I.VKq(5,yt,i.id)),I.xp6(1),I.hij(" ",(null==i?null:i.name)||"(no-name)"," "),I.xp6(1),I.Q6J("routerLink",I.VKq(7,yt,i.id))}}function jt(e,t){if(1&e){var i=I.EpF();I.TgZ(0,"mat-form-field",59),I.TgZ(1,"input",90),I.NdJ("ngModelChange",function(e){return I.CHM(i),I.oxw().$implicit.name=e}),I.qZA(),I.qZA()}if(2&e){var a=I.oxw().$implicit;I.xp6(1),I.Q6J("ngModel",a.name)}}function Nt(e,t){if(1&e&&(I.TgZ(0,"td",80),I.YNc(1,Ut,7,9,"ng-container",7),I.YNc(2,jt,2,1,"mat-form-field",76),I.qZA()),2&e){var i=I.oxw(2);I.xp6(1),I.Q6J("ngIf",!i.isEditing),I.xp6(1),I.Q6J("ngIf",i.isEditing)}}function Jt(e,t){1&e&&(I.TgZ(0,"th",73),I._uU(1,"Suffix"),I.qZA())}function Dt(e,t){if(1&e&&(I.TgZ(0,"u",77),I._uU(1),I.qZA()),2&e){var i=I.oxw().$implicit;I.xp6(1),I.Oqu(i.suffix)}}function It(e,t){if(1&e){var i=I.EpF();I.TgZ(0,"mat-form-field",59),I.TgZ(1,"input",91),I.NdJ("ngModelChange",function(e){return I.CHM(i),I.oxw().$implicit.suffix=e}),I.qZA(),I.qZA()}if(2&e){var a=I.oxw().$implicit;I.xp6(1),I.Q6J("ngModel",a.suffix)}}function Qt(e,t){if(1&e&&(I.TgZ(0,"td",80),I.YNc(1,Dt,2,1,"u",75),I.YNc(2,It,2,1,"mat-form-field",76),I.qZA()),2&e){var i=I.oxw(2);I.xp6(1),I.Q6J("ngIf",!i.isEditing),I.xp6(1),I.Q6J("ngIf",i.isEditing)}}function Pt(e,t){1&e&&(I.TgZ(0,"th",73),I._uU(1,"Status"),I.qZA())}function Mt(e,t){1&e&&I._UZ(0,"i",99)}function St(e,t){1&e&&(I.TgZ(0,"p",100),I._UZ(1,"i",101),I.qZA())}function Et(e,t){1&e&&I._UZ(0,"i",102)}function Yt(e,t){1&e&&I._UZ(0,"i",103)}function Lt(e,t){1&e&&I._UZ(0,"i",104)}function Ot(e,t){if(1&e&&(I.TgZ(0,"td",92),I.TgZ(1,"div",93),I.YNc(2,Mt,1,0,"i",94),I.YNc(3,St,2,0,"p",95),I.YNc(4,Et,1,0,"i",96),I.YNc(5,Yt,1,0,"i",97),I.YNc(6,Lt,1,0,"i",98),I.qZA(),I.qZA()),2&e){var i=t.$implicit;I.xp6(1),I.Q6J("ngSwitch",null==i?null:i.status),I.xp6(1),I.Q6J("ngSwitchCase",0),I.xp6(1),I.Q6J("ngSwitchCase",1),I.xp6(1),I.Q6J("ngSwitchCase",2),I.xp6(1),I.Q6J("ngSwitchCase",3),I.xp6(1),I.Q6J("ngSwitchCase",4)}}function Ht(e,t){1&e&&(I.TgZ(0,"th",73),I._uU(1,"Creation time"),I.qZA())}function Bt(e,t){if(1&e&&(I.TgZ(0,"td",92),I._uU(1),I.qZA()),2&e){var i=t.$implicit;I.xp6(1),I.Oqu(null==i||null==i.createdAt?null:i.createdAt.format("YYYY/MM/DD HH:mm:ss"))}}function Rt(e,t){1&e&&(I.TgZ(0,"th",73),I._uU(1,"Owner"),I.qZA())}function $t(e,t){if(1&e&&(I.TgZ(0,"td",92),I.TgZ(1,"span"),I._uU(2),I.qZA(),I.qZA()),2&e){var i=t.$implicit;I.xp6(2),I.Oqu(null==i||null==i.owner?null:i.owner.name)}}function zt(e,t){1&e&&(I.TgZ(0,"th",105),I._uU(1,"Tags"),I.qZA())}function Vt(e,t){if(1&e){var i=I.EpF();I.TgZ(0,"td",106),I.TgZ(1,"bdp-tag-input",107),I.NdJ("tagChange",function(e){var t=I.CHM(i).$implicit;return I.oxw(2).onTagChanged(e,t)})("tagClicked",function(e){return I.CHM(i),I.oxw(2).onTagClicked(e)}),I.qZA(),I.qZA()}if(2&e){var a=t.$implicit,n=I.oxw(2);I.xp6(1),I.Q6J("packages",n.currentProject.packages)("tasks",n.tasks)("tags",a.tags)("disabled",!n.isEditing)("highlightTags",n._viewControls.filteredTags)}}function Kt(e,t){if(1&e&&(I.TgZ(0,"span",117),I._uU(1),I.qZA()),2&e){var i=t.$implicit;I.ekj("bg-primary","Folder"!==i)("bg-success","Folder"===i),I.xp6(1),I.Oqu(i)}}function Xt(e,t){1&e&&(I.TgZ(0,"span",118),I._uU(1,"No Tags"),I.qZA())}var Wt=function(e){return{"fa-folder":e}};function Gt(e,t){if(1&e&&(I.ynx(0),I.TgZ(1,"tr"),I.TgZ(2,"td"),I.TgZ(3,"a",2),I._UZ(4,"i",112),I.TgZ(5,"b"),I._uU(6),I.qZA(),I.qZA(),I.qZA(),I.TgZ(7,"td"),I.YNc(8,Kt,2,5,"span",113),I.YNc(9,Xt,2,0,"span",114),I.qZA(),I.TgZ(10,"td",115),I._uU(11),I.qZA(),I.qZA(),I.TgZ(12,"tr"),I.TgZ(13,"td",116),I._UZ(14,"span",110),I._uU(15),I.qZA(),I.qZA(),I.BQk()),2&e){var i=t.$implicit;I.xp6(3),I.Q6J("routerLink",I.VKq(9,yt,i.id)),I.xp6(1),I.Q6J("ngClass",I.VKq(11,Wt,"Folder"===i.format)),I.xp6(1),I.ekj("text-success","Folder"===i.format),I.xp6(1),I.Oqu(i.name),I.xp6(2),I.Q6J("ngForOf",i.tags),I.xp6(1),I.Q6J("ngIf",!i.tags||0===i.tags.length),I.xp6(2),I.Oqu(null==i||null==i.createdAt?null:i.createdAt.format("YYYY/MM/DD HH:mm:ss")),I.xp6(4),I.hij("Description: ",i.desc||"no descriptions","")}}function ei(e,t){if(1&e&&(I.TgZ(0,"div"),I.TgZ(1,"b"),I._UZ(2,"i",110),I._uU(3,"Contained tracked files"),I.qZA(),I._uU(4,": "),I.TgZ(5,"div",27),I.TgZ(6,"table",111),I.YNc(7,Gt,16,13,"ng-container",62),I.qZA(),I.qZA(),I.qZA()),2&e){var i=I.oxw(2).$implicit,a=I.oxw(2);I.xp6(7),I.Q6J("ngForOf",a.containedFiles(i.id))}}function ti(e,t){if(1&e&&(I.TgZ(0,"div"),I.TgZ(1,"b"),I._UZ(2,"i",110),I._uU(3,"Description"),I.qZA(),I._uU(4,": "),I.TgZ(5,"p"),I._uU(6),I.qZA(),I.YNc(7,ei,8,1,"div",7),I.qZA()),2&e){var i=I.oxw().$implicit;I.xp6(6),I.Oqu(i.desc?i.desc:"No description"),I.xp6(1),I.Q6J("ngIf",i.tags.indexOf("Folder")>=0)}}function ii(e,t){if(1&e&&(I.TgZ(0,"td",108),I.TgZ(1,"div",109),I.YNc(2,ti,8,2,"div",7),I.qZA(),I.qZA()),2&e){var i=t.$implicit,a=I.oxw(2);I.uIk("colspan",a.expandedDataFiles.has(i.id)||a.isEditing?7:8),I.xp6(1),I.Q6J("@detailExpand",a.expandedDataFiles.has(i.id)||a.isEditing?"expanded":"collapsed"),I.xp6(1),I.Q6J("ngIf",a.expandedDataFiles.has(i.id)||a.isEditing)}}function ai(e,t){1&e&&I._UZ(0,"tr",119)}function ni(e,t){if(1&e){var i=I.EpF();I.TgZ(0,"tr",120),I.NdJ("click",function(){var e=I.CHM(i).$implicit;return I.oxw(2).toggleRow(e.id)}),I.qZA()}if(2&e){var a=t.$implicit,n=I.oxw(2);I.ekj("table-primary",n.expandedDataFiles.has(a.id))}}function ri(e,t){1&e&&I._UZ(0,"tr",121)}var oi=function(){return[5,10,30,50,100,300,500]},li=function(){return["dataFileCheckbox","dataFilePrefix","dataFileName","dataFileSuffix","dataFileTags","dataFileStatus","dataFileCreationTime","dataFileOwner"]},si=function(){return["dataFileDetail"]};function ci(e,t){if(1&e){var i=I.EpF();I.TgZ(0,"div",18),I.TgZ(1,"div",15),I.TgZ(2,"div",19),I.TgZ(3,"span",20),I._UZ(4,"i",21),I._uU(5,"Tags filter "),I.qZA(),I.TgZ(6,"span",22),I.NdJ("click",function(){I.CHM(i);var e=I.oxw();return e._viewControls.filteredTags=e.allPossibleTags}),I._uU(7,"All"),I.qZA(),I.TgZ(8,"span",23),I.NdJ("click",function(){return I.CHM(i),I.oxw()._viewControls.filteredTags=[]}),I._uU(9,"None"),I.qZA(),I.YNc(10,ct,2,5,"span",24),I.qZA(),I.qZA(),I.YNc(11,Zt,12,5,"div",25),I._UZ(12,"br"),I.TgZ(13,"div",15),I.TgZ(14,"div",19),I.TgZ(15,"mat-paginator",26),I.NdJ("page",function(e){return I.CHM(i),I.oxw().onPageChange(e)}),I.qZA(),I.TgZ(16,"div",27),I.TgZ(17,"table",28),I.NdJ("matSortChange",function(e){return I.CHM(i),I.oxw().sortData(e)}),I.ALo(18,"slice"),I.ynx(19,29),I.YNc(20,vt,3,2,"th",30),I.YNc(21,mt,2,2,"td",31),I.BQk(),I.ynx(22,32),I.YNc(23,xt,2,0,"th",33),I.YNc(24,wt,3,2,"td",34),I.BQk(),I.ynx(25,35),I.YNc(26,bt,3,0,"th",33),I.YNc(27,Nt,3,2,"td",36),I.BQk(),I.ynx(28,37),I.YNc(29,Jt,2,0,"th",33),I.YNc(30,Qt,3,2,"td",36),I.BQk(),I.ynx(31,38),I.YNc(32,Pt,2,0,"th",33),I.YNc(33,Ot,7,6,"td",39),I.BQk(),I.ynx(34,40),I.YNc(35,Ht,2,0,"th",41),I.YNc(36,Bt,2,1,"td",39),I.BQk(),I.ynx(37,42),I.YNc(38,Rt,2,0,"th",41),I.YNc(39,$t,3,1,"td",39),I.BQk(),I.ynx(40,43),I.YNc(41,zt,2,0,"th",44),I.YNc(42,Vt,2,5,"td",45),I.BQk(),I.ynx(43,46),I.YNc(44,ii,3,3,"td",47),I.BQk(),I.YNc(45,ai,1,0,"tr",48),I.YNc(46,ni,1,2,"tr",49),I.YNc(47,ri,1,0,"tr",50),I.qZA(),I.qZA(),I.TgZ(48,"mat-paginator",26),I.NdJ("page",function(e){return I.CHM(i),I.oxw().onPageChange(e)}),I.qZA(),I.qZA(),I.qZA(),I.qZA()}if(2&e){var a=I.oxw();I.xp6(10),I.Q6J("ngForOf",a.allPossibleTags),I.xp6(1),I.Q6J("ngIf",a.selectedList.length>0),I.xp6(4),I.Q6J("length",a.dataFiles.length)("pageSize",a.pageSize)("pageIndex",a.pageIndex)("pageSizeOptions",I.DdM(18,oi)),I.xp6(2),I.Q6J("dataSource",I.Dn7(18,14,a.dataFiles,a.pageIndex*a.pageSize,(a.pageIndex+1)*a.pageSize)),I.xp6(28),I.Q6J("matHeaderRowDef",I.DdM(19,li)),I.xp6(1),I.Q6J("matRowDefColumns",I.DdM(20,li)),I.xp6(1),I.Q6J("matRowDefColumns",I.DdM(21,si)),I.xp6(1),I.Q6J("length",a.dataFiles.length)("pageSize",a.pageSize)("pageIndex",a.pageIndex)("pageSizeOptions",I.DdM(22,oi))}}function di(e,t){1&e&&I._UZ(0,"i",132)}function ui(e,t){1&e&&I._UZ(0,"i",133)}var gi=function(e,t){return{"fa-edit":e,"fa-save":t}};function fi(e,t){if(1&e){var i=I.EpF();I.TgZ(0,"a",123),I.NdJ("click",function(){return I.CHM(i),I.oxw(2).onSave()}),I._UZ(1,"i",134),I.TgZ(2,"span",131),I._uU(3),I.qZA(),I.TgZ(4,"span",127),I._uU(5,"\u276f"),I.qZA(),I.qZA()}if(2&e){var a=I.oxw(2);I.ekj("active",a.isEditing),I.xp6(1),I.Q6J("ngClass",I.WLB(6,gi,!a.isEditing,a.isEditing)),I.xp6(1),I.ekj("active",a.showRightButtonContent||a.isEditing),I.xp6(1),I.Oqu(a.isEditing?"Save":"Modify file info")}}function pi(e,t){if(1&e){var i=I.EpF();I.ynx(0),I.TgZ(1,"a",123),I.NdJ("click",function(){return I.CHM(i),I.oxw(2).onCancel()}),I._UZ(2,"i",135),I.TgZ(3,"span",131),I._uU(4,"Cancel"),I.qZA(),I.TgZ(5,"span",127),I._uU(6,"\u276f"),I.qZA(),I.qZA(),I._UZ(7,"br"),I.BQk()}if(2&e){var a=I.oxw(2);I.xp6(1),I.ekj("active",a.isEditing),I.xp6(2),I.ekj("active",a.showRightButtonContent||a.isEditing)}}var hi=function(e,t){return{"fa-arrows-alt-v":e,"fa-angle-double-up":t}};function Zi(e,t){if(1&e){var i=I.EpF();I.TgZ(0,"a",123),I.NdJ("click",function(){return I.CHM(i),I.oxw(2).toggleExpansion()}),I._UZ(1,"i",134),I.TgZ(2,"span",131),I._uU(3),I.qZA(),I.TgZ(4,"span",127),I._uU(5,"\u276f"),I.qZA(),I.qZA()}if(2&e){var a=I.oxw(2);I.ekj("active",a._viewControls.allExpanded),I.xp6(1),I.Q6J("ngClass",I.WLB(6,hi,!a._viewControls.allExpanded,a._viewControls.allExpanded)),I.xp6(1),I.ekj("active",a.showRightButtonContent),I.xp6(1),I.Oqu(a._viewControls.allExpanded?"Collapse info":"Expand info")}}function vi(e,t){if(1&e){var i=I.EpF();I.ynx(0),I.TgZ(1,"a",123),I.NdJ("click",function(){return I.CHM(i),I.oxw(2).importFileDialog()}),I._UZ(2,"i",136),I.TgZ(3,"span",131),I._uU(4,"Import files"),I.qZA(),I.TgZ(5,"span",127),I._uU(6,"\u276f"),I.qZA(),I.qZA(),I._UZ(7,"br"),I.BQk()}if(2&e){var a=I.oxw(2);I.xp6(1),I.ekj("active",!!a._viewControls.showCreateFolder),I.xp6(2),I.ekj("active",a.showRightButtonContent||a._viewControls.showCreateFolder)}}var mi=function(e){return["/project",e,"result","list"]};function xi(e,t){if(1&e){var i=I.EpF();I.TgZ(0,"div",122),I.TgZ(1,"a",123),I.NdJ("click",function(){I.CHM(i);var e=I.oxw();return e.showRightButtonContent=!e.showRightButtonContent}),I.YNc(2,di,1,0,"i",124),I.YNc(3,ui,1,0,"i",125),I.TgZ(4,"span",126),I._uU(5,"MENU"),I.qZA(),I.TgZ(6,"span",127),I._uU(7,"\u276f"),I.qZA(),I.qZA(),I._UZ(8,"br"),I.YNc(9,fi,6,9,"a",128),I._UZ(10,"br"),I.YNc(11,pi,8,4,"ng-container",7),I.YNc(12,Zi,6,9,"a",128),I._UZ(13,"br"),I.YNc(14,vi,8,4,"ng-container",7),I.TgZ(15,"a",129),I._UZ(16,"i",130),I.TgZ(17,"span",131),I._uU(18,"Results"),I.qZA(),I.TgZ(19,"span",127),I._uU(20,"\u276f"),I.qZA(),I.qZA(),I._UZ(21,"br"),I.qZA()}if(2&e){var a=I.oxw();I.Q6J("@rightButtonState",a.showRightButtonContent?"active":"inactive"),I.xp6(2),I.Q6J("ngIf",a.showRightButtonContent),I.xp6(1),I.Q6J("ngIf",!a.showRightButtonContent),I.xp6(1),I.ekj("active",a.showRightButtonContent),I.xp6(5),I.Q6J("ngIf",a.currentProject.privilege.canEditFile),I.xp6(2),I.Q6J("ngIf",a.currentProject.privilege.canEditFile&&a.isEditing),I.xp6(1),I.Q6J("ngIf",a.currentProject.privilege.canEditFile),I.xp6(2),I.Q6J("ngIf",a.currentProject.privilege.canAddFile),I.xp6(1),I.Q6J("routerLink",I.VKq(12,mi,a.currentProject.id)),I.xp6(2),I.ekj("active",a.showRightButtonContent)}}var Fi=function(){return["/home"]},Ti=function(){return["/project/list"]},wi=q.Bz.forChild([{path:"list",component:function(){var t=function(){function t(e,a,n,r,o,l,s,c){i(this,t),this.projectService=e,this.router=a,this.route=n,this.dialogRef=r,this.userService=o,this.systemService=l,this.taskService=s,this.dataService=c,this.pageIndex=0,this.pageSize=30,this.totalLength=0,this.showRightButtonContent=!1,this.toggleFileImport=!1,this.selectedList=[],this.projectList=[],this.projectID=null,this.expandedDataFiles=new Set,this.allowedFormats=[],this.tasks=[],this.isEditing=!1,this._subs=[],this._dataFiles=[]}return n(t,[{key:"ngOnInit",value:function(){var t=this;this.systemService.toggleNavbar(!0),this.systemService.toggleSidebar(!0),this.systemService.maintainRightSidebarStatus(),this._viewControls={sortField:"createdAt",sortDirection:"desc",filteredTags:[],showFilter:!0,showCreateFolder:!1,confirmDelete:"",allExpanded:!1},this._subs.push(this.projectService.currentProject$.subscribe(function(i){setTimeout(function(){var a;i&&i.id!==(null===(a=t.currentProject)||void 0===a?void 0:a.id)&&(t.currentProject=i,t._viewControls.filteredTags=t.allPossibleTags,t.allowedFormats=e(new Set([].concat.apply([],t.currentProject.packages.map(function(e){return e.allowedFormats})))).map(function(e){return e.toString()}),t.taskService.loadTasks(t.currentProject.packages.map(function(e){return e.id})),t.dataFileTable&&t.dataFileTable.renderRows())},100)})),this.route.paramMap.subscribe(function(e){t.projectID=e.get("pid"),t.projectID&&t.projectService.setCurrentProject(t.projectID)}),this._subs.push(this.systemService.sysInfo$.subscribe(function(e){t.sysConfig=e,e&&(t.recaptchaKey=e.reCaptchaSiteKey)})),this._subs.push(this.userService.currentUser$.subscribe(function(e){return t.currentUser=e})),this._subs.push(this.taskService.taskList$.subscribe(function(e){Array.isArray(e)&&(t.tasks=e)}))}},{key:"getProjectList",value:function(){var e=this,t=this.projectService.searchProjectList("").subscribe(function(i){t.unsubscribe(),e.projectList=i.isError?[]:i.success})}},{key:"importToProject",value:function(e,t){var i=this.projectService.importFilesToProject(e.id,this.selectedList,t).subscribe(function(e){return i.unsubscribe()})}},{key:"toggleRow",value:function(e){this.isEditing||(this.expandedDataFiles.has(e)?this.expandedDataFiles.delete(e):this.expandedDataFiles.add(e))}},{key:"displayProjectListFn",value:function(e){return e&&e.name?e.name:""}},{key:"onToggleFileImport",value:function(){this.toggleFileImport=!this.toggleFileImport,this.toggleFileImport&&this.getProjectList()}},{key:"allPossibleTags",get:function(){if(this.currentProject){var e={},t=this.currentProject.dataFiles;if(!t)return[];for(var i=0;i<t.length;i++){var a=t[i];if(!a.hidden&&!a.parent){var n=a.tags;if(n)for(var r=0;r<n.length;r++)e[n[r]]++}}return Object.keys(e)}return[]}},{key:"toggleTag",value:function(e){var t=this._viewControls.filteredTags.length!==this.allPossibleTags.length,i=this._viewControls.filteredTags.indexOf(e);-1===i?this._viewControls.filteredTags.push(e):t?1===this._viewControls.filteredTags.length?this._viewControls.filteredTags=this.allPossibleTags:this._viewControls.filteredTags.splice(i,1):this._viewControls.filteredTags=[e]}},{key:"dataFiles",get:function(){if(this.currentProject&&this.currentProject.dataFiles){var e=this._viewControls.filteredTags,t=this.currentProject.dataFiles.slice(0).filter(function(t){for(var i=0;i<e.length;i++)if(t.tags&&t.tags.indexOf(e[i])>=0)return!0;return!t.tags||0===t.tags.length}),i=this._viewControls.sortField;return"createdAt"===i?(t.sort(function(e,t){return et(e[i]).isBefore(t[i])?-1:1}),"desc"===this._viewControls.sortDirection&&t.reverse()):t=(0,_.X)(t,"owner"===i?[function(e){return e.owner&&e.owner.name?e.owner.name:""}]:[function(e){return e[i]}],this._viewControls.sortDirection),t.filter(function(e){return!e.hidden&&!e.parent})}return[]}},{key:"containedFiles",value:function(e){return this.currentProject&&Array.isArray(this.currentProject.dataFiles)?this.currentProject.dataFiles.filter(function(t){return t.parent===e}):[]}},{key:"sortColumn",value:function(e){this._viewControls.sortField===e?this._viewControls.sortDirection="desc"===this._viewControls.sortDirection?"asc":"desc":(this._viewControls.sortField=e,this._viewControls.sortDirection="asc")}},{key:"onFocusedDataFile",value:function(e){this.focusedDataFile=e}},{key:"deleteDataFile",value:function(e,t){e&&(e.status=2);var i=this.projectService.deleteDataFile(e).subscribe(function(){return i.unsubscribe()})}},{key:"batchDeleteFiles",value:function(e){var t,i=this,a=[];if(this.dataFiles.forEach(function(t){e.indexOf(t.id)>=0&&(t.status=2,a.push(t.id))}),null===(t=this.currentProject)||void 0===t?void 0:t.id)var n=this.projectService.batchDeleteDataFile(a,this.currentProject.id).subscribe(function(){i.selectedList=[],n.unsubscribe()})}},{key:"deleteDataFileDialog",value:function(e){var t=this,i=this.dialogRef.open(U.N,{disableClose:!1});void 0!==e?(i.componentInstance.setOptions({title:'<h4 class="modal-title text-danger">Are you sure you want to delete the data file <strong>'.concat(e.name,"</strong>?</h4>"),desc:'<span class="text-danger">This will delete the data file, name: <b>'.concat(e.name,"</b><br>This cannot be undone. Make sure this is something you really want to do!</span><br>")}),i.afterClosed().subscribe(function(i){i&&t.deleteDataFile(e,i)})):(i.componentInstance.setOptions({title:'<h4 class="text-danger">You are going to remove '.concat(this.selectedList.length,"  data files</h4>"),desc:'<span class="text-danger">These records will be deleted and this cannot be undone. Make sure this is something you really want to do!</span><br>'}),i.afterClosed().subscribe(function(e){e&&t.batchDeleteFiles(t.selectedList)}))}},{key:"gotoDataFile",value:function(e,t){this.router.navigate(["/dataFile",e.id,"info"],t?{queryParams:{edit:1}}:{})}},{key:"goToFileUploadPage",value:function(){var e;!(null===(e=this.currentProject)||void 0===e?void 0:e.id)||this.router.navigate(["/project",this.currentProject.id,"fileImport"])}},{key:"onPageChange",value:function(e){this.pageIndex=e.pageIndex,this.pageSize=e.pageSize,this.selectedList=[]}},{key:"onAllCheckBoxChange",value:function(e){this.selectedList=e.checked?this.dataFiles.slice(this.pageIndex*this.pageSize,(this.pageIndex+1)*this.pageSize).map(function(e){return e.id}):[]}},{key:"onFileCheckBoxChange",value:function(e,t){if(e.checked&&this.selectedList.indexOf(t)<0)this.selectedList.push(t);else if(!e.checked){var i=this.selectedList.indexOf(t);i>=0&&this.selectedList.splice(i,1)}}},{key:"onDownloadSelected",value:function(){!this.projectID||this.dataService.downloadFiles(this.projectID,this.selectedList)}},{key:"importFileDialog",value:function(){var e=this;this._viewControls.showCreateFolder=!0,this.dialogRef.open(y.s,{width:"99%",height:"95%",maxWidth:"95vw",maxHeight:"95vh",data:{allowedFormats:this.allowedFormats,project:this.currentProject,sysConfig:this.sysConfig,tasks:this.tasks,importType:"local",currentUser:this.currentUser,tags:[]}}).afterClosed().subscribe(function(){return e._viewControls.showCreateFolder=!1})}},{key:"sortData",value:function(e){var t="createdAt";switch(e.active){case"dataFileName":t="name";break;case"dataFilePrefix":t="prefix";break;case"dataFileSuffix":t="suffix";break;case"dataFileStatus":t="status";break;case"dataFileCreationTime":t="createdAt";break;case"dataFileOwner":t="owner"}e.direction?(this._viewControls.sortDirection=e.direction,this._viewControls.sortField=t):(this._viewControls.sortDirection="desc",this._viewControls.sortField="createdAt")}},{key:"onTagClicked",value:function(e){this.toggleTag(e)}},{key:"onTagChanged",value:function(e,t){this.isEditing&&(t.tags=e)}},{key:"toggleExpansion",value:function(){if(this._viewControls.allExpanded)this.expandedDataFiles.clear(),this._viewControls.allExpanded=!1;else{for(var e=0;e<this.dataFiles.length;e++)this.dataFiles[e].id&&this.expandedDataFiles.add(this.dataFiles[e].id);this._viewControls.allExpanded=!0}}},{key:"onSave",value:function(){if(this.isEditing){this.isEditing=!1;var e=this.projectService.updateDataFiles(this.dataFiles).subscribe(function(t){e.unsubscribe()})}else this.isEditing=!0}},{key:"onCancel",value:function(){this.isEditing=!1,this.projectID&&this.projectService.setCurrentProject(this.projectID,!0)}},{key:"ngOnDestroy",value:function(){this._subs.forEach(function(e){return e.unsubscribe()})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(I.Y36(P.Y),I.Y36(q.F0),I.Y36(q.gz),I.Y36(S.uw),I.Y36(Q.B),I.Y36(E.o),I.Y36(Y.M),I.Y36(M.D))},t.\u0275cmp=I.Xpm({type:t,selectors:[["project-datafile-list"]],viewQuery:function(e,t){var i;(1&e&&I.Gf(h.BZ,5),2&e)&&(I.iGM(i=I.CRH())&&(t.dataFileTable=i.first))},decls:21,vars:11,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[3,"routerLink",4,"ngIf"],["class","breadcrumb-item active",4,"ngIf"],[1,"bdp-main-container"],[1,"chi-header"],[4,"ngIf"],[1,"my-3"],["class","container-fluid",4,"ngIf"],["class","chi-right-menu",4,"ngIf"],[1,"breadcrumb-item","active"],["target","_blank",3,"routerLink"],[1,"fas","fa-external-link-alt","ms-3"],[1,"fas","fa-circle-notch","fa-fw","fa-spin","fa-lg"],[1,"row"],[1,"col-md-3","col-lg-2"],[1,"col-md-9","col-lg-10"],[1,"container-fluid"],[1,"col-12"],[1,"me-3",2,"float","left"],[1,"fas","fa-filter","me-2"],[1,"badge","link","bg-success",2,"float","left",3,"click"],[1,"badge","link","bg-danger",2,"float","left",3,"click"],["class","badge link","style","float:left;",3,"bg-primary","bg-secondary","click",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],[2,"background-color","rgba(255,255, 255, 0.7)","border","thin solid darkgray",3,"length","pageSize","pageIndex","pageSizeOptions","page"],[1,"table-responsive"],["mat-table","","multiTemplateDataRows","","matSort","",1,"table","table-hover","table-striped","table-bordered",3,"dataSource","matSortChange"],["matColumnDef","dataFileCheckbox"],["mat-header-cell","","class","align-middle text-center","style","padding: 2px;",4,"matHeaderCellDef"],["mat-cell","","class","align-middle text-center","style","padding: 2px;",4,"matCellDef"],["matColumnDef","dataFilePrefix"],["mat-header-cell","","mat-sort-header","","class","align-middle text-center",4,"matHeaderCellDef"],["mat-cell","","class","align-middle text-end px-2",4,"matCellDef"],["matColumnDef","dataFileName"],["mat-cell","","class","align-middle text-start px-2",4,"matCellDef"],["matColumnDef","dataFileSuffix"],["matColumnDef","dataFileStatus"],["mat-cell","","class","align-middle text-center",4,"matCellDef"],["matColumnDef","dataFileCreationTime"],["mat-header-cell","","mat-sort-header","","class","align-middle  text-center",4,"matHeaderCellDef"],["matColumnDef","dataFileOwner"],["matColumnDef","dataFileTags"],["mat-header-cell","","class","align-middle text-center",4,"matHeaderCellDef"],["mat-cell","","class","align-middle text-start p-3",4,"matCellDef"],["matColumnDef","dataFileDetail"],["mat-cell","","style","background-color: rgba(122, 168, 255, 0.1);","class","px-3",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"table-primary","click",4,"matRowDef","matRowDefColumns"],["mat-row","","class","datafile-detail-row",4,"matRowDef","matRowDefColumns"],[1,"badge","link",2,"float","left",3,"click"],[1,"fa","fa-angle-double-right","ms-4","fa-lg"],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","primary",3,"click",4,"ngIf"],["mat-icon-button","","color","warn",3,"click",4,"ngIf"],["class","col-12",4,"ngIf"],[1,"fas","fa-download","fa-lg","fa-fw"],["mat-icon-button","","color","warn",3,"click"],[2,"width","100%"],["placeholder","select a project to import"],["projectSelect",""],[4,"ngFor","ngForOf"],["isCopying",""],[1,"text-muted","m1-3"],["mat-raised-button","",3,"disabled","click"],[3,"value",4,"ngIf"],[3,"value"],["mat-header-cell","",1,"align-middle","text-center",2,"padding","2px"],[3,"checked","indeterminate","change"],["allCheckBox",""],["mat-cell","",1,"align-middle","text-center",2,"padding","2px"],["color","primary",3,"checked","change","click"],["mat-header-cell","","mat-sort-header","",1,"align-middle","text-center"],["mat-cell","",1,"align-middle","text-end","px-2"],["class","text-muted",4,"ngIf"],["style","width: 100%;",4,"ngIf"],[1,"text-muted"],["matInput","","type","text","maxlength","36","size","36","placeholder","The prefix",3,"ngModel","ngModelChange"],[2,"align-self","center"],["mat-cell","",1,"align-middle","text-start","px-2"],["mat-icon-button","","color","primary","matTooltip","DataFile Page",3,"routerLink","queryParams",4,"ngIf"],["mat-icon-button","","color","primary","matTooltip","View Folder Content",3,"routerLink","queryParams",4,"ngIf"],[1,"ms-3",3,"routerLink"],["target","_blank",1,"ms-3",3,"routerLink"],[1,"fas","fa-external-link-alt"],["mat-icon-button","","color","primary","matTooltip","DataFile Page",3,"routerLink","queryParams"],[1,"fas","fa-scroll","fa-fw","fa-lg"],["mat-icon-button","","color","primary","matTooltip","View Folder Content",3,"routerLink","queryParams"],[1,"fas","fa-folder","fa-fw","fa-lg"],["matInput","","type","text","maxlength","80","size","80","placeholder","The DataFile name (length must be smaller or equal than 80 characters)",3,"ngModel","ngModelChange"],["matInput","","type","text","maxlength","36","size","36","placeholder","The suffix",3,"ngModel","ngModelChange"],["mat-cell","",1,"align-middle","text-center"],[3,"ngSwitch"],["class","fas fa-circle-notch fa-spin text-primary",4,"ngSwitchCase"],["class","text-success",4,"ngSwitchCase"],["class","fas fa-hourglass-half text-secondary",4,"ngSwitchCase"],["class","fas fa-trash-alt fa-fw text-warning",4,"ngSwitchCase"],["class","fas fa-times fa-fw text-danger",4,"ngSwitchCase"],[1,"fas","fa-circle-notch","fa-spin","text-primary"],[1,"text-success"],[1,"fas","fa-check","fa-fw"],[1,"fas","fa-hourglass-half","text-secondary"],[1,"fas","fa-trash-alt","fa-fw","text-warning"],[1,"fas","fa-times","fa-fw","text-danger"],["mat-header-cell","",1,"align-middle","text-center"],["mat-cell","",1,"align-middle","text-start","p-3"],[3,"packages","tasks","tags","disabled","highlightTags","tagChange","tagClicked"],["mat-cell","",1,"px-3",2,"background-color","rgba(122, 168, 255, 0.1)"],[1,"datafile-details","my-3"],[1,"fas","fa-angle-right","me-2"],[1,"table","table-sm","table-hover","table-bordered","table-striped"],[1,"fa","text-success",2,"font-size","14px",3,"ngClass"],["class","badge link",3,"bg-primary","bg-success",4,"ngFor","ngForOf"],["class","badge bg-warning",4,"ngIf"],[1,"text-center"],["colspan","3"],[1,"badge","link"],[1,"badge","bg-warning"],["mat-header-row",""],["mat-row","",3,"click"],["mat-row","",1,"datafile-detail-row"],[1,"chi-right-menu"],[1,"chi-rbtn",3,"click"],["class","fa fa-angle-right fa-fw",4,"ngIf"],["class","fa fa-angle-left fa-fw",4,"ngIf"],[1,"chi-rbtn-content","ms-2"],[1,"chi-rbtn-arrow"],["class","chi-rbtn",3,"active","click",4,"ngIf"],[1,"chi-rbtn",3,"routerLink"],[1,"far","fa-folder-open"],[1,"chi-rbtn-content"],[1,"fa","fa-angle-right","fa-fw"],[1,"fa","fa-angle-left","fa-fw"],["aria-hidden","true",1,"fas","fa-fw",3,"ngClass"],["aria-hidden","true",1,"far","fa-fw","fa-window-close"],[1,"fa","fa-upload","fa-fw"]],template:function(e,t){1&e&&(I.TgZ(0,"ol",0),I.TgZ(1,"li",1),I.TgZ(2,"a",2),I._uU(3,"Home"),I.qZA(),I.qZA(),I.TgZ(4,"li",1),I.TgZ(5,"a",2),I._uU(6,"Project List"),I.qZA(),I.qZA(),I.TgZ(7,"li",1),I.YNc(8,at,3,4,"a",3),I.qZA(),I.YNc(9,rt,5,6,"li",4),I.YNc(10,ot,2,0,"li",4),I.qZA(),I.TgZ(11,"div",5),I.TgZ(12,"h3",6),I._uU(13,"Data Files in the Project "),I.qZA(),I._UZ(14,"br"),I._UZ(15,"br"),I.YNc(16,lt,3,0,"div",7),I.YNc(17,st,22,4,"ng-container",7),I._UZ(18,"mat-divider",8),I.YNc(19,ci,49,23,"div",9),I.qZA(),I.YNc(20,xi,22,14,"div",10)),2&e&&(I.xp6(2),I.Q6J("routerLink",I.DdM(9,Fi)),I.xp6(3),I.Q6J("routerLink",I.DdM(10,Ti)),I.xp6(3),I.Q6J("ngIf",t.currentProject),I.xp6(1),I.Q6J("ngIf",t.currentProject),I.xp6(1),I.Q6J("ngIf",!t.currentProject),I.xp6(6),I.Q6J("ngIf",!t.currentProject),I.xp6(1),I.Q6J("ngIf",t.currentProject),I.xp6(2),I.Q6J("ngIf",t.currentProject),I.xp6(1),I.Q6J("ngIf",t.currentProject))},directives:[q.yS,l.O5,x.d,l.sg,v.NW,h.BZ,F.YE,h.w1,h.fO,h.Dz,h.as,h.nj,g.lW,f.Hw,L.KE,u.gD,m.oG,H.ey,h.ge,h.ev,F.nU,d.Nt,o.Fj,o.nD,o.JJ,o.On,g.zs,Z.gM,l.RF,l.n9,O.y,l.mk,h.XQ,h.Gk],pipes:[l.OU],styles:[".badge[_ngcontent-%COMP%]{margin:2px}.datafile-details[_ngcontent-%COMP%]{overflow:hidden;display:none}tr.datafile-detail-row[_ngcontent-%COMP%]{height:0;max-height:0px}[_nghost-%COMP%]     .mat-sort-header-container{display:flex;justify-content:center}"],data:{animation:[k.M,(0,Ge.X$)("detailExpand",[(0,Ge.SB)("collapsed",(0,Ge.oB)({height:"0px",minHeight:"0",display:"none"})),(0,Ge.SB)("expanded",(0,Ge.oB)({height:"*",display:"block"})),(0,Ge.eR)("expanded <=> collapsed",(0,Ge.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),t}(),canActivate:[We.P]},{path:":dataId/info",component:Xe,canActivate:[We.P]}]),bi=[],qi=r(98626),ki=function(){var e=function e(){i(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=I.oAB({type:e}),e.\u0275inj=I.cJS({providers:[bi],imports:[[o.u5,l.ez,d.c,g.ot,u.LD,c.Hi,f.Ps,s.Bb,x.t,p.dp,h.p0,Z.AV,m.p9,v.TU,F.JX,w.w,b.m,qi.w,T.T,wi]]}),e}()}}])}();