(self.webpackChunkbdp_client=self.webpackChunkbdp_client||[]).push([[592],{41103:function(e,n,t){"use strict";t.d(n,{Y:function(){return d},s:function(){return p}});var a=t(38583),s=t(37716);function o(e,n){1&e&&s._UZ(0,"div",9)}function i(e,n){if(1&e&&(s.TgZ(0,"span",10),s._uU(1),s.qZA()),2&e){const e=s.oxw().$implicit;s.xp6(1),s.Oqu(e.description)}}function c(e,n){if(1&e&&(s.TgZ(0,"section",11),s._UZ(1,"ngx-json-viewer",12),s.qZA()),2&e){const e=s.oxw().$implicit,n=s.oxw();s.xp6(1),s.Q6J("json",e.value)("expanded",n.expanded)("depth",n.depth)("_currentDepth",n._currentDepth)}}const r=function(e){return["segment",e]},g=function(e,n){return{"segment-main":!0,expandable:e,expanded:n}};function l(e,n){if(1&e){const e=s.EpF();s.TgZ(0,"section",2),s.TgZ(1,"section",3),s.NdJ("click",function(){const n=s.CHM(e).$implicit;return s.oxw().toggle(n)}),s.YNc(2,o,1,0,"div",4),s.TgZ(3,"span",5),s._uU(4),s.qZA(),s.TgZ(5,"span",6),s._uU(6,": "),s.qZA(),s.YNc(7,i,2,1,"span",7),s.qZA(),s.YNc(8,c,2,4,"section",8),s.qZA()}if(2&e){const e=n.$implicit,t=s.oxw();s.Q6J("ngClass",s.VKq(6,r,"segment-type-"+e.type)),s.xp6(1),s.Q6J("ngClass",s.WLB(8,g,t.isExpandable(e),e.expanded)),s.xp6(1),s.Q6J("ngIf",t.isExpandable(e)),s.xp6(2),s.Oqu(e.key),s.xp6(3),s.Q6J("ngIf",!e.expanded||!t.isExpandable(e)),s.xp6(1),s.Q6J("ngIf",e.expanded&&t.isExpandable(e))}}let d=(()=>{class e{constructor(){this.expanded=!0,this.depth=-1,this._currentDepth=-1,this.segments=[]}ngOnChanges(){this.segments=[],this.json=this.decycle(this.json),this._currentDepth++,"object"==typeof this.json?Object.keys(this.json).forEach(e=>{this.segments.push(this.parseKeyValue(e,this.json[e]))}):this.segments.push(this.parseKeyValue(`(${typeof this.json})`,this.json))}isExpandable(e){return"object"===e.type||"array"===e.type}toggle(e){this.isExpandable(e)&&(e.expanded=!e.expanded)}parseKeyValue(e,n){const t={key:e,value:n,type:void 0,description:""+n,expanded:this.isExpanded()};switch(typeof t.value){case"number":t.type="number";break;case"boolean":t.type="boolean";break;case"function":t.type="function";break;case"string":t.type="string",t.description='"'+t.value+'"';break;case"undefined":t.type="undefined",t.description="undefined";break;case"object":null===t.value?(t.type="null",t.description="null"):Array.isArray(t.value)?(t.type="array",t.description="Array["+t.value.length+"] "+JSON.stringify(t.value)):t.value instanceof Date?t.type="date":(t.type="object",t.description="Object "+JSON.stringify(t.value))}return t}isExpanded(){return this.expanded&&!(this.depth>-1&&this._currentDepth>=this.depth)}decycle(e){const n=new WeakMap;return function e(t,a){let s,o;return"object"!=typeof t||null===t||t instanceof Boolean||t instanceof Date||t instanceof Number||t instanceof RegExp||t instanceof String?t:(s=n.get(t),void 0!==s?{$ref:s}:(n.set(t,a),Array.isArray(t)?(o=[],t.forEach(function(n,t){o[t]=e(n,a+"["+t+"]")})):(o={},Object.keys(t).forEach(function(n){o[n]=e(t[n],a+"["+JSON.stringify(n)+"]")})),o))}(e,"$")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["ngx-json-viewer"]],inputs:{expanded:"expanded",depth:"depth",_currentDepth:"_currentDepth",json:"json"},features:[s.TTD],decls:2,vars:1,consts:[[1,"ngx-json-viewer"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[3,"ngClass","click"],["class","toggler",4,"ngIf"],[1,"segment-key"],[1,"segment-separator"],["class","segment-value",4,"ngIf"],["class","children",4,"ngIf"],[1,"toggler"],[1,"segment-value"],[1,"children"],[3,"json","expanded","depth","_currentDepth"]],template:function(e,n){1&e&&(s.TgZ(0,"section",0),s.YNc(1,l,9,11,"section",1),s.qZA()),2&e&&(s.xp6(1),s.Q6J("ngForOf",n.segments))},directives:[a.sg,a.mk,a.O5,e],styles:['@charset "UTF-8";.ngx-json-viewer[_ngcontent-%COMP%]{font-family:monospace;font-size:1em;height:100%;overflow:hidden;position:relative;width:100%}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]{margin:1px 1px 1px 12px;padding:2px}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]{word-wrap:break-word}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]{color:#787878;font-size:.8em;line-height:1.2em;margin-left:-14px;margin-top:3px;position:absolute;vertical-align:middle}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]:after{content:"\u25ba";display:inline-block;transition:transform .1s ease-in}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-key[_ngcontent-%COMP%]{color:#4e187c}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-separator[_ngcontent-%COMP%]{color:#999}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-value[_ngcontent-%COMP%]{color:#000}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .children[_ngcontent-%COMP%]{margin-left:12px}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-string[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:#ff6b6b}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-number[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:#009688}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-boolean[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:#b938a4}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-date[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:#05668d}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-array[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-function[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-object[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:#999}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-null[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:#fff}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-null[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{background-color:red}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-key[_ngcontent-%COMP%]{color:#999}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{background-color:#999}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-array[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-object[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%]{white-space:nowrap}.ngx-json-viewer[_ngcontent-%COMP%]   .expanded[_ngcontent-%COMP%] > .toggler[_ngcontent-%COMP%]:after{transform:rotate(90deg)}.ngx-json-viewer[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%] > .toggler[_ngcontent-%COMP%]{cursor:pointer}']}),e})(),p=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[a.ez]]}),e})()},96995:function(e,n,t){"use strict";t.d(n,{O:function(){return o}});var a=t(37716);const s=["preEl"];let o=(()=>{class e{constructor(e){}ngOnInit(){}ngOnChanges(e){if(this.preEl&&e.text){const e=this.preEl.nativeElement;setTimeout(()=>e.scrollTop=e.scrollHeight,1)}}}return e.\u0275fac=function(n){return new(n||e)(a.Y36(a.SBq))},e.\u0275cmp=a.Xpm({type:e,selectors:[["chi-terminal"]],viewQuery:function(e,n){if(1&e&&a.Gf(s,7),2&e){let e;a.iGM(e=a.CRH())&&(n.preEl=e.first)}},inputs:{text:"text"},features:[a.TTD],decls:3,vars:1,consts:[[1,"font-monospace"],["preEl",""]],template:function(e,n){1&e&&(a.TgZ(0,"pre",0,1),a._uU(2),a.qZA()),2&e&&(a.xp6(2),a.Oqu(n.text))},styles:["pre[_ngcontent-%COMP%]{font-size:10px;min-width:640px;max-height:600px;background-color:rgba(0,0,0,.7);color:#fff;padding:5px;white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word;overflow-wrap:break-word;word-break:break-all}"]}),e})()},49756:function(e,n,t){"use strict";t.d(n,{E:function(){return s}});var a=t(37716);let s=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({providers:[],imports:[[]]}),e})()},4696:function(e,n,t){"use strict";t.d(n,{A:function(){return x}});var a=t(37716),s=t(43037),o=t(58846),i=t(38583),c=t(93738),r=t(51095);function g(e,n){if(1&e&&(a.TgZ(0,"div",14),a._UZ(1,"i",15),a.qZA()),2&e){const e=a.oxw(2);a.xp6(1),a.Q6J("ngClass",e.checkBoxCSS())}}function l(e,n){if(1&e&&(a.TgZ(0,"span",16),a._uU(1),a.qZA()),2&e){const e=n.$implicit;a.xp6(1),a.hij(" ",e," ")}}function d(e,n){1&e&&(a.TgZ(0,"span",17),a._uU(1,"No description."),a.qZA())}function p(e,n){if(1&e&&(a.TgZ(0,"span",18),a._uU(1),a.qZA()),2&e){const e=a.oxw(2);a.xp6(1),a.Oqu(e.dataFile.desc.length>60?(null==e.dataFile.desc?null:e.dataFile.desc.slice(0,56))+" ...":e.dataFile.desc)}}function u(e,n){1&e&&(a.TgZ(0,"span",26),a._uU(1,"Read only"),a.qZA())}function f(e,n){if(1&e){const e=a.EpF();a.ynx(0),a.TgZ(1,"button",19),a.NdJ("click",function(){return a.CHM(e),a.oxw(2).gotoDataFile(!1)}),a._UZ(2,"i",20),a.qZA(),a.TgZ(3,"button",21),a.NdJ("click",function(){return a.CHM(e),a.oxw(2).gotoDataFile(!0)}),a._UZ(4,"i",22),a.qZA(),a.TgZ(5,"span",23),a._uU(6,"Status: "),a._UZ(7,"i",24),a.qZA(),a.YNc(8,u,2,0,"span",25),a.BQk()}if(2&e){const e=a.oxw(2);a.xp6(3),a.Q6J("disabled",null==e.dataFile?null:e.dataFile.readOnly),a.xp6(4),a.Q6J("ngClass",e.setStatusCSS(null==e.dataFile?null:e.dataFile.status)),a.xp6(1),a.Q6J("ngIf",null==e.dataFile?null:e.dataFile.readOnly)}}const m=function(e){return["/dataFile",e,"info"]};function h(e,n){if(1&e){const e=a.EpF();a.TgZ(0,"mat-card",1),a.NdJ("click",function(n){return a.CHM(e),a.oxw().toggleControls(n)}),a.TgZ(1,"mat-card-header"),a.YNc(2,g,2,1,"div",2),a.TgZ(3,"div",3),a._UZ(4,"i",4),a.qZA(),a.TgZ(5,"mat-card-title"),a.TgZ(6,"u",5),a._uU(7),a.qZA(),a.TgZ(8,"b",6),a._uU(9),a.qZA(),a.TgZ(10,"u",5),a._uU(11),a.qZA(),a.TgZ(12,"a",7),a._UZ(13,"span",8),a.qZA(),a.qZA(),a.qZA(),a.TgZ(14,"mat-card-content"),a.YNc(15,l,2,1,"span",9),a._UZ(16,"br"),a.YNc(17,d,2,0,"span",10),a.YNc(18,p,2,1,"span",11),a._UZ(19,"br"),a.qZA(),a.TgZ(20,"mat-card-actions"),a.YNc(21,f,9,3,"ng-container",12),a.qZA(),a.TgZ(22,"mat-card-footer"),a.TgZ(23,"small",13),a._uU(24),a.qZA(),a.qZA(),a.qZA()}if(2&e){const e=a.oxw();a.Udp("border",e.dataFile.hidden?"dashed 1px black":"solid 1px black")("cursor","checkBox"===e.role?"pointer":"default"),a.ekj("focus","checkBox && !disabled"==e.role&&e.checked)("blur",e.disabled||"checkBox"==e.role&&!e.checked)("datafile-card","checkBox"===e.role),a.xp6(2),a.Q6J("ngIf","checkBox"==e.role),a.xp6(2),a.Q6J("ngClass",e.fileTypeCSS()),a.xp6(3),a.Oqu(null==e.dataFile?null:e.dataFile.prefix),a.xp6(2),a.Oqu(null==e.dataFile?null:e.dataFile.name),a.xp6(2),a.Oqu(null==e.dataFile?null:e.dataFile.suffix),a.xp6(1),a.Q6J("routerLink",a.VKq(21,m,e.dataFile.id)),a.xp6(3),a.Q6J("ngForOf",null==e.dataFile?null:e.dataFile.tags),a.xp6(2),a.Q6J("ngIf",!e.dataFile.desc),a.xp6(1),a.Q6J("ngIf",e.dataFile.desc),a.xp6(3),a.Q6J("ngIf","checkBox"!==e.role),a.xp6(3),a.Oqu(null==e.dataFile||null==e.dataFile.createdAt?null:e.dataFile.createdAt.fromNow())}}let x=(()=>{class e{constructor(e,n){this.infoService=e,this.router=n,this.checked=!1,this.disabled=!1,this.onFocused=new a.vpe,this.dataFileCardState="normal",this.mode="normal",this._subs=[]}ngOnInit(){this._subs.push(this.infoService.incomingMessage$.subscribe(e=>{"26"===e.code&&e.attached&&this.dataFile&&e.attached.id===this.dataFile.id&&this.makeHighlight()}))}setStatusCSS(e){const n={"fa-circle-o-notch":!1,"fa-spin":!1,"fa-hourglass-half":!1,"fa-check":!1,"fa-times":!1,"fa-trash":!1};switch(e){case 0:n["fa-circle-o-notch"]=!0,n["fa-spin"]=!0;break;case 1:n["fa-check"]=!0;break;case 2:n["fa-hourglass-half"]=!0;break;case 3:n["fa-trash"]=!0;break;case 4:n["fa-times"]=!0}return n}makeHighlight(){clearTimeout(this.timer),this.dataFileCardState="highlight",setTimeout(()=>this.dataFileCardState="normal",800)}toggleControls(e){if(!this.disabled)return"checkBox"===this.role?(this.checked=!this.checked,void this.onFocused.emit(this.dataFile)):void this.onFocused.emit(this.dataFile)}fileTypeCSS(){const e={"fa-file":!1,"fa-folder":!1};if(!this.dataFile)return e;switch(this.dataFile.format){case"Folder":e["fa-folder"]=!0;break;default:e["fa-file"]=!0}return e}gotoDataFile(e){this.dataFile&&this.router.navigate(["/dataFile",this.dataFile.id,"info"],e?{queryParams:{edit:1}}:{})}checkBoxCSS(){const e={"fa-check-square":!1,"fa-square":!1,"text-success":!1};return this.checked?(e["fa-check-square"]=!0,e["text-success"]=!0):e["fa-square"]=!0,e}ngOnDestroy(){this._subs.forEach(e=>e.unsubscribe()),clearTimeout(this.timer)}}return e.\u0275fac=function(n){return new(n||e)(a.Y36(s.C),a.Y36(o.F0))},e.\u0275cmp=a.Xpm({type:e,selectors:[["datafile-card"]],inputs:{dataFile:"dataFile",role:"role",checked:"checked",disabled:"disabled"},outputs:{onFocused:"onFocused"},decls:1,vars:1,consts:[["style","width: 100%; min-height: 180px;",3,"focus","blur","border","cursor","datafile-card","click",4,"ngIf"],[2,"width","100%","min-height","180px",3,"click"],["style","position:absolute; top: 2px; right:0px;",4,"ngIf"],["mat-card-avatar",""],["aria-hidden","true",1,"fa","fa-fw","fa-2x","pull-left",3,"ngClass"],[1,"text-muted",2,"white-space","pre"],[2,"word-break","break-all"],["target","_blank",1,"link","ms-3",3,"routerLink"],[1,"fas","fa-external-link-alt"],["class","badge bg-primary","style","margin: 2px;",4,"ngFor","ngForOf"],["style","font-size: 8pt;",4,"ngIf"],["style","font-size: 8pt; text-indent: 24px;line-height: 90%;",4,"ngIf"],[4,"ngIf"],[2,"float","right"],[2,"position","absolute","top","2px","right","0px"],["aria-hidden","true",1,"far","fa-2x","fa-fw",3,"ngClass"],[1,"badge","bg-primary",2,"margin","2px"],[2,"font-size","8pt"],[2,"font-size","8pt","text-indent","24px","line-height","90%"],["mat-button","",3,"click"],[1,"fas","fa-file","fa-lg"],["mat-button","",3,"disabled","click"],[1,"fas","fa-pencil-alt","fa-lg"],[1,"clearfix",2,"position","absolute","bottom","0px","right","0px","font-size","8pt"],[1,"fa","fa-fw",3,"ngClass"],["class","text-muted pull-left","style","font-size:4pt",4,"ngIf"],[1,"text-muted","pull-left",2,"font-size","4pt"]],template:function(e,n){1&e&&a.YNc(0,h,25,23,"mat-card",0),2&e&&a.Q6J("ngIf",n.dataFile)},directives:[i.O5,c.a8,c.dk,c.kc,i.mk,c.n5,o.yS,c.dn,i.sg,c.hq,c.rt,r.lW],styles:[".focus[_ngcontent-%COMP%]{box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22);transition:all .3s cubic-bezier(.25,.8,.25,1);opacity:1}.blur[_ngcontent-%COMP%]{opacity:.5}button[_ngcontent-%COMP%]{min-width:.1%}.datafile-card[_ngcontent-%COMP%]:hover{box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22);background-color:#fff3cd}"]}),e})()}}]);